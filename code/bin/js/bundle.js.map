{
  "version": 3,
  "sources": ["../../src/3D/common/CameraMoveScript.ts", "../../src/Index.ts", "../../src/BaseScript.ts", "../../src/Entry.ts", "../../src/Main.generated.ts", "../../src/Main.ts", "../../src/2D/DOM/DOM_Form.ts", "../../src/2D/DOM/DOM_Video.ts", "../../src/2D/BlendMode/BlendMode_Lighter.ts", "../../src/2D/InputDevice/InputDevice_Compasss.ts", "../../src/2D/InputDevice/InputDevice_GluttonousSnake.ts", "../../src/2D/InputDevice/InputDevice_Map.ts", "../../src/2D/InputDevice/InputDevice_Shake.ts", "../../src/2D/Filters/Filters_Blur.ts", "../../src/2D/Filters/Filters_Color.ts", "../../src/2D/Filters/Filters_Glow.ts", "../../src/2D/Animation/Animation_Altas.ts", "../../src/2D/Animation/Animation_SWF.ts", "../../src/2D/Interaction/Interaction_CustomEvent.ts", "../../src/2D/Interaction/Interaction_Drag.ts", "../../src/2D/Interaction/Interaction_FixInteractiveRegion.ts", "../../src/2D/Interaction/Interaction_Hold.ts", "../../src/2D/Interaction/Interaction_Keyboard.ts", "../../src/2D/Interaction/Interaction_Mouse.ts", "../../src/2D/Interaction/Interaction_Rotate.ts", "../../src/2D/Interaction/Interaction_Scale.ts", "../../src/2D/Interaction/Interaction_Swipe.ts", "../../src/2D/Loader/Loader_ClearTextureRes.ts", "../../src/2D/Loader/Loader_MultipleType.ts", "../../src/2D/Loader/Loader_ProgressAndErrorHandle.ts", "../../src/2D/Loader/Loader_Sequence.ts", "../../src/2D/Loader/Loader_SingleType.ts", "../../src/2D/Network/Network_GET.ts", "../../src/2D/Network/Network_POST.ts", "../../src/2D/Network/Network_ProtocolBuffer.ts", "../../src/2D/Network/NetWork_Socket.ts", "../../src/2D/Network/Network_XML.ts", "../../src/2D/PerformanceTest/PerformanceTest_Cartoon.ts", "../../src/2D/PerformanceTest/PerformanceTest_Cartoon2.ts", "../../src/2D/PerformanceTest/PerformanceTest_Maggots.ts", "../../src/2D/PerformanceTest/PerformanceTest_Skeleton.ts", "../../src/2D/Physics/Physics_Bridge.ts", "../../src/2D/Physics/Physics_CollisionEvent.ts", "../../src/2D/Physics/Physics_CollisionFiltering.ts", "../../src/2D/Physics/Physics_Strandbeests.ts", "../../src/2D/Physics/Physics_Tumbler.ts", "../../src/2D/PIXI/PIXI_Example_1.ts", "../../src/2D/PIXI/PIXI_Example_2.ts", "../../src/2D/PIXI/PIXI_Example_3.ts", "../../src/2D/PIXI/PIXI_Example_4.ts", "../../src/2D/Sound/Sound_SimpleDemo.ts", "../../src/2D/Skeleton/Skeleton_ChangeSkin.ts", "../../src/2D/Skeleton/Skeleton_MultiTexture.ts", "../../src/2D/Skeleton/Skeleton_SpineAdapted.ts", "../../src/2D/Skeleton/Skeleton_SpineEvent.ts", "../../src/2D/Skeleton/Skeleton_SpineStretchyman.ts", "../../src/2D/Skeleton/Skeleton_SpineVine.ts", "../../src/2D/Sprite/Sprite_BinaryImage.ts", "../../src/2D/Sprite/Sprite_Cache.ts", "../../src/2D/Sprite/Sprite_Container.ts", "../../src/2D/Sprite/Sprite_DisplayImage.ts", "../../src/2D/Sprite/Sprite_DrawPath.ts", "../../src/2D/Sprite/Sprite_DrawShapes.ts", "../../src/2D/Sprite/Sprite_Guide.ts", "../../src/2D/Sprite/Sprite_MagnifyingGlass.ts", "../../src/2D/Sprite/Sprite_NodeControl.ts", "../../src/2D/Sprite/Sprite_Pivot.ts", "../../src/2D/Sprite/Sprite_RoateAndScale.ts", "../../src/2D/Sprite/Sprite_ScreenShot.ts", "../../src/2D/Sprite/Sprite_SwitchTexture.ts", "../../src/2D/Text/Text_AutoSize.ts", "../../src/2D/Text/Text_BitmapFont.ts", "../../src/2D/Text/Text_ComplexStyle.ts", "../../src/2D/Text/Text_Editable.ts", "../../src/2D/Text/Text_HTML.ts", "../../src/2D/Text/Text_InputMultiline.ts", "../../src/2D/Text/Text_InputSingleline.ts", "../../src/2D/Text/Text_MaxChars.ts", "../../src/2D/Text/Text_Overflow.ts", "../../src/2D/Text/Text_Restrict.ts", "../../src/2D/Text/Text_Scroll.ts", "../../src/2D/Text/Text_UBB.ts", "../../src/2D/Text/Text_Underline.ts", "../../src/2D/Text/Text_WordWrap.ts", "../../src/2D/TiledMap/TiledMap_AnimationTile.ts", "../../src/2D/TiledMap/TiledMap_IsometricWorld.ts", "../../src/2D/TiledMap/TiledMap_PerspectiveWall.ts", "../../src/2D/TiledMap/TiledMap_SimpleDemo.ts", "../../src/2D/Timer/Timer_CallLater.ts", "../../src/2D/Timer/Timer_DelayExcute.ts", "../../src/2D/Timer/Timer_Interval.ts", "../../src/2D/Tween/Tween_EaseFunctionsDemo.ts", "../../src/2D/Tween/Tween_Letters.ts", "../../src/2D/Tween/Tween_SimpleSample.ts", "../../src/2D/Tween/Tween_TimeLine.ts", "../../src/2D/UI/UI_Button.ts", "../../src/2D/UI/UI_CheckBox.ts", "../../src/2D/UI/UI_Clip.ts", "../../src/2D/UI/UI_ColorPicker.ts", "../../src/2D/UI/UI_ComboBox.ts", "../../src/2D/UI/UI_Dialog.ts", "../../src/2D/UI/UI_FontClip.ts", "../../src/2D/UI/UI_Image.ts", "../../src/2D/UI/UI_Input.ts", "../../src/2D/UI/UI_Label.ts", "../../src/2D/UI/UI_List.ts", "../../src/2D/UI/UI_Panel.ts", "../../src/2D/UI/UI_ProgressBar.ts", "../../src/2D/UI/UI_RadioGroup.ts", "../../src/2D/UI/UI_ScrollBar.ts", "../../src/2D/UI/UI_Slider.ts", "../../src/2D/UI/UI_Tab.ts", "../../src/2D/UI/UI_TextArea.ts", "../../src/2D/UI/UI_Tree.ts", "../../src/3D/Advance/CommandBufferDemo/GlassShader.vs", "../../src/3D/Advance/CommandBufferDemo/GlassShader.fs", "../../src/3D/Advance/CommandBufferDemo/GlassWithoutGrabMaterial.ts", "../../src/3D/Advance/BlurShader/Blur.vs", "../../src/3D/Advance/BlurShader/BlurHorizontal.fs", "../../src/3D/Advance/BlurShader/BlurVertical.fs", "../../src/3D/Advance/BlurShader/BlurDownSample.fs", "../../src/3D/Advance/BlurShader/BlurDownSample.vs", "../../src/3D/Advance/BlurShader/EdgeAdd.fs", "../../src/3D/Advance/BlurShader/EdgeSub.fs", "../../src/3D/Advance/BlurShader/BlurEffect.ts", "../../src/3D/Advance/BlurryGlass.ts", "../../src/3D/Advance/DepthNormalShader/DepthTextureTest.vs", "../../src/3D/Advance/DepthNormalShader/DepthTextureTest.fs", "../../src/3D/Advance/DepthNormalShader/DepthMaterial.ts", "../../src/3D/Advance/DepthNormalShader/DepthNormalsTextureTest.vs", "../../src/3D/Advance/DepthNormalShader/DepthNormalsTextureTest.fs", "../../src/3D/Advance/DepthNormalShader/DepthNormalsMaterial.ts", "../../src/3D/Advance/CameraDepthModeTextureDemo.ts", "../../src/3D/Advance/CameraInteraction.ts", "../../src/3D/Advance/DrawCustomInstanceDemo/customInstance.vs", "../../src/3D/Advance/DrawCustomInstanceDemo/customInstance.fs", "../../src/3D/Advance/DrawCustomInstanceDemo/CustomInstanceMaterial.ts", "../../src/3D/Advance/CommandBuffer_DrawCustomInstance.ts", "../../src/3D/Advance/CommandBuffer_Outline.ts", "../../src/3D/Advance/grassDemo/GrassCellInfo.ts", "../../src/3D/Advance/grassDemo/shader/GrassShaderVS.vs", "../../src/3D/Advance/grassDemo/shader/GrassShaderFS.fs", "../../src/3D/Advance/grassDemo/GrassMaterial.ts", "../../src/3D/Advance/grassDemo/GrassRender.ts", "../../src/3D/Advance/grassDemo/GrassRenderManager.ts", "../../src/3D/Advance/GrassDemo.ts", "../../src/3D/Advance/Laya3DCombineHtml.ts", "../../src/3D/Advance/ReflectionProbe.ts", "../../src/3D/Advance/Scene2DPlayer3D.ts", "../../src/3D/Advance/Secne3DPlayer2D.ts", "../../src/3D/Advance/SeparableSSSRender/shader/SeparableSSS_GasBlur.fs", "../../src/3D/Advance/SeparableSSSRender/shader/SeparableSSS_GasBlur.vs", "../../src/3D/Advance/SeparableSSSRender/Material/SeparableSSS_BlitMaterial.ts", "../../src/3D/Advance/SeparableSSSRender/shader/SeparableSSS_Render.vs", "../../src/3D/Advance/SeparableSSSRender/shader/SeparableSSS_Render.fs", "../../src/3D/Advance/SeparableSSSRender/Material/SeparableSSS_RenderMaterial.ts", "../../src/3D/Advance/SeparableSSS_RenderDemo.ts", "../../src/3D/Advance/showFont.ts", "../../src/3D/Advance/UI3D.ts", "../../src/3D/Advance/VideoPlayIn3DWorld.ts", "../../src/3D/Animation/AnimatorDemo.ts", "../../src/3D/Animation/AnimatorStateScriptDemo.ts", "../../src/3D/Animation/BoneLinkSprite3D.ts", "../../src/3D/Animation/CameraAnimation.ts", "../../src/3D/Animation/MaterialAnimation.ts", "../../src/3D/Animation/RigidbodyAnimationDemo.ts", "../../src/3D/Animation/SimpleSkinAnimationInstance.ts", "../../src/3D/Animation/SkeletonMask.ts", "../../src/3D/Camera/CameraDemo.ts", "../../src/3D/Camera/CameraLayer.ts", "../../src/3D/Camera/CameraLookAt.ts", "../../src/3D/Camera/CameraMSAADemo.ts", "../../src/3D/Camera/CameraRay.ts", "../../src/3D/Camera/D3SpaceToD2Space.ts", "../../src/3D/Camera/MultiCamera.ts", "../../src/3D/Camera/OrthographicCamera.ts", "../../src/3D/Camera/PickPixel.ts", "../../src/3D/Interaction/MouseInteraction.ts", "../../src/3D/Interaction/MultiTouch.ts", "../../src/3D/Light/DirectionLightDemo.ts", "../../src/3D/Light/MultiLight.ts", "../../src/3D/Light/PointLightDemo.ts", "../../src/3D/Light/RealTimeShadow.ts", "../../src/3D/Light/SpotLightDemo.ts", "../../src/3D/Light/SpotLightShadowMap.ts", "../../src/3D/Material/BlinnPhongMaterialLoad.ts", "../../src/3D/Material/BlinnPhong_DiffuseMap.ts", "../../src/3D/Material/BlinnPhong_NormalMap.ts", "../../src/3D/Material/BlinnPhong_SpecularMap.ts", "../../src/3D/Material/Blinnphong_Transmission.ts", "../../src/3D/Material/EffectMaterialDemo.ts", "../../src/3D/Material/MaterialDemo.ts", "../../src/3D/Material/PBRCoatMaterialDemo.ts", "../../src/3D/Material/PBRMaterialDemo.ts", "../../src/3D/Material/StencilDemo.ts", "../../src/3D/Material/UnlitMaterialDemo.ts", "../../src/3D/Mesh/BlendShape.ts", "../../src/3D/Mesh/ChangeMesh.ts", "../../src/3D/Mesh/CustomMesh.ts", "../../src/3D/Mesh/MeshLoad.ts", "../../src/3D/Particle/Particle_BurningGround.ts", "../../src/3D/Particle/Particle_EternalLight.ts", "../../src/3D/PerformanceTest/DynamicBatchTest.ts", "../../src/3D/PerformanceTest/StaticBatchingTest.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_BaseCollider.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_BuildingBlocks.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_Character.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_CollisionFiflter.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_CompoundCollider.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_ConfigurableJoint.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_ConstraintFixedJoint.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_ContinueCollisionDetection.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_Kinematic.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_MeshCollider.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_RayShapeCast.ts", "../../src/3D/PhysicsWorld/PhysicsWorld_TriggerAndCollisionEvent.ts", "../../src/3D/Resource/GarbageCollection.ts", "../../src/3D/Resource/LoadFbxRosource.ts", "../../src/3D/Resource/LoadGltfRosource.ts", "../../src/3D/Resource/LoadResourceDemo.ts", "../../src/3D/PostProcess/PostProcessAO.ts", "../../src/3D/PostProcess/PostProcessBloom.ts", "../../src/3D/PostProcess/PostProcessDoF.ts", "../../src/3D/PostProcess/BlurShader/Blur.vs", "../../src/3D/PostProcess/BlurShader/BlurHorizontal.fs", "../../src/3D/PostProcess/BlurShader/BlurVertical.fs", "../../src/3D/PostProcess/BlurShader/BlurDownSample.fs", "../../src/3D/PostProcess/BlurShader/BlurDownSample.vs", "../../src/3D/PostProcess/BlurShader/EdgeAdd.fs", "../../src/3D/PostProcess/BlurShader/EdgeSub.fs", "../../src/3D/PostProcess/PostProcess_Blur.ts", "../../src/3D/PostProcess/PostProcess_Edge/shader/EdgeEffectVS.vs", "../../src/3D/PostProcess/PostProcess_Edge/shader/EdgeEffectFS.fs", "../../src/3D/PostProcess/PostProcess_Edge.ts", "../../src/3D/Script/ScriptDemo.ts", "../../src/3D/Shader/Shader_GlowingEdge.ts", "../../src/3D/Shader/Shader_MultiplePassOutline.ts", "../../src/3D/Shader/Shader_Simple.ts", "../../src/3D/Scene3D/EnvironmentalReflection.ts", "../../src/3D/Scene3D/GriendSkyAmbientDemo.ts", "../../src/3D/Scene3D/LightmapScene.ts", "../../src/3D/Scene3D/SceneLoad1.ts", "../../src/3D/Sky/Sky_Procedural.ts", "../../src/3D/Sky/Sky_SkyBox.ts", "../../src/3D/Show/CerberusModelShow.ts", "../../src/3D/Show/DamagedHelmetModelShow.ts", "../../src/3D/Show/GunDemo.ts", "../../src/3D/Sprite3D/PixelLineSprite3DDemo.ts", "../../src/3D/Sprite3D/ScreenShot.ts", "../../src/3D/Sprite3D/SkinnedMeshSprite3DDemo.ts", "../../src/3D/Sprite3D/Sprite3DClone.ts", "../../src/3D/Sprite3D/Sprite3DParent.ts", "../../src/3D/Sprite3D/TransformDemo.ts", "../../src/3D/Texture/GPUCompression_ASTC.ts", "../../src/3D/Texture/GPUCompression_ETC2.ts", "../../src/3D/Texture/HalfFloatTexture.ts", "../../src/3D/Texture/TextureDemo.ts", "../../src/3D/Texture/TextureGPUCompression.ts", "../../src/3D/Trail/TrailRender.ts"],
  "sourcesContent": ["import Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\nimport InputManager = Laya.InputManager;\r\nimport Event = Laya.Event;\r\nimport BaseCamera = Laya.BaseCamera;\r\n/**\r\n * ...\r\n * @author\r\n */\r\nexport class CameraMoveScript extends Laya.Script {\r\n\r\n\t/** @private */\r\n\tprotected _tempVector3: Vector3 = new Vector3();\r\n\tprotected lastMouseX: number;\r\n\tprotected lastMouseY: number;\r\n\tprotected yawPitchRoll: Vector3 = new Vector3();\r\n\tprotected resultRotation: Quaternion = new Quaternion();\r\n\tprotected tempRotationZ: Quaternion = new Quaternion();\r\n\tprotected tempRotationX: Quaternion = new Quaternion();\r\n\tprotected tempRotationY: Quaternion = new Quaternion();\r\n\tprotected isMouseDown: boolean;\r\n\tprotected rotaionSpeed: number = 0.00006;\r\n\tprotected camera: BaseCamera;\r\n\tprotected scene: Scene3D;\r\n\r\n\tspeed: number = 0.0008;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\r\n\t}\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tprotected _updateRotation(): void {\r\n\t\tif (Math.abs(this.yawPitchRoll.y) < 1.50) {\r\n\t\t\tQuaternion.createFromYawPitchRoll(this.yawPitchRoll.x, this.yawPitchRoll.y, this.yawPitchRoll.z, this.tempRotationZ);\r\n\t\t\tthis.tempRotationZ.cloneTo(this.camera.transform.localRotation);\r\n\t\t\tthis.camera.transform.localRotation = this.camera.transform.localRotation;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc\r\n\t */\r\n\tonAwake(): void {\r\n\t\tLaya.stage.on(Event.RIGHT_MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.on(Event.RIGHT_MOUSE_UP, this, this.mouseUp);\r\n\t\tthis.camera = (<Camera>this.owner);\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc\r\n\t */\r\n\tonUpdate(): void {\r\n\t\tvar elapsedTime: number = Laya.timer.delta;\r\n\t\tif (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY) && this.isMouseDown) {\r\n\t\t\tvar scene = this.owner.scene;\r\n\t\t\tInputManager.hasKeyDown(87) && this.moveForward(-this.speed * elapsedTime);//W\r\n\t\t\tInputManager.hasKeyDown(83) && this.moveForward(this.speed * elapsedTime);//S\r\n\t\t\tInputManager.hasKeyDown(65) && this.moveRight(-this.speed * elapsedTime);//A\r\n\t\t\tInputManager.hasKeyDown(68) && this.moveRight(this.speed * elapsedTime);//D\r\n\t\t\tInputManager.hasKeyDown(81) && this.moveVertical(this.speed * elapsedTime);//Q\r\n\t\t\tInputManager.hasKeyDown(69) && this.moveVertical(-this.speed * elapsedTime);//E\r\n\r\n\t\t\tvar offsetX: number = Laya.stage.mouseX - this.lastMouseX;\r\n\t\t\tvar offsetY: number = Laya.stage.mouseY - this.lastMouseY;\r\n\r\n\t\t\tvar yprElem: Vector3 = this.yawPitchRoll;\r\n\t\t\typrElem.x -= offsetX * this.rotaionSpeed * elapsedTime;\r\n\t\t\typrElem.y -= offsetY * this.rotaionSpeed * elapsedTime;\r\n\t\t\tthis._updateRotation();\r\n\t\t}\r\n\t\tthis.lastMouseX = Laya.stage.mouseX;\r\n\t\tthis.lastMouseY = Laya.stage.mouseY;\r\n\t}\r\n\r\n\t/**\r\n\t * @inheritDoc\r\n\t */\r\n\tonDestroy(): void {\r\n\t\tLaya.stage.off(Event.RIGHT_MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.off(Event.RIGHT_MOUSE_UP, this, this.mouseUp);\r\n\t}\r\n\r\n\tprotected mouseDown(e: Event): void {\r\n\t\tthis.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);\r\n\r\n\t\tthis.lastMouseX = Laya.stage.mouseX;\r\n\t\tthis.lastMouseY = Laya.stage.mouseY;\r\n\t\tthis.isMouseDown = true;\r\n\t}\r\n\r\n\tprotected mouseUp(e: Event): void {\r\n\t\tthis.isMouseDown = false;\r\n\t}\r\n\r\n\tprotected mouseOut(e: Event): void {\r\n\t\tthis.isMouseDown = false;\r\n\t}\r\n\r\n\t/**\r\n\t * \u5411\u524D\u79FB\u52A8\u3002\r\n\t * @param distance \u79FB\u52A8\u8DDD\u79BB\u3002\r\n\t */\r\n\tmoveForward(distance: number): void {\r\n\t\tthis._tempVector3.x = this._tempVector3.y = 0;\r\n\t\tthis._tempVector3.z = distance;\r\n\t\tthis.camera.transform.translate(this._tempVector3);\r\n\t}\r\n\r\n\t/**\r\n\t * \u5411\u53F3\u79FB\u52A8\u3002\r\n\t * @param distance \u79FB\u52A8\u8DDD\u79BB\u3002\r\n\t */\r\n\tmoveRight(distance: number): void {\r\n\t\tthis._tempVector3.y = this._tempVector3.z = 0;\r\n\t\tthis._tempVector3.x = distance;\r\n\t\tthis.camera.transform.translate(this._tempVector3);\r\n\t}\r\n\r\n\t/**\r\n\t * \u5411\u4E0A\u79FB\u52A8\u3002\r\n\t * @param distance \u79FB\u52A8\u8DDD\u79BB\u3002\r\n\t */\r\n\tmoveVertical(distance: number): void {\r\n\t\tthis._tempVector3.x = this._tempVector3.z = 0;\r\n\t\tthis._tempVector3.y = distance;\r\n\t\tthis.camera.transform.translate(this._tempVector3, false);\r\n\t}\r\n\r\n}\r\n\r\n\r\n", "import Stat = Laya.Stat;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('b72c3382-c3da-44fd-a770-137f2eba8ca6', '../src/Index.ts')\r\nexport default class Index extends Laya.Script {\r\n\r\n\r\n    @property(Laya.Button)\r\n    private btn1: Laya.Button;\r\n    @property(Laya.Button)\r\n    private btn2: Laya.Button;\r\n    @property(Laya.Image)\r\n    private titleListBg1: Laya.Image;\r\n    @property(Laya.List)\r\n    private titleList1: Laya.List;\r\n    @property(Laya.List)\r\n    private contentList1: Laya.List;\r\n    @property(Laya.Panel)\r\n    private panel1: Laya.Panel;\r\n\r\n    @property(Laya.Image)\r\n    private titleListBg2: Laya.Image;\r\n    @property(Laya.List)\r\n    private titleList2: Laya.List;\r\n    @property(Laya.List)\r\n    private contentList2: Laya.List;\r\n    @property(Laya.Panel)\r\n    private panel2: Laya.Panel;\r\n\r\n\r\n    @property(Laya.Sprite)\r\n    private page: Laya.Sprite;\r\n    @property(Laya.Label)\r\n    private name: Laya.Label;\r\n    @property(Laya.Image)\r\n    private nameLine: Laya.Image;\r\n    @property(Laya.Button)\r\n    private codeButton: Laya.Button;\r\n    @property(Laya.Button)\r\n    private qrcodeButton: Laya.Button;\r\n    @property(Laya.Label)\r\n    private desc: Laya.Label;\r\n    @property(Laya.Image)\r\n    private rightImage: Laya.Image;\r\n    @property(Laya.Image)\r\n    private pageImage: Laya.Image;\r\n\r\n\r\n    public static curPage : Laya.Sprite;\r\n    public static pageWidth = 1124;\r\n    public static pageHeight = 456;\r\n    public static screenWidth = 0;\r\n    public static screenHeight = 0;\r\n    public static scaleWidth = 0;\r\n    public static scaleHeight = 0;\r\n    public static rt: Laya.RenderTexture;\r\n    private curSceneURl : string;\r\n    private curScene2D : Laya.Sprite;\r\n    private index_2d : number = 0;\r\n    private index_3d : number = 0;\r\n    private show_2d : boolean = true;\r\n    private show_3d : boolean = true;\r\n\r\n    private _json1: any;\r\n    private _json2: any;\r\n    private _titleCellSize : number = 30;\r\n    private _contentCellSize : number = 24;\r\n    private _totalTitleHeight1 : number = 0;\r\n    private _totalTitleHeight2 : number = 0;\r\n    private _contentSelectedIndexArr1 : Array<number> = new Array<number>();\r\n    private _contentSelectedIndexArr2 : Array<number> = new Array<number>();\r\n    private _cur2D3D = true;\r\n    private titleIndex : number = 0;\r\n    private contentIndex : number = 0;\r\n    private category : string = \"null\";\r\n    private group : number = 0;\r\n    private contentName : number = 0;\r\n\r\n    private _statPos : Laya.Point = null;\r\n    public static pagePos : Laya.Point = null;\r\n    public static isLandscape = true;\r\n\r\n    onResize():void {\r\n\r\n        console.log(\"Browser.clientWidth:\"+Laya.Browser.clientWidth + \"  Laya.stage.designWidth:\"+Laya.stage.designWidth);\r\n        console.log(\"Browser.clientHeight:\"+Laya.Browser.clientHeight + \"  Laya.stage.designHeight:\"+Laya.stage.designHeight);\r\n        console.log(\"Browser.pixelRatio:\"+Laya.Browser.pixelRatio);\r\n\r\n        if( Laya.Browser.clientWidth >  Laya.Browser.clientHeight )\r\n        {\r\n            Index.isLandscape = true;\r\n            //\u663E\u793A\u770B\u6E90\u7801\r\n            this.codeButton.visible = true;\r\n            this.qrcodeButton.visible = true;\r\n\r\n            let screenHeight = Laya.stage.designHeight;\r\n            let screenWidth = Laya.stage.designHeight * Laya.Browser.clientWidth / Laya.Browser.clientHeight;\r\n            Index.screenWidth = screenWidth;\r\n            Index.screenHeight = screenHeight;\r\n            \r\n            console.log(\"onResize >>\", \"[screenWidth:\" + screenWidth + \"] [screenHeight:\" + screenHeight + \"]\");\r\n    \r\n            if( screenWidth > 1440 )\r\n                screenWidth = 1440;\r\n            this.rightImage.width = screenWidth - 250 - 40;\r\n            \r\n            this.desc.width = this.rightImage.width;\r\n            console.log(\"this.rightImage.width:\"+this.rightImage.width);\r\n    \r\n            if( this.rightImage.width < 1138 )\r\n            {\r\n                this.pageImage.width = this.rightImage.width;\r\n                this.page.width = this.pageImage.width - 14;\r\n                this.page.height = this.page.width * Index.pageHeight / Index.pageWidth;\r\n            }\r\n            else\r\n            {\r\n                this.pageImage.width = 1138;\r\n                this.page.width = this.pageImage.width - 14;\r\n                this.page.height = this.page.width * Index.pageHeight / Index.pageWidth;\r\n            }\r\n    \r\n            if( this.curScene2D )\r\n            {\r\n                this.curScene2D.scale( this.page.width/Index.pageWidth , this.page.height/Index.pageHeight );\r\n            }\r\n    \r\n            this._statPos = this.pageImage.localToGlobal(new Laya.Point(0, 0), false); \r\n            Index.pagePos = this.page.localToGlobal(new Laya.Point(0, 0), false); \r\n        }\r\n        else\r\n        {\r\n            Index.isLandscape = false;\r\n            //\u7AD6\u5C4F\u624B\u673A\u6A21\u5F0F\u4E0D\u663E\u793A\u770B\u6E90\u7801\r\n            this.codeButton.visible = false;\r\n            this.qrcodeButton.visible = false;\r\n\r\n            let screenHeight = Laya.stage.designHeight;\r\n            let screenWidth = Laya.stage.designHeight * Laya.Browser.clientHeight / Laya.Browser.clientWidth;\r\n            \r\n            console.log(\"onResize >>\", \"[screenWidth:\" + screenWidth + \"] [screenHeight:\" + screenHeight + \"]\");\r\n    \r\n            if( screenWidth > 1440 )\r\n                screenWidth = 1440;\r\n            this.rightImage.width = screenWidth - 250 - 40;\r\n            \r\n            this.desc.width = this.rightImage.width;\r\n    \r\n            if( this.rightImage.width < 1138 )\r\n            {\r\n                this.pageImage.width = this.rightImage.width;\r\n                this.page.width = this.pageImage.width - 14;\r\n                this.page.height = this.page.width * Index.pageHeight / Index.pageWidth;\r\n            }\r\n            else\r\n            {\r\n                this.pageImage.width = 1138;\r\n                this.page.width = this.pageImage.width - 14;\r\n                this.page.height = this.page.width * Index.pageHeight / Index.pageWidth;\r\n            }\r\n    \r\n            if( this.curScene2D )\r\n            {\r\n                this.curScene2D.scale( this.page.width/Index.pageWidth , this.page.height/Index.pageHeight );\r\n            }\r\n    \r\n            this._statPos = this.pageImage.localToGlobal(new Laya.Point(0, 0), false); \r\n            Index.pagePos = this.page.localToGlobal(new Laya.Point(0, 0), false); \r\n        }\r\n\r\n        if( !this._cur2D3D )\r\n        {\r\n            Laya.Stat.hide();\r\n            this.showStat();\r\n        }\r\n\r\n        if(!Laya.Browser.onPC)\r\n        {\r\n            this.codeButton.visible = false;\r\n            this.qrcodeButton.visible = false;\r\n        }\r\n\r\n        Index.scaleWidth = this.page.width/Index.pageWidth;\r\n        Index.scaleHeight = this.page.height/Index.pageHeight;\r\n        console.log(\"onResize >>\", \"[scaleWidth:\" + Index.scaleWidth + \"] [scaleWidth:\" + Index.scaleHeight + \"]\");\r\n    }\r\n\r\n    showStat(): void {\r\n\r\n        //\u7AD6\u5C4F\u624B\u673A\u6A21\u5F0F\u4E0D\u663E\u793A\u7EDF\u8BA1\r\n        if( Index.isLandscape )\r\n        {\r\n            Laya.Stat.hide();\r\n            Laya.Stat.show(this._statPos.x*Laya.Browser.clientHeight/Laya.stage.designHeight*Laya.Browser.pixelRatio+20,this._statPos.y*Laya.Browser.clientHeight/Laya.stage.designHeight*Laya.Browser.pixelRatio+20, [Stat.FPSStatUIParams, Stat.NodeStatUIParams, Stat.Sprite3DStatUIParams, Stat.DrawCall, Stat.TriangleFace, Stat.RenderNode, Stat.SkinRenderNode, Stat.ParticleRenderNode\r\n                , Stat.FrustumCulling, Stat.GPUMemory, Stat.TextureMemeory, Stat.RenderTextureMemory, Stat.BufferMemory]);\r\n        }\r\n\r\n    }\r\n\r\n    onEnable(): void {\r\n        //\u624B\u673A\u4E0A\u4E0D\u80FD\u4F7F\u7528 R32G32B32A32\r\n        if(!Laya.LayaGL.renderEngine.getCapable(Laya.RenderCapable.RenderTextureFormat_R16G16B16A16))\r\n            Index.rt = new Laya.RenderTexture(Index.pageWidth*2, Index.pageHeight*2, Laya.RenderTargetFormat.R8G8B8A8, Laya.RenderTargetFormat.DEPTHSTENCIL_24_8, false , 4 );     \r\n        else\r\n            Index.rt = new Laya.RenderTexture(Index.pageWidth*2, Index.pageHeight*2, Laya.RenderTargetFormat.R16G16B16A16, Laya.RenderTargetFormat.DEPTHSTENCIL_24_8, false , 4 );     \r\n        Index.curPage = this.page;                   \r\n        // \u518D\u5C06\u79BB\u5C4F3D\u753B\u52302D\u8282\u70B9\u4E0A\uFF0C\u81F3\u6B64\uFF0C\u5C31\u5B8C\u6210\u628A3D\u753B\u52302D\u7684\u57FA\u7840\u6E32\u67D3\u6D41\u7A0B\r\n        Index.curPage.texture = new Laya.Texture(Index.rt);\r\n\r\n        this.setMousePointer();\r\n\r\n        \r\n\r\n        //\u7ED1\u5B9Alist\u6E32\u67D3\u5355\u5143\u5904\u7406\u65B9\u6CD5\uFF0C\u81EA\u5B9A\u4E49list\u7684\u6E32\u67D3\u5355\u5143\u6570\u636E\r\n        this.titleList1.mouseHandler = new Laya.Handler(this, this.onTitleMouseHandler1);\r\n        this.contentList1.renderHandler = new Laya.Handler(this, this.onContentListRender);\r\n        //\u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6\r\n        this.contentList1.mouseHandler = new Laya.Handler(this, this.onContentMouseHandler1);\r\n        //\u7ED1\u5B9Alist\u6E32\u67D3\u5355\u5143\u5904\u7406\u65B9\u6CD5\uFF0C\u81EA\u5B9A\u4E49list\u7684\u6E32\u67D3\u5355\u5143\u6570\u636E\r\n        this.titleList2.mouseHandler = new Laya.Handler(this, this.onTitleMouseHandler2);\r\n        this.contentList2.renderHandler = new Laya.Handler(this, this.onContentListRender);\r\n        //\u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6\r\n        this.contentList2.mouseHandler = new Laya.Handler(this, this.onContentMouseHandler2);\r\n\r\n        this._cur2D3D = true;\r\n        let start2D3D = true;\r\n        //\u5224\u65AD\u9ED8\u8BA4\u9009\u62E9\u7684\u53C2\u6570\r\n        this.category = (window as any).category;\r\n        if( this.category != \"null\" )\r\n        {\r\n            if( this.category == \"2D\" )\r\n            {\r\n                this._cur2D3D = false;\r\n                start2D3D = false;\r\n            }                \r\n            else if( this.category == \"3D\" )\r\n            {\r\n                this._cur2D3D = true;\r\n                start2D3D = true;\r\n            }        \r\n        }\r\n        this.group = Number((window as any).group);\r\n        if( isNaN(this.group) )\r\n        this.group = 0;\r\n\r\n        this.contentName = Number((window as any).name);\r\n        if( isNaN(this.contentName) )\r\n            this.contentName = 0;            \r\n\r\n        const jsonPath1: string = \"resources/json/2d.json\";\r\n        Laya.loader.load(jsonPath1).then((res) => {\r\n            //\u83B7\u53D6\u6A21\u62DFlist\u6570\u636E\u7684json\u6587\u4EF6\uFF0C\u6587\u4EF6\u8981\u63D0\u524D\u52A0\u8F7D\u597D\r\n            let _file = Laya.loader.getRes(jsonPath1);\r\n            this._json1 = _file.data.demoList;\r\n            this.initTitleList( this._json1, this.titleList1, true );\r\n            if( !start2D3D )\r\n                this.select2D(this.group);\r\n        });\r\n\r\n        const jsonPath2: string = \"resources/json/3d.json\";\r\n        Laya.loader.load(jsonPath2).then((res) => {\r\n            //\u83B7\u53D6\u6A21\u62DFlist\u6570\u636E\u7684json\u6587\u4EF6\uFF0C\u6587\u4EF6\u8981\u63D0\u524D\u52A0\u8F7D\u597D\r\n            let _file = Laya.loader.getRes(jsonPath2);\r\n            this._json2 = _file.data.demoList;\r\n            this.initTitleList( this._json2, this.titleList2, false );\r\n            if( start2D3D )\r\n                this.select3D(this.group);\r\n        });\r\n\r\n        Laya.stage.on(Laya.Event.RESIZE, this, this.onResize);\r\n\r\n        this.btn1.on(Laya.Event.CLICK, this, this.select2DFromButton);\r\n        this.btn2.on(Laya.Event.CLICK, this, this.select3DFromButton);\r\n        \r\n\r\n        \r\n        this.onResize();\r\n\r\n        this.codeButton.on(Laya.Event.CLICK, null, ()=>{\r\n\r\n            let type = this._cur2D3D==true?\"2D\":\"3D\";\r\n            let _json = null;\r\n            let index = 0;\r\n            let _contentSelectedIndexArr = null;\r\n            if( this._cur2D3D)\r\n            {\r\n                _json = this._json1;\r\n                index = this.index_2d;\r\n                _contentSelectedIndexArr = this._contentSelectedIndexArr1;\r\n            }\r\n            else\r\n            {\r\n                _json = this._json2;\r\n                index = this.index_3d;\r\n                _contentSelectedIndexArr = this._contentSelectedIndexArr2;\r\n            }\r\n            \r\n            (window as any).$.ajax( \"script/\"+ type +\"/\"+ _json[index].content[_contentSelectedIndexArr[index]].scene +\".ts\",\r\n                {\r\n                    dataType: \"text\",\r\n                    success: (code :any)=>{\r\n                        (window as any).$('#codeLayer').css('display','block'); \r\n                        (window as any).$('#fade').css('display','block');\r\n                        (window as any).editor.setValue(code);\r\n                        (window as any).editor.resize();\r\n                        (window as any).editor.moveCursorTo(0);\r\n                    },\r\n                    error: function()\r\n                    {\r\n                        console.log(arguments);\r\n                    }\r\n                });\r\n        });\r\n\r\n        this.qrcodeButton.on(Laya.Event.CLICK, null, ()=>{\r\n\r\n            (window as any).$('#qrcodeLayer').css('display','block'); \r\n\r\n            let url = Laya.Browser.window.location.href + \"?category=\"+(this._cur2D3D==true?\"2D\":\"3D\")+\"&group=\"+this.titleIndex+\"&name=\"+this.contentIndex;\r\n            console.log(url);\r\n            (window as any).$('#qrcodeTable').empty();\r\n            (window as any).$('#qrcodeTable').qrcode({\r\n                render  : \"table\",\r\n                text    : url\r\n            }); \r\n            (window as any).$('#fade').css('display','block');\r\n        });\r\n        \r\n    }\r\n\r\n    initTitleList( _json:any, list: Laya.List , d2d3 : boolean):void{\r\n\r\n        \r\n        if ( _json && _json.length > 0) {\r\n\r\n            let data: Array<any> = [];\r\n            for (let i: number = 0; i < _json.length; i++) {\r\n\r\n                //\u521D\u59CB\u5316\u6BCF\u4E2A\u5206\u7C7B\u7684\u9009\u62E9\u4E3A0\r\n                if( d2d3 ) \r\n                {\r\n                    this._contentSelectedIndexArr1[i] = 0;\r\n                    if( this.category == \"2D\" && this.group == i)\r\n                        this._contentSelectedIndexArr1[i] = this.contentName;\r\n                }                    \r\n                else\r\n                {\r\n                    this._contentSelectedIndexArr2[i] = 0;\r\n                    if( this.category == \"3D\" && this.group == i)\r\n                        this._contentSelectedIndexArr2[i] = this.contentName;\r\n                }\r\n                    \r\n                \r\n                data[i] = {};\r\n                data[i].title = { \"text\": _json[i].title };\r\n\r\n                data[i].num = { \"text\": _json[i].content.length};   \r\n            }\r\n\r\n            list.array = data;\r\n            list.repeatY = data.length;    \r\n            if( d2d3 )            \r\n                this._totalTitleHeight1 = this._titleCellSize * data.length;\r\n            else\r\n                this._totalTitleHeight2 = this._titleCellSize * data.length;\r\n\r\n            //\u4E0D\u8981\u6EDA\u52A8\u6761\u76AE\u80A4\r\n            list.vScrollBarSkin = \"\";\r\n        }\r\n    }\r\n\r\n    select2D( index:number = 0 ):void {\r\n\r\n        if( this._cur2D3D )\r\n            return;\r\n        \r\n        Index.rt = new Laya.RenderTexture(Index.pageWidth*2, Index.pageHeight*2, Laya.RenderTargetFormat.R16G16B16A16, Laya.RenderTargetFormat.DEPTHSTENCIL_24_8, false , 4 );     \r\n        Index.curPage.texture = new Laya.Texture(Index.rt);\r\n\r\n        Laya.Resource.destroyUnusedResources();\r\n        Laya.Scene.gc();\r\n\r\n        Laya.Stat.hide();\r\n        this.panel1.visible = true;\r\n        this.panel2.visible = false;\r\n        this._cur2D3D = true;\r\n        this.btn1.selected = true;\r\n        this.btn2.selected = false;\r\n        if( index == 0 )\r\n        {\r\n            this.showContentList(this.index_2d);\r\n        }            \r\n        else\r\n        {\r\n            this.index_2d = index;\r\n            this.titleIndex = index;\r\n            this.showContentList( index );\r\n        }\r\n            \r\n    }    \r\n\r\n    select2DFromButton():void {\r\n        this.select2D();\r\n    }\r\n\r\n    select3D( index:number = 0 ):void {\r\n        if( !this._cur2D3D )\r\n            return;\r\n            \r\n        this.showStat();\r\n        this.panel1.visible = false;\r\n        this.panel2.visible = true;\r\n        this._cur2D3D = false;\r\n        this.btn1.selected = false;\r\n        this.btn2.selected = true;\r\n        if( index == 0 )\r\n        {            \r\n            this.showContentList(this.index_3d);\r\n        }  \r\n        else\r\n        {\r\n            this.index_3d = index;\r\n            this.titleIndex = index;\r\n            this.showContentList( index );\r\n        }\r\n            \r\n    }  \r\n\r\n    select3DFromButton():void {\r\n        this.select3D();\r\n    }\r\n\r\n    showContentList(index: number):void {\r\n\r\n        let titleList = null;\r\n        let contentList = null;\r\n        let titleListBg = null;\r\n        let contentListBgHeight = 0;\r\n        let _totalTitleHeight = 0;\r\n        let _contentSelectedIndexArr = null;\r\n        let _json = null;\r\n        let show = false;\r\n        if( this._cur2D3D)\r\n        {\r\n            titleList = this.titleList1;\r\n            contentList = this.contentList1;\r\n            titleListBg = this.titleListBg1;\r\n            // contentListBg = this.contentListBg1;\r\n            _totalTitleHeight = this._totalTitleHeight1;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr1;\r\n            _json = this._json1;\r\n            show = this.show_2d;\r\n        }\r\n        else\r\n        {\r\n            titleList = this.titleList2;\r\n            contentList = this.contentList2;\r\n            titleListBg = this.titleListBg2;\r\n            // contentListBg = this.contentListBg2;\r\n            _totalTitleHeight = this._totalTitleHeight2;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr2;\r\n            _json = this._json2;\r\n            show = this.show_3d;\r\n        }\r\n            \r\n        let content = _json[index].content;\r\n\r\n        if ( content && content.length > 0 ) {\r\n            let data: Array<any> = [];\r\n            let len = content.length;\r\n            if( !show )\r\n                len = 0;\r\n            for (let i: number = 0; i < len; i++) {\r\n\r\n                data[i] = {};\r\n                \r\n                if( i == _contentSelectedIndexArr[index] )\r\n                {\r\n                    data[i].img = { \"visible\": true };\r\n                    data[i].name = { \"text\": content[i].name, \"color\": \"#ffffff\"};                    \r\n                }                    \r\n                else\r\n                {                    \r\n                    data[i].img = { \"visible\": false };\r\n                    data[i].name = { \"text\": content[i].name, \"color\": \"#717171\"};\r\n                }\r\n\r\n            }\r\n\r\n            contentList.array = data;\r\n            contentList.repeatY = data.length;\r\n            contentList.height = this._contentCellSize * data.length;\r\n\r\n            if( !show )\r\n            {\r\n                contentListBgHeight = contentList.height;\r\n                contentList.y = this._titleCellSize * (index+1);\r\n                contentList.y;\r\n            }\r\n            else\r\n            {\r\n                contentListBgHeight = contentList.height + 30;\r\n                contentList.y = this._titleCellSize * (index+1);\r\n                contentList.y += 15;\r\n            }\r\n\r\n            //\u4E0D\u8981\u6EDA\u52A8\u6761\u76AE\u80A4\r\n            contentList.vScrollBarSkin = \"\";\r\n\r\n            //titleList\u7684\u6574\u4F53\u9AD8\u5EA6\uFF0C\u7528\u6765\u8BA9panel\u53EF\u4EE5\u6ED1\u52A8\r\n            titleList.height = _totalTitleHeight + contentListBgHeight;\r\n            titleListBg.height = titleList.height + 10;\r\n        }\r\n\r\n        if( show )\r\n            this.showContent(_contentSelectedIndexArr[index]);\r\n\r\n        if( !show )\r\n            index = -1;\r\n        //\u79FB\u52A8 TitleList \u7684\u6BCF\u4E2Acell\u7684 y\r\n        for (let i: number = 0; i < _json.length; i++) {\r\n            let box = titleList.getCell(i);\r\n            if( i > index )\r\n            {\r\n                box.y = this._titleCellSize * i + contentListBgHeight;\r\n            }\r\n            else\r\n            {\r\n                box.y = this._titleCellSize * i;\r\n            }\r\n\r\n            //\u6539\u53D8\u7BAD\u5934\u7684\u65B9\u5411\r\n            let clip_arrow = (box.getChildByName(\"arrow\") as Laya.Clip);\r\n            i == index ? clip_arrow.index = 1: clip_arrow.index = 0;\r\n            let clip_select = (box.getChildByName(\"select\") as Laya.Clip);\r\n            i == index ? clip_select.index = 1: clip_select.index = 0;\r\n            let select_bg = (box.getChildByName(\"bg\") as Laya.Box);\r\n            i == index ? select_bg.visible = true: select_bg.visible = false;\r\n            let title = (box.getChildByName(\"title\") as Laya.Label);\r\n            i == index ? title.color = \"#2395db\": title.color = \"#000000\";\r\n        }        \r\n    }\r\n\r\n    showContent(index: number):void {\r\n\r\n        let contentList = null;\r\n        let _json = null;\r\n        let _contentSelectedIndexArr = null;\r\n        let type = \"\";\r\n        let _index = 0;\r\n        if( this._cur2D3D )\r\n        {\r\n            contentList = this.contentList1;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr1;\r\n            _json = this._json1;\r\n            type = \"2D\";\r\n            _index = this.index_2d;\r\n        }\r\n        else\r\n        {\r\n            contentList = this.contentList2;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr2;\r\n            _json = this._json2;\r\n            _index = this.index_3d;\r\n            type = \"3D\";\r\n        }\r\n\r\n        _contentSelectedIndexArr[_index] = index;\r\n        contentList.refresh();\r\n\r\n        let title = _json[_index].title; \r\n        let content = _json[_index].content[index]; \r\n\r\n        this.name.text = title + \"--\" + content.name;\r\n        this.desc.text = content.desc;\r\n        this.nameLine.width = this.getStrLength( this.name.text , this.name.fontSize);\r\n\r\n        if( this.curSceneURl == \"resources/scene/3D/Camera/CameraMSAADemo.ls\" )\r\n        {\r\n            Index.curPage.texture = new Laya.Texture(Index.rt);\r\n        }\r\n        \r\n        Laya.Scene.close(this.curSceneURl);\r\n        Laya.Scene.destroy(this.curSceneURl);\r\n        this.page.destroyChildren();\r\n\r\n        \r\n        let path = \"resources/scene/\"+type+\"/\"+content.scene+\".ls\";\r\n        console.log(\"open \"+content.scene);\r\n\r\n        if( Laya.Browser._isMiniGame && content.minigame != undefined && !content.minigame )\r\n            path = \"resources/scene/Error.ls\";\r\n\r\n        Laya.Scene.open(path, false).then( ( scene )=>{\r\n\r\n            this.curSceneURl = path;\r\n            this.curScene2D = scene;\r\n\r\n\r\n            this.page.addChild( scene );\r\n            if( this.curScene2D )\r\n            {\r\n                this.curScene2D.scale( this.page.width/Index.pageWidth , this.page.height/Index.pageHeight );\r\n            }\r\n            \r\n        } );\r\n    }\r\n\r\n    /** \u5217\u8868\u5355\u5143\u7684\u6E32\u67D3\u5904\u7406 */\r\n    onContentListRender(item: Laya.Box, index: number): void {\r\n\r\n        let titleList = null;\r\n        let _contentSelectedIndexArr = null;\r\n        let _index : number = 0;\r\n        if( this._cur2D3D )\r\n        {\r\n            titleList = this.titleList1;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr1;\r\n            _index = this.index_2d;\r\n        }\r\n        else\r\n        {\r\n            titleList = this.titleList2;\r\n            _contentSelectedIndexArr = this._contentSelectedIndexArr2;\r\n            _index = this.index_3d;\r\n        }\r\n\r\n        //\u5982\u679C\u5F53\u524D\u7D22\u5F15\u4E0D\u5728\u6570\u636E\u6E90\u53EF\u7D22\u5F15\u8303\u56F4\uFF0C\u5219\u8DF3\u51FA\r\n        if (index > titleList.array.length || index < 0) return;\r\n        let img = item.getChildByName(\"img\") as Laya.Image;\r\n        let name = item.getChildByName(\"name\") as Laya.Label;\r\n        if( index == _contentSelectedIndexArr[_index] )\r\n        {\r\n            img.visible = true;\r\n            img.width = (name.x - img.x) * 2 + this.getStrLength( name.text , name.fontSize );\r\n            name.color = \"#ffffff\";                    \r\n        }                    \r\n        else\r\n        {      \r\n            img.visible = false;\r\n            name.color = \"#000000\";                            \r\n        }        \r\n    }\r\n\r\n    /** \u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6 */\r\n    onTitleMouseHandler1(e: Laya.Event, index: number): void {\r\n        if (e.type != Laya.Event.CLICK) \r\n            return;\r\n        if( index == this.index_2d && this.show_2d )\r\n            this.show_2d = false;\r\n        else\r\n        {\r\n            this.index_2d = index;\r\n            this.show_2d = true;\r\n        }\r\n            \r\n        this.titleIndex = index;\r\n        this.showContentList( index );\r\n\r\n    }\r\n\r\n    /** \u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6 */\r\n    onTitleMouseHandler2(e: Laya.Event, index: number): void {\r\n        if (e.type != Laya.Event.CLICK) \r\n            return;\r\n        if( index == this.index_3d && this.show_3d )\r\n            this.show_3d = false;\r\n        else\r\n        {\r\n            this.index_3d = index;\r\n            this.show_3d = true;\r\n        }\r\n       \r\n        this.titleIndex = index;\r\n        this.showContentList( index );\r\n\r\n    }\r\n\r\n    /** \u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6 */\r\n    onContentMouseHandler1(e: Laya.Event, index: number): void {\r\n\r\n        if (e.type != Laya.Event.CLICK) \r\n            return;\r\n        this._contentSelectedIndexArr1[this.index_2d] = index;\r\n        this.contentIndex = index;\r\n        this.showContentList( this.index_2d );\r\n    }\r\n\r\n    /** \u7ED1\u5B9Alist\u7684\u9F20\u6807\u70B9\u51FB\u4E8B\u4EF6 */\r\n    onContentMouseHandler2(e: Laya.Event, index: number): void {\r\n        if (e.type != Laya.Event.CLICK) \r\n            return;\r\n        this._contentSelectedIndexArr2[this.index_3d] = index;\r\n        this.contentIndex = index;\r\n        this.showContentList( this.index_3d );\r\n    }\r\n\r\n    getStrLength(str:string, fontSize: number): number{\r\n\r\n        var width = 0;\r\n        for (var i = 0; i < str.length; i++) {\r\n            if (str.charCodeAt(i) > 127 || str.charCodeAt(i) == 94) {\r\n                width += fontSize;\r\n            } else {\r\n                width += (fontSize/2 + 2);\r\n            }\r\n        }\r\n        return width+2;\r\n    }\r\n\r\n    setMousePointer(): void{\r\n        //\u9F20\u6807\u53D8\u6210\u5C0F\u624B\r\n        this.btn1.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.btn1.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.btn2.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.btn2.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.codeButton.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.codeButton.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.qrcodeButton.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.qrcodeButton.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.titleList1.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.titleList1.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.titleList2.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.titleList2.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.contentList1.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.contentList1.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n        this.contentList2.on(Laya.Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this.contentList2.on(Laya.Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n    }\r\n\r\n}", "import { CameraMoveScript } from \"./3D/common/CameraMoveScript\";\r\nimport Index from \"./Index\";\r\nimport Stat = Laya.Stat;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('f999a6b2-716f-4ca7-8e71-6d093654e431', '../src/BaseScript.ts')\r\nexport class BaseScript extends Laya.Script {\r\n\r\n    public box2D: Laya.Box;\r\n\r\n    public pageWidth: number;\r\n    public pageHeight: number;\r\n\r\n    private _button: Button;\r\n    private _buttonType: number;\r\n\r\n    constructor() {\r\n        super();\r\n\r\n        \r\n\r\n        this.pageWidth = Laya.stage.designHeight * Laya.Browser.clientWidth / Laya.Browser.clientHeight;\r\n        this.pageHeight = Laya.stage.designHeight;\r\n        if( Index.curPage )\r\n        {\r\n            this.pageWidth = Index.pageWidth;\r\n            this.pageHeight = Index.pageHeight;\r\n        }\r\n        // console.log(\"Browser.clientWidth:\"+Laya.Browser.clientWidth + \"  Laya.stage.designWidth:\"+Laya.stage.designWidth);\r\n        // console.log(\"Browser.clientHeight:\"+Laya.Browser.clientHeight + \"  Laya.stage.designHeight:\"+Laya.stage.designHeight);\r\n        // console.log(\">>\", \"[screenWidth:\" + this.pageWidth + \"] [screenHeight:\" + this.pageHeight + \"]\");\r\n    }\r\n\r\n    /**\r\n     * \u7EC4\u4EF6\u88AB\u6FC0\u6D3B\u540E\u6267\u884C\uFF0C\u6B64\u65F6\u6240\u6709\u8282\u70B9\u548C\u7EC4\u4EF6\u5747\u5DF2\u521B\u5EFA\u5B8C\u6BD5\uFF0C\u6B64\u65B9\u6CD5\u53EA\u6267\u884C\u4E00\u6B21\r\n     */\r\n    base(camera : Laya.Camera = null, moveCamera: boolean = true, spec: boolean = false): void {\r\n\r\n        \r\n        this.box2D = this.owner as Laya.Panel;\r\n        this.box2D.bgColor = \"#232628\";\r\n        if(Index && Index.curPage && camera )\r\n        {\r\n            if( moveCamera )\r\n            {                \r\n                camera.addComponent(CameraMoveScript);                \r\n            }                \r\n\r\n            if( !spec )\r\n            {\r\n                //\u628A3D\u6444\u50CF\u673A\u89C6\u56FE\u753B\u5230256\u5BBD\u9AD8\u7684\u7EB9\u7406\u4E0A\r\n                camera.msaa = true;\r\n                camera.renderTarget = Index.rt;\r\n            }\r\n\r\n        }\r\n        else if (camera )\r\n        {\r\n            if( moveCamera )\r\n            {                \r\n                camera.addComponent(CameraMoveScript);                \r\n            }   \r\n            Laya.Stat.show(0,0, [Stat.FPSStatUIParams, Stat.NodeStatUIParams, Stat.Sprite3DStatUIParams, Stat.DrawCall, Stat.TriangleFace, Stat.RenderNode, Stat.SkinRenderNode, Stat.ParticleRenderNode\r\n                , Stat.FrustumCulling, Stat.GPUMemory, Stat.TextureMemeory, Stat.RenderTextureMemory, Stat.BufferMemory, Stat.BufferMemory]);            \r\n        }\r\n\r\n    }\r\n\r\n    public setCameraDirectionLight( camera: Camera, directionLight: DirectionLight, fieldOfView : number = 60): void {\r\n\r\n\t\tcamera.transform.position = new Vector3(0, 2, 3);\r\n\t\tcamera.transform.rotationEuler = new Vector3(-30, 0, 0);\r\n\t\tcamera.useOcclusionCulling = false;\r\n\t\t//\u8BBE\u7F6E\u6444\u50CF\u673A\u89C6\u91CE\u8303\u56F4\uFF08\u89D2\u5EA6\uFF09\r\n\t\tcamera.fieldOfView = fieldOfView;\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u989C\u8272\r\n\t\tdirectionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\r\n    }\r\n\r\n    public addBottomButton( buttonNames: string[], caller: any, func: Function[] ): void {\r\n \r\n        this._buttonType = 0;\r\n        this._button = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", buttonNames[0])));\r\n        this._button.size(150, 40);\r\n        this._button.labelSize = 16;\r\n        this._button.sizeGrid = \"21,83,22,76\";\r\n        this._button.stateNum = 1;\r\n        this._button.labelColors = \"#ffffff\";\r\n        this._button.pos(this.pageWidth / 2 - this._button.width/2, this.pageHeight - 50);\r\n        this._button.on(Event.CLICK, this, ()=>{\r\n            this._buttonType++;\r\n            \r\n            // \u6309\u94AE2\u6B21\u5207\u6362\r\n            if( buttonNames.length == 2 ) {\r\n                this._buttonType %= 2;\r\n                switch (this._buttonType) {\r\n                    case 0:\r\n                        this._button.label = buttonNames[0];\r\n                        func[1].apply( caller );\r\n                        break;\r\n                    case 1:\r\n                        this._button.label = buttonNames[1];\r\n                        func[0].apply( caller );\r\n                        break;\r\n                }\r\n            }\r\n                \r\n            // \u6309\u94AE3\u6B21\u5207\u6362\r\n            else if( buttonNames.length == 3 ) {\r\n                this._buttonType %= 3;\r\n                switch (this._buttonType) {\r\n                    case 0:\r\n                        this._button.label = buttonNames[0];\r\n                        func[2].apply( caller );\r\n                        break;\r\n                    case 1:\r\n                        this._button.label = buttonNames[1];\r\n                        func[0].apply( caller );\r\n                        break;\r\n                    case 2:\r\n                        this._button.label = buttonNames[2];\r\n                        func[1].apply( caller );\r\n                        break;                        \r\n                }\r\n            }\r\n                \r\n        });\r\n\r\n        this._button.on(Event.MOUSE_OVER, null, ()=>{\r\n            Laya.Mouse.cursor = \"pointer\";\r\n        });\r\n        this._button.on(Event.MOUSE_OUT, null, ()=>{\r\n            Laya.Mouse.cursor = \"default\";\r\n        });\r\n\t}\r\n\r\n \r\n}", "const { regClass, property } = Laya;\r\n\r\n@regClass('23e5e57f-b2e1-4ca5-ad0b-9946e7c0a0ee', '../src/Entry.ts')\r\nexport class entry extends Laya.Script {\r\n    onEnable(): void {\r\n        Laya.URL.basePath = \"http://10.10.20.24:9232/\";\r\n\r\n        Laya.loader.loadPackage(\"\", null, null).then(() => {\r\n            let DDPath = \"resources/json/2d.json\";\r\n            let DDDPath = \"resources/json/3d.json\";\r\n            // \u5927\u5206\u7EC4\r\n            let Big_cb = new Laya.ComboBox();\r\n            let sp = new Laya.Sprite();\r\n            sp.zOrder = 99999;\r\n            sp.addChild(Big_cb);\r\n            Laya.stage.addChild(sp);\r\n            let big_labs = '';\r\n            Big_cb.skin = \"resources/res/ui/combobox.png\";\r\n            Big_cb.itemHeight = 20;\r\n            Big_cb.size(170, 40);\r\n            Big_cb.left = 90;\r\n            Big_cb.top = 580;\r\n            Big_cb.itemColors = \"#394f55\";\r\n            Big_cb.labels = big_labs;\r\n            Big_cb.scrollType = Laya.ScrollType.Vertical;\r\n\r\n\r\n            // \u53F3\u4FA7\u5C0F\u5206\u7EC4\r\n            let Small_cb = new Laya.ComboBox();\r\n            sp.addChild(Small_cb);\r\n            let small_labs = '';\r\n            Small_cb.skin = \"resources/res/ui/combobox.png\";\r\n            Small_cb.itemHeight = 20;\r\n            Small_cb.left = 320;\r\n            Small_cb.top = 580;\r\n            Small_cb.size(170, 40);\r\n            Small_cb.labels = small_labs;\r\n            Small_cb.scrollType = Laya.ScrollType.Vertical;\r\n\r\n            // \u5207\u6362\u4E0B\u4E00\u4E2A\u573A\u666F\u7684\u6309\u94AE\r\n            let bt = new Laya.Button();\r\n            sp.addChild(bt);\r\n            let bt_label = \"\u4E0B\u4E00\u4E2A\"\r\n            bt.skin = \"resources/res/ui/combobox.png\"\r\n            bt.left = 550;\r\n            bt.top = 580;\r\n            bt.size(170, 40);\r\n            bt.label = bt_label;\r\n\r\n            Laya.loader.load([DDPath, DDDPath], Laya.Loader.JSON).then(() => {\r\n                let DD: DemoStruct = Laya.loader.getRes(DDPath).data;\r\n                let DDD: DemoStruct = Laya.loader.getRes(DDDPath).data;\r\n\r\n\r\n                let destoryLastScene = () => {\r\n                    // let scene = Laya.stage.getChildAt(0);\r\n                    // scene && scene.destroy();\r\n\r\n\r\n                    Laya.Scene.unDestroyedScenes.forEach(item => {\r\n                        item.destroy();\r\n                    })\r\n                }\r\n\r\n\r\n                let showDemo = (resource: any, resPath: any) => {\r\n\r\n                    DD = resource;\r\n\r\n                    let Demo_2D = <any>{};\r\n                    let Demo_2D_Name = <any>[];\r\n                    let Demo_3D = <any>{};\r\n                    let Demo_3D_Name = <any>[];\r\n\r\n                    for (let i = 0, j = DD.demoList.length; i < j; i++) {\r\n                        let singleArray = DD.demoList[i].content;\r\n                        Demo_2D[i] = [];\r\n                        Demo_2D_Name[i] = DD.demoList[i].title;\r\n                        for (let x = 0, y = singleArray.length; x < y; x++) {\r\n                            Demo_2D[i][x] = singleArray[x];\r\n                        }\r\n                    }\r\n\r\n                    for (let i = 0, j = DDD.demoList.length; i < j; i++) {\r\n                        let singleArray = DDD.demoList[i].content;\r\n                        Demo_3D[i] = [];\r\n                        Demo_3D_Name[i] = DDD.demoList[i].title;\r\n                        for (let x = 0, y = singleArray.length; x < y; x++) {\r\n                            Demo_3D[i][x] = singleArray[x];\r\n                        }\r\n                    }\r\n\r\n\r\n\r\n                    let index_2D = 0;   // 2D \u793A\u4F8B\u5927\u5206\u7EC4\u4E0B\u6807\r\n                    let index_index_2D = 0; // 2D\u793A\u4F8B\u5206\u7EC4\u5185\u4E0B\u6807\r\n                    let index_3D = 0;   // 3D\u793A\u4F8B\u5927\u5206\u7EC4\u4E0B\u6807\r\n                    let index_index_3D = 0; // 3D\u793A\u4F8B\u5206\u7EC4\u5185\u4E0B\u6807\r\n\r\n                    // Demo_2D[index_2D]\r\n\r\n                    Demo_2D_Name.forEach((item: any) => {\r\n                        big_labs += item + ',';\r\n                    })\r\n                    big_labs = big_labs.substring(0, big_labs.lastIndexOf(','));\r\n\r\n\r\n                    Big_cb.labels = big_labs;\r\n                    Big_cb.defaultLabel = Demo_2D_Name[0];\r\n\r\n\r\n                    for (let item of Demo_2D[index_2D]) {\r\n                        small_labs += item.name + ',';\r\n                    }\r\n                    small_labs = small_labs.substring(0, small_labs.lastIndexOf(','));\r\n\r\n\r\n                    Small_cb.labels = small_labs;\r\n                    Small_cb.defaultLabel = Demo_2D[index_2D][index_index_2D].name;\r\n\r\n\r\n                    for (let item of Demo_2D[index_2D]) {\r\n                        small_labs += item.name + ',';\r\n                    }\r\n                    // bt_label = bt_label.substring(0, bt_label.lastIndexOf(','));\r\n\r\n\r\n\r\n                    // bt.label = Demo_2D[index_2D][index_index_2D].name;\r\n\r\n\r\n                    let SmallScene = resPath + Demo_2D[index_2D][index_index_2D].scene + \".ls\";\r\n                    Laya.Scene.open(SmallScene);\r\n\r\n                    function Bigonselect(index: number): void {\r\n                        if (index == -1) return;\r\n                        small_labs = '';\r\n                        index_2D = index;\r\n                        let _limitBig = Demo_2D.length;\r\n                        if (index_2D + 1 >= _limitBig) {\r\n                            index_2D = 0;\r\n                        }\r\n                        Big_cb.defaultLabel = Demo_2D_Name[index_2D];\r\n                        let BigScene = resPath + Demo_2D[index_2D][0].scene + \".ls\";\r\n\r\n                        for (let item of Demo_2D[index_2D]) {\r\n                            small_labs += item.name + ','\r\n                        }\r\n                        small_labs = small_labs.substring(0, small_labs.lastIndexOf(','));\r\n\r\n                        Small_cb.labels = small_labs;\r\n                        Small_cb.defaultLabel = Demo_2D[index_2D][0].name;\r\n                        // debugger;\r\n                        destoryLastScene();\r\n                        Laya.Scene.open(BigScene);\r\n\r\n                    }\r\n\r\n\r\n                    function Smallonselect(index: number): void {\r\n                        if (index == -1) return;\r\n                        index_index_2D = index - 1;\r\n                        let _limit = Demo_2D[index_2D].length;\r\n                        let _limitBig = Demo_2D.length;\r\n                        if (index_2D + 1 >= _limitBig) {\r\n                            index_2D = 0;\r\n                        }\r\n\r\n                        if (index_index_2D + 1 >= _limit) {\r\n                            index_index_2D = 0;\r\n                            index_2D++;\r\n                        } else {\r\n                            index_index_2D++;\r\n                        }\r\n\r\n                        Small_cb.defaultLabel = Demo_2D[index_2D][index_index_2D].name;\r\n                        let SmallScene = resPath + Demo_2D[index_2D][index_index_2D].scene + \".ls\";\r\n                        let Scenename = Demo_2D[index_2D][index_index_2D].name;\r\n                        destoryLastScene();\r\n                        Laya.Scene.open(SmallScene);\r\n                        console.log(\"\u6253\u5F00\" + Scenename);\r\n\r\n                    }\r\n\r\n\r\n                    function Btonselect(): void {\r\n                        let _limit = Demo_2D[index_2D].length;\r\n                        let _limitBig = Demo_2D.length;\r\n                        if (index_2D + 1 >= _limitBig) {\r\n                            index_2D = 0;\r\n                        }\r\n\r\n                        if (index_index_2D + 1 >= _limit) {\r\n                            index_index_2D = 0;\r\n                            index_2D++;\r\n                            Bigonselect(index_2D);\r\n                        } else {\r\n                            index_index_2D++;\r\n                        }\r\n\r\n                        // bt.label = Demo_2D[index_2D][index_index_2D].name;\r\n                        let SmallScene = resPath + Demo_2D[index_2D][index_index_2D].scene + \".ls\";\r\n                        let Scenename = Demo_2D[index_2D][index_index_2D].name;\r\n                        destoryLastScene();\r\n                        Laya.Scene.open(SmallScene);\r\n                        Small_cb.defaultLabel = Scenename;\r\n                        console.log(\"\u6253\u5F00\" + Scenename);\r\n\r\n                    }\r\n\r\n\r\n                    Big_cb.selectHandler = new Laya.Handler(this, Bigonselect);\r\n                    Small_cb.selectHandler = new Laya.Handler(this, Smallonselect);\r\n                    bt.clickHandler = new Laya.Handler(this, Btonselect)\r\n                }\r\n\r\n\r\n\r\n                showDemo(DDD, \"resources/scene/3D/\");\r\n                // showDemo(DD, \"resources/scene/2D/\");\r\n                // Demo_3D[index_3D]\r\n            });\r\n\r\n        });\r\n    }\r\n}\r\n\r\n\r\nclass demmoItem {\r\n    content: [\r\n        {\r\n            desc: string,\r\n            name: string,\r\n            scene: string,\r\n        }\r\n    ];\r\n    title: string;\r\n}\r\n\r\nclass DemoStruct {\r\n\r\n    demoList: [demmoItem];\r\n}", "/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */\r\n\r\n\r\n/**\r\n * Loading.ls\r\n */\r\nexport class MainBase extends Laya.Scene {\r\n    public loadingBar!: Laya.ProgressBar;\r\n}\r\n\r\n", "Laya.LayaEnv.beforeInit = function(config: Laya.IStageConfig) {\r\n    //\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u5728Laya.init\u524D\u8C03\u7528\r\n    console.log(\"before init from Main\");\r\n    //\u8FD9\u91CC\u53EF\u4EE5\u5BF9config\u4EE5\u53CALaya.Config\u3001Laya.Config3D\u8FDB\u884C\u81EA\u5B9A\u4E49\u7684\u4FEE\u6539\r\n    Laya.Config.preserveDrawingBuffer =true;\r\n    Laya.Config.isAlpha =true; \r\n    Laya.Config.useWebGL2 = false;\r\n}\r\n\r\nimport { MainBase } from \"./Main.generated\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ad3cf108-21a0-4a90-9e86-6a401327d722', '../src/Main.ts')\r\nexport class Main extends MainBase {\r\n\r\n    // \u8FDB\u5165\u7B2C\u4E00\u4E2Aloading\u540E\uFF0C\u540E\u671F\u9884\u5148\u52A0\u8F7D\u7684\u573A\u666F\r\n    private loadingIndex = 0;\r\n    private loadingOtherScenesPath : Array<any>= [\r\n\r\n        //3D \u573A\u666F \r\n        { url: \"resources/res/threeDimen/scene/CourtyardScene/Courtyard.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/Light/MultiLight.ls\", type: Laya.Loader.HIERARCHY },\r\n\r\n        { url: \"resources/scene/3D/PostProcess/PostProcessDoF.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/PostProcess/PostProcessAO.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/PostProcess/PostProcessBloom.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/PostProcess/PostProcess_Blur.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/PostProcess/PostProcess_Edge.ls\", type: Laya.Loader.HIERARCHY },   \r\n\r\n        { url: \"resources/scene/3D/Show/GunDemo.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/Show/DamagedHelmetModelShow.ls\", type: Laya.Loader.HIERARCHY },\r\n\r\n        { url: \"resources/scene/3D/Advance/ReflectionProbe.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/Advance/VideoPlayIn3DWorld.ls\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/scene/3D/Advance/CommandBuffer_Outline.ls\", type: Laya.Loader.HIERARCHY },\r\n\r\n        { url: \"resources/res/threeDimen/LayaScene_separable-sss/Conventional/HeadBlinnphong.lh\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/res/threeDimen/texAnimation/Attack01/Attack01.lh\", type: Laya.Loader.HIERARCHY },\r\n        { url: \"resources/res/threeDimen/texAnimation/role/role.lh\", type: Laya.Loader.HIERARCHY }\r\n\r\n    ];\r\n\r\n    onAwake(): void {\r\n\r\n        \r\n        let resArr : Array<any>= [\r\n\r\n            //UI \u8D44\u6E90\r\n            { url: \"resources/image/button1.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/button2.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/clip_arrow.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/clip_num_bg.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_blue_line.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_btn_bg.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_frame.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_list_bg.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_selected_bg.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_white_bg.jpg\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/img_white_line.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/vscroll.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/vscroll$bar.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/vscroll$down.png\",   type:Laya.Loader.IMAGE },\r\n            { url: \"resources/image/vscroll$up.png\",   type:Laya.Loader.IMAGE },\r\n\r\n            //2D \u8D44\u6E90\r\n            { url: \"resources/res/apes/monkey0.png\", type: Laya.Loader.IMAGE },\r\n            { url: \"resources/res/apes/monkey1.png\", type: Laya.Loader.IMAGE },\r\n            { url: \"resources/res/apes/monkey2.png\", type: Laya.Loader.IMAGE },\r\n            { url: \"resources/res/apes/monkey3.png\", type: Laya.Loader.IMAGE },\r\n            { url: \"resources/res/fighter/fighter.atlas\", type: Laya.Loader.ATLAS },\r\n            { url: \"resources/res/bg2.png\", type: Laya.Loader.IMAGE },\r\n\r\n            //Json \u8D44\u6E90\r\n            { url: \"resources/res/tiledMap/orthogonal-test-movelayer.json\", type: Laya.Loader.JSON },\r\n            { url: \"resources/res/tiledMap/isometric_grass_and_water.json\", type: Laya.Loader.JSON },\r\n            { url: \"resources/res/tiledMap/perspective_walls.json\", type: Laya.Loader.JSON },\r\n            { url: \"resources/res/tiledMap/desert.json\", type: Laya.Loader.JSON },\r\n\r\n            //3D \u8D44\u6E90       \r\n            { url: \"resources/res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/staticModel/grid/plane.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/particle/ETF_Burning_Ground.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/particle/ETF_Eternal_Light.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/skinModel/dude/dude.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/trail/Cube.lh\", type: Laya.Loader.HIERARCHY },\r\n\r\n            // \u7EB9\u7406\u8D44\u6E90\r\n            { url: \"resources/scene/3D/Scene3D/GriendSkyAmbientDemo/GriendSkyAmbientDemo.ktx\", type: Laya.Loader.TEXTURE2D },\r\n            { url: \"resources/scene/3D/Material/PBRMaterialDemo/PBRMaterialDemo.ktx\", type: Laya.Loader.TEXTURE2D },\r\n            { url: \"resources/res/threeDimen/LayaScene_MaskModelTest/Conventional/Assets/Scenes/MaskModelTestGIReflection.ltcb\", type: Laya.Loader.TEXTURE2D },\r\n\r\n            // LoadGltfRosource\r\n            { url: \"resources/res/threeDimen/fbx/LayaMonkey.FBX\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/fbx/Danding.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/fbx/Stand.FBX\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/fbx/Material.lmat\", type: Laya.Loader.MATERIAL },\r\n            { url: \"resources/res/threeDimen/fbx/LayaMonkey.lmat\", type: Laya.Loader.MATERIAL },\r\n\r\n            // LoadFbxRosource\r\n            { url: \"resources/res/threeDimen/gltf/AnimatedCube/AnimatedCube.lh\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/gltf/RiggedFigure/RiggedFigure.gltf\", type: Laya.Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/gltf/Duck/Duck.lh\", type: Laya.Loader.HIERARCHY },\r\n\r\n            // EnvironmentalReflection\r\n            { url: \"resources/res/threeDimen/staticModel/teapot/teapot-Teapot001.lm\", type: Laya.Loader.MESH },\r\n            { url: \"resources/res/threeDimen/skyBox/DawnDusk/Skybox.lmat\", type: Laya.Loader.MATERIAL }, \r\n            \r\n            // GarbageCollection\r\n            { url: \"resources/res/threeDimen/scene/LayaScene_dudeScene/Conventional/dudeSceneNoCamera.ls\", type: Laya.Loader.HIERARCHY }\r\n\r\n        ]; \r\n\r\n        console.time();\r\n        Laya.loader.load(\r\n            //\u5148\u52A0\u8F7D\u672C\u573A\u666F\u8981\u7528\u7684\r\n            [\"resources/image/ly.png\", \"resources/image/progress.png\", \"resources/image/progress$bar.png\"]\r\n        ).then(() => {\r\n            console.timeEnd();\r\n            console.log(\"\u5148\u52A0\u8F7D\u672C\u573A\u666F\u8981\u7528\u7684\u5B8C\u6210\");\r\n\r\n            //\u6539\u4E3A\u65B0\u7684\u65B9\u5F0F\uFF0C\u540C\u65F6\u53EF\u4EE5\u52A0\u8F7D2D,3D\u8D44\u6E90\r\n            Laya.loader.load(resArr, null, Laya.Handler.create(this, this.onLoading, null, false)).then(()=> {\r\n\r\n                this.onLoaded();                \r\n                \r\n            });\r\n            // \u4FA6\u542C\u52A0\u8F7D\u5931\u8D25\r\n            Laya.loader.on(Laya.Event.ERROR, this, this.onError);\r\n\r\n        });\r\n    }\r\n\r\n\r\n    /**\r\n   * \u5F53\u62A5\u9519\u65F6\u6253\u5370\u9519\u8BEF\r\n   * @param err \u62A5\u9519\u4FE1\u606F\r\n   */\r\n    onError(err: string): void {\r\n        console.log(\"\u52A0\u8F7D\u5931\u8D25: \" + err);\r\n    }\r\n\r\n    /**\r\n     * \u52A0\u8F7D\u65F6\u4FA6\u542C\r\n     */\r\n    onLoading(progress: number): void {\r\n        //\u63A5\u8FD1\u5B8C\u6210\u52A0\u8F7D\u65F6\uFF0C\u8BA9\u663E\u793A\u8FDB\u5EA6\u6BD4\u5B9E\u9645\u8FDB\u5EA6\u6162\u4E00\u70B9\uFF0C\u8FD9\u662F\u4E3A\u6253\u5F00\u573A\u666F\u65F6\u7684\u81EA\u52A8\u52A0\u8F7D\u9884\u7559\uFF0C\u5C24\u5176\u662F\u8981\u6253\u5F00\u7684\u573A\u666F\u8D44\u6E90\u591A\uFF0C\u5E76\u6CA1\u6709\u5B8C\u5168\u653E\u5230\u9884\u52A0\u8F7D\u4E2D\uFF0C\u8FD8\u9700\u8981\u518D\u81EA\u52A8\u52A0\u8F7D\u4E00\u90E8\u5206\u65F6\u3002\r\n        if (progress > 0.92) this.loadingBar.value = 0.95;\r\n        else\r\n        {\r\n            this.loadingBar.value = progress;\r\n            //console.log(\"\u52A0\u8F7D\u8FDB\u5EA6: \" + progress, this.loadingBar.value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \u52A0\u8F7D\u5B8C\u6210\u540E\uFF0C\u5904\u7406\u903B\u8F91\r\n     */\r\n    onLoaded(): void {\r\n        this.loadingBar.value = 0.98;\r\n        console.log(\"\u52A0\u8F7D\u7ED3\u675F\", this.loadingBar.value);\r\n\r\n        if( !Laya.Browser._isMiniGame )\r\n        {\r\n            this.initDom();\r\n            this.initAce();\r\n        }\r\n\r\n        this.enterDemo();\r\n    }\r\n\r\n    /**\r\n     * \u521D\u59CB\u5316\u67E5\u770B\u6E90\u7801\u548C\u4E8C\u7EF4\u7801\u7528\u5230\u7684Dom\u8282\u70B9\r\n     */\r\n    initDom(): void {\r\n\r\n        let url = \"resources/image/img_code_close.png\";\r\n        \r\n        //\u67E5\u770B\u6E90\u7801\r\n        var codeLayer:any = Laya.Browser.document.createElement(\"div\");\r\n        codeLayer.id = \"codeLayer\";\r\n        codeLayer.style = \"display: none;position: absolute;top: 15%;left: 20%;width: 60%;height: 70%;background-color: #e4e4e4;z-index:1002;overflow: auto;\";\r\n        Laya.Browser.document.body.appendChild(codeLayer);\r\n\r\n        var span:any = Laya.Browser.document.createElement(\"span\");\r\n        span.style = \"position:absolute;text-align:center;color:#000000;width:100%;top:10;font-size:20px;\";\r\n        span.innerHTML = \"\u6E90\u7801&nbsp;&nbsp;\";\r\n        codeLayer.appendChild(span);\r\n\r\n        var img:any = Laya.Browser.document.createElement(\"img\");\r\n        img.style = \"position:absolute;right:15;top:10;cursor:pointer;\";\r\n        \r\n        img.src = Laya.URL.postFormatURL(Laya.URL.formatURL(url));\r\n        img.setAttribute(\"href\", \"javascript:void(0)\");\r\n        img.setAttribute(\"onclick\", \"document.getElementById(\\'codeLayer\\').style.display=\\'none\\';document.getElementById(\\'fade\\').style.display=\\'none\\'\");\r\n        codeLayer.appendChild(img);\r\n\r\n        var pre:any = Laya.Browser.document.createElement(\"pre\");\r\n        pre.id = \"code\";\r\n        pre.setAttribute(\"class\", \"ace_editor\");\r\n        pre.style = \"position:absolute;top:30px;width:99%;height:91%;border:2px solid #ccc;\";\r\n        codeLayer.appendChild(pre);\r\n\r\n        var textarea:any = Laya.Browser.document.createElement(\"textarea\");\r\n        textarea.id = \"codeContent\";\r\n        textarea.setAttribute(\"class\", \"ace_text-input\");\r\n        pre.appendChild(textarea);\r\n\r\n        //\u4E8C\u7EF4\u7801\r\n        var qrcodeLayer:any = Laya.Browser.document.createElement(\"div\");\r\n        qrcodeLayer.id = \"qrcodeLayer\";\r\n        qrcodeLayer.style = \"display: none;position: absolute;left: 0;right: 0;top: 0;bottom: 0;text-align:center;margin:auto;width: 316px; height: 346px;background-color: #e4e4e4; z-index:1002; overflow: false;\";\r\n        Laya.Browser.document.body.appendChild(qrcodeLayer);\r\n\r\n        var qrcodeSpan:any = Laya.Browser.document.createElement(\"span\");\r\n        qrcodeSpan.style = \"position:absolute;text-align:center;color:#000000;width:100%;top:10px;left:10px;font-size:20px;\";\r\n        qrcodeSpan.innerHTML = \"\u626B\u63CF\u4E8C\u7EF4\u7801&nbsp;&nbsp;\";\r\n        qrcodeLayer.appendChild(qrcodeSpan);\r\n\r\n        var qrcodeImg:any = Laya.Browser.document.createElement(\"img\");\r\n        qrcodeImg.style = \"position:absolute;right:15;top:10;cursor:pointer;\";\r\n        qrcodeImg.src = Laya.URL.postFormatURL(Laya.URL.formatURL(url));\r\n        qrcodeImg.setAttribute(\"href\", \"javascript:void(0)\");\r\n        qrcodeImg.setAttribute(\"onclick\", \"document.getElementById(\\'qrcodeLayer\\').style.display=\\'none\\';document.getElementById(\\'fade\\').style.display=\\'none\\'\");\r\n        qrcodeLayer.appendChild(qrcodeImg);\r\n\r\n        console.log(\"asd\");\r\n        var qrcode:any = Laya.Browser.document.createElement(\"div\");\r\n        qrcode.id = \"qrcode\";\r\n        qrcode.style = \"position:absolute;top:30px;padding: 30px 30px 30px 30px;\";\r\n        qrcodeLayer.appendChild(qrcode);\r\n\r\n        var qrcodeTable:any = Laya.Browser.document.createElement(\"div\");\r\n        qrcodeTable.id = \"qrcodeTable\";\r\n        qrcode.appendChild(qrcodeTable);\r\n\r\n        //\u6697\u8272\u5E95\u677F\r\n        var fade:any = Laya.Browser.document.createElement(\"div\");\r\n        fade.id = \"fade\";\r\n        fade.style = \"display: none;position: absolute;top: 0%;left: 0%; width: 100%; height: 100%; background-color: black; z-index:1001; -moz-opacity: 0.8; opacity:.80; filter: alpha(opacity=88);\";\r\n        Laya.Browser.document.body.appendChild(fade);//\u6DFB\u52A0\u5230\u9875\u9762\uFF1B\r\n    }\r\n            \r\n    /**\r\n     * \u521D\u59CB\u5316\u67E5\u770B\u6E90\u7801\u7684\u7B2C\u4E09\u65B9JS\u7C7B\u5E93\r\n     */\r\n    initAce(): void {\r\n\r\n        //\u52A0\u8F7Dace.js\r\n        var script1:any = Laya.Browser.document.createElement(\"script\");\r\n        script1.src = \"https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ace.js\";\r\n        script1.onload = function():void{\r\n\r\n            //\u52A0\u8F7Dext-language_tools.js\r\n            var script2:any = Laya.Browser.document.createElement(\"script\");\r\n            script2.src = \"https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.6/ext-language_tools.js\";\r\n            script2.onload = function():void{\r\n\r\n                //\u8BB0\u8F7Dace\u7684\u521D\u59CB\u5316\u4EE3\u7801\uFF0C\u5728bin\u76EE\u5F55\u4E0B\u7684aceInit.js\uFF0C\u521D\u59CB\u5316\u4E4B\u524D\u5148\u521B\u5EFA\u597DDom\r\n                var script:any = Laya.Browser.document.createElement(\"script\");\r\n                script.src = Laya.URL.postFormatURL(Laya.URL.formatURL(\"js/aceInit.js\"));\r\n                script.onerror = function():void{\r\n                    //\u52A0\u8F7D\u9519\u8BEF\u51FD\u6570\r\n                    console.log(\"download \"+script.src+\" error\");\r\n                }\r\n                Laya.Browser.document.body.appendChild(script);\r\n\r\n            }\r\n            script2.onerror = function():void{\r\n                //\u52A0\u8F7D\u9519\u8BEF\u51FD\u6570\r\n                console.log(\"download \"+script2.src+\" error\");\r\n            }\r\n            Laya.Browser.document.body.appendChild(script2);\r\n\r\n        }\r\n        script1.onerror = function():void{\r\n            //\u52A0\u8F7D\u9519\u8BEF\u51FD\u6570\r\n            console.log(\"download \"+script1.src+\" error\");\r\n        }\r\n        Laya.Browser.document.body.appendChild(script1);\r\n    }\r\n\r\n    /**\r\n     * \u521D\u59CB\u5316\u67E5\u770B\u6E90\u7801\u7684\u7B2C\u4E09\u65B9JS\u7C7B\u5E93\r\n     */\r\n    enterDemo(): void {\r\n        //\u8DF3\u8F6C\u5230\u5165\u53E3\u573A\u666F\r\n        Laya.Scene.open(\"resources/scene/Index.ls\"); //\u4E0D\u8981\u4F7F\u7528Laya.Scene.open(\"./Scenes/Index.ls\");   \r\n        // Laya.timer.once( 3000, this, ()=>{\r\n        //     this.loadOtherScene(this.loadingIndex);\r\n        // } );    \r\n    }\r\n\r\n    /**\r\n     * \u9884\u5148\u52A0\u8F7D\u5176\u5B83\u573A\u666F\u8D44\u6E90\r\n     */\r\n    loadOtherScene(index: number): void{\r\n\r\n        if( index == this.loadingOtherScenesPath.length )\r\n            return;\r\n\r\n        Laya.loader.load(\r\n            this.loadingOtherScenesPath[index]\r\n        ).then(() => {\r\n            console.log(\"\u540E\u671F\u52A0\u8F7D\u5B8C \"+index+ \" \u573A\u666F\" );\r\n            this.loadingIndex ++;\r\n            this.loadOtherScene(this.loadingIndex);\r\n        });\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport SpriteUtils = Laya.SpriteUtils;\r\nimport Render = Laya.Render;\r\nimport Browser = Laya.Browser;\r\nimport Text = Laya.Text;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('1c782215-3a40-4f5d-8669-d905f1c1fdf1', '../src/2D/DOM/DOM_Form.ts')\r\nexport class DOM_Form extends BaseScript {\r\n\r\n\tprivate form: Sprite;\r\n\tprivate rowHeight: number = 30;\r\n\tprivate rowSpacing: number = 10;\r\n\tprivate emailInput : any;\r\n\tprivate birthdayInput : any;\r\n\tprivate passwordInput : any;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        this.box2D.bgColor = \"#FFFFFF\";\r\n\t\t\r\n\t\tthis.form = new Sprite();\r\n\t\tthis.form.size(250, 120);\r\n\t\tthis.form.pos((this.pageWidth - this.form.width) / 2, (this.pageHeight - this.form.height) / 2);\r\n\t\tthis.owner.addChild(this.form);\r\n\r\n\t\tvar rowHeightDelta = this.rowSpacing + this.rowHeight;\r\n\r\n\t\t// \u663E\u793A\u5DE6\u4FA7\u6807\u7B7E\r\n\t\tthis.showLabel(\"\u90AE\u7BB1\", 0, rowHeightDelta * 0);\r\n\t\tthis.showLabel(\"\u51FA\u751F\u65E5\u671F\", 0, rowHeightDelta * 1);\r\n\t\tthis.showLabel(\"\u5BC6\u7801\", 0, rowHeightDelta * 2);\r\n\r\n\t\t// \u663E\u793A\u53F3\u4FA7\u8F93\u5165\u6846\r\n\t\tthis.emailInput = this.createInputElement();\r\n\t\tthis.birthdayInput = this.createInputElement();\r\n\t\tthis.passwordInput = this.createInputElement();\r\n\r\n\t\tthis.birthdayInput.type = \"date\";\r\n\t\tthis.passwordInput.type = \"password\";\r\n\r\n\t\tvar dom: any;\r\n\t\tlet all = [this.emailInput, this.birthdayInput, this.passwordInput];\r\n\t\tfor (var i = 0; i < all.length; i++) {\r\n\t\t\tdom = all[i];\r\n\t\t\tif( Index.curPage )\r\n\t\t\t\tSpriteUtils.fitDOMElementInArea(dom, this.form, Index.pagePos.x+100, Index.pagePos.y+i * (this.rowSpacing + this.rowHeight), 150, this.rowHeight);\r\n\t\t\telse\r\n\t\t\t\tSpriteUtils.fitDOMElementInArea(dom, this.form, 100, i * (this.rowSpacing + this.rowHeight), 150, this.rowHeight);\t\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tBrowser.removeElement(this.emailInput);\r\n\t\tBrowser.removeElement(this.birthdayInput);\r\n\t\tBrowser.removeElement(this.passwordInput);\r\n\t}\r\n\r\n\tprivate showLabel(label: string, x: number, y: number): void {\r\n\t\tvar t: Text = new Text();\r\n\t\tt.height = this.rowHeight;\r\n\t\tt.valign = \"middle\";\r\n\t\tt.fontSize = 15;\r\n\t\tt.font = \"SimHei\";\r\n\t\tt.text = label;\r\n\t\tt.pos(x, y);\r\n\t\tthis.form.addChild(t);\r\n\t}\r\n\r\n\tprivate createInputElement(): any {\r\n\t\tvar input: any = Browser.createElement(\"input\");\r\n\t\tinput.style.zIndex = Render.canvas.zIndex + 1;\r\n\t\tinput.style.width = \"100px\";\r\n\t\tBrowser.document.body.appendChild(input);\r\n\t\treturn input;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport SpriteUtils = Laya.SpriteUtils;\r\nimport Render = Laya.Render;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('185fc57b-dbf7-4008-bc7d-11e6ff6bd852', '../src/2D/DOM/DOM_Video.ts')\r\nexport class DOM_Video extends BaseScript {\r\n\r\n\tprivate video : any;\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\t// \u521B\u5EFAVideo\u5143\u7D20\r\n\t\tvar videoElement: any = Browser.createElement(\"video\");\r\n\t\tBrowser.document.body.appendChild(videoElement);\r\n\t\tthis.video = videoElement;\r\n\r\n\t\t// \u8BBE\u7F6EVideo\u5143\u7D20\u5730\u6837\u5F0F\u548C\u5C5E\u6027\r\n\t\tvideoElement.style.zInddex = Render.canvas.style.zIndex + 1;\r\n\t\tvideoElement.src = Laya.URL.postFormatURL(Laya.URL.formatURL(\"resources/res/av/mov_bbb.mp4\")); // \u5904\u7406\u9884\u89C8\u548C\u53D1\u5E03\u7684\u8D44\u6E90\u5730\u5740\r\n\t\tvideoElement.controls = true;\r\n\t\t// \u963B\u6B62IOS\u89C6\u9891\u5168\u5C4F\r\n\t\tvideoElement.setAttribute(\"webkit-playsinline\", true);\r\n\t\tvideoElement.setAttribute(\"playsinline\", true);\r\n\r\n\t\t// \u8BBE\u7F6E\u753B\u5E03\u4E0A\u7684\u5BF9\u9F50\u53C2\u7167\u7269\r\n\t\tvar reference: Sprite = new Sprite();\r\n\t\tthis.owner.addChild(reference);\r\n\t\treference.pos((this.pageWidth - 600)/2, (this.pageHeight - 400)/2);\r\n\t\treference.size(600, 400);\r\n\t\treference.graphics.drawRect(0, 0, reference.width, reference.height, \"#000000\");\r\n\r\n\t\t// \u6BCF\u6B21\u5C3A\u5BF8\u53D8\u66F4\u65F6\uFF0C\u90FD\u4F1A\u8C03\u7528Utils.fitDOMElementInArea\u8BBE\u7F6EVideo\u7684\u4F4D\u7F6E\uFF0C\u5BF9\u9F50\u7684\u4F4D\u7F6E\u548Crefence\u91CD\u5408\r\n\t\tif( Index.curPage )\r\n\t\t\tSpriteUtils.fitDOMElementInArea(videoElement, reference, Index.pagePos.x, Index.pagePos.y, reference.width, reference.height);\r\n\t\telse\r\n\t\t\tSpriteUtils.fitDOMElementInArea(videoElement, reference, 0, 0, reference.width, reference.height);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tBrowser.removeElement(this.video);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('07612b84-7887-4044-8910-6e2fc2b0d0ab', '../src/2D/BlendMode/BlendMode_Lighter.ts')\r\nexport class BlendMode_Lighter extends BaseScript {\r\n\r\n\t@property({type: Laya.Sprite})\r\n\tbgSp: Laya.Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    \t// \u4E00\u53EA\u51E4\u51F0\u7684\u5206\u8FA8\u7387\u662F550 * 400\r\n\tprivate phoenixWidth: number = 750;\r\n\tprivate phoenixHeight: number = 450;\r\n\r\n\tprivate bgColorTweener: Tween = new Tween();\r\n\tprivate gradientInterval: number = 2000;\r\n\tprivate bgColorChannels: any = { 'r': 99, 'g': 0, 'b': 0xFF };\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createPhoenixes();\r\n\r\n\t\t// \u52A8\u6001\u80CC\u666F\u6E32\u67D3\r\n\t\tthis.evalBgColor();\r\n\t\tLaya.timer.frameLoop(1, this, this.renderBg);\r\n\t}\r\n\r\n\tprivate createPhoenixes(): void {\r\n\t\tvar scaleFactor: number = Math.min(\r\n\t\t\tthis.pageWidth / (this.phoenixWidth * 2),\r\n\t\t\tthis.pageHeight / this.phoenixHeight);\r\n\r\n\t\t// \u52A0\u4E86\u6DF7\u5408\u6A21\u5F0F\u7684\u51E4\u51F0\r\n\t\tthis.blendedPhoenix = this.createAnimation();\r\n\t\tthis.blendedPhoenix.blendMode = \"lighter\";\r\n\t\tthis.blendedPhoenix.scale(scaleFactor, scaleFactor);\r\n\t\tthis.blendedPhoenix.y = (this.pageHeight - this.phoenixHeight * scaleFactor) / 2;\r\n\r\n\t\t// \u6B63\u5E38\u6A21\u5F0F\u7684\u51E4\u51F0\r\n\t\tthis.normalPhoenix = this.createAnimation();\r\n\t\tthis.normalPhoenix.scale(scaleFactor, scaleFactor);\r\n\t\tthis.normalPhoenix.x = this.phoenixWidth * scaleFactor;\r\n\t\tthis.normalPhoenix.y = (this.pageHeight - this.phoenixHeight * scaleFactor) / 2;\r\n\t}\r\n\r\n\tnormalPhoenix: Animation;\r\n\tblendedPhoenix: Animation;\r\n\tprivate createAnimation(): Animation {\r\n\t\tvar frames: any[] = [];\r\n\t\tfor (var i: number = 1; i <= 25; ++i) {\r\n\t\t\tframes.push(\"resources/res/phoenix/phoenix\" + this.preFixNumber(i, 4) + \".jpg\");\r\n\t\t}\r\n\r\n\t\tvar animation: Animation = new Animation();\r\n\t\tanimation.loadImages(frames);\r\n\t\tthis.box2D.addChild(animation);\r\n\r\n\t\tvar clips: any[] = animation.frames.concat();\r\n\t\t// \u53CD\u8F6C\u5E27\r\n\t\tclips = clips.reverse();\r\n\t\t// \u6DFB\u52A0\u5230\u5DF2\u6709\u5E27\u672B\u5C3E\r\n\t\tanimation.frames = animation.frames.concat(clips);\r\n\r\n\t\tanimation.play();\r\n\r\n\t\treturn animation;\r\n\t}\r\n\t\r\n\tprivate preFixNumber(num: number, strLen: number): string {\r\n\t\treturn (\"0000000000\" + num).slice(-strLen);\r\n\t}\r\n\r\n\tprivate evalBgColor(): void {\r\n\t\tvar color: number = Math.random() * 0xFFFFFF;\r\n\t\tvar channels: any[] = this.getColorChannals(color);\r\n\t\tthis.bgColorTweener.to(this.bgColorChannels, { \"r\": channels[0], \"g\": channels[1], \"b\": channels[2] }, this.gradientInterval, null, Handler.create(this, this.onTweenComplete));\r\n\t}\r\n\r\n\tprivate getColorChannals(color: number): any[] {\r\n\t\tvar result: any[] = [];\r\n\t\tresult.push(color >> 16);\r\n\t\tresult.push(color >> 8 & 0xFF);\r\n\t\tresult.push(color & 0xFF);\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate onTweenComplete(): void {\r\n\t\tthis.evalBgColor();\r\n\t}\r\n\r\n\tprivate renderBg(): void {\r\n\t\tthis.bgSp.graphics.clear();\r\n\t\tthis.bgSp.graphics.drawRect(\r\n        \tthis.blendedPhoenix.x,\r\n\t\t\tthis.blendedPhoenix.y,\r\n        \tthis.phoenixWidth,\r\n\t\t\tthis.phoenixHeight,\r\n\t\t\tthis.getHexColorString()\r\n\t\t);\r\n        \r\n\t}\r\n\r\n\tprivate getHexColorString(): string {\r\n\t\tthis.bgColorChannels.r = Math.floor(this.bgColorChannels.r);\r\n\t\t// \u7EFF\u8272\u901A\u9053\u4F7F\u75280\r\n\t\tthis.bgColorChannels.g = 0;\r\n\t\t//obj.g = Math.floor(obj.g);\r\n\t\tthis.bgColorChannels.b = Math.floor(this.bgColorChannels.b);\r\n\r\n\t\tvar r: string = this.bgColorChannels.r.toString(16);\r\n\t\tr = r.length == 2 ? r : \"0\" + r;\r\n\t\tvar g: string = this.bgColorChannels.g.toString(16);\r\n\t\tg = g.length == 2 ? g : \"0\" + g;\r\n\t\tvar b: string = this.bgColorChannels.b.toString(16);\r\n\t\tb = b.length == 2 ? b : \"0\" + b;\r\n\t\treturn \"#\" + r + g + b;\r\n\t}\r\n\r\n    /**\r\n     * \u624B\u52A8\u8C03\u7528\u8282\u70B9\u9500\u6BC1\u65F6\u6267\u884C\r\n     */\r\n\tonDestroy(): void {\r\n\t\tif (this.blendedPhoenix == null)\r\n\t\t\treturn;\r\n\t\tif (this.normalPhoenix == null)\r\n\t\t\treturn;\r\n\t\tthis.bgColorTweener.clear();\r\n\t\tthis.normalPhoenix.stop();\r\n\t\tthis.blendedPhoenix.stop();\r\n\t\tLaya.timer.clear(this, this.renderBg);\r\n\t\tthis.box2D.graphics.clear();\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Browser = Laya.Browser;\r\nimport RotationInfo = Laya.RotationInfo;\r\nimport Handler = Laya.Handler;\r\nimport Text = Laya.Text;\r\nimport Gyroscope = Laya.Gyroscope;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('bd6d133a-0360-4e2d-bd20-5c9ef850727d', '../src/2D/InputDevice/InputDevice_Compasss.ts')\r\nexport class InputDevice_Compasss extends BaseScript {\r\n\r\n\tprivate compassImgPath: string = \"resources/res/inputDevice/kd.png\";\r\n\tprivate compassImg: Sprite;\r\n\tprivate degreesText: Text;\r\n\tprivate directionIndicator: Sprite;\r\n\tprivate firstTime: boolean = true;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tLaya.loader.load(this.compassImgPath).then( ()=>{\r\n            this.init();\r\n        } );\r\n\t}\r\n\r\n\tprivate init(): void {\r\n\t\t// \u521B\u5EFA\u7F57\u76D8\r\n\t\tthis.createCompass();\r\n\t\t// \u521B\u5EFA\u65B9\u4F4D\u6307\u793A\u5668\r\n\t\tthis.createDirectionIndicator();\r\n\t\t// \u753B\u51FA\u5176\u4ED6UI\r\n\t\tthis.drawUI();\r\n\t\t// \u521B\u5EFA\u663E\u793A\u89D2\u5EA6\u7684\u6587\u672C\r\n\t\tthis.createDegreesText();\r\n\r\n\t\tGyroscope.instance.on(Event.CHANGE, this, this.onOrientationChange);\r\n\t}\r\n\r\n\tprivate createCompass(): void {\r\n\t\tthis.compassImg = new Sprite();\r\n\t\tthis.box2D.addChild(this.compassImg);\r\n\t\tthis.compassImg.loadImage(this.compassImgPath);\r\n\r\n\t\tthis.compassImg.pivot(this.compassImg.width / 2, this.compassImg.height / 2);\r\n\t\tthis.compassImg.pos(this.pageWidth / 2, 400);\r\n\t}\r\n\r\n\tprivate drawUI(): void {\r\n\t\tvar canvas: Sprite = new Sprite();\r\n\t\tthis.box2D.addChild(canvas);\r\n\r\n\t\tcanvas.graphics.drawLine(this.compassImg.x, 50, this.compassImg.x, 182, \"#FFFFFF\", 3);\r\n\r\n\t\tcanvas.graphics.drawLine(-140 + this.compassImg.x, this.compassImg.y, 140 + this.compassImg.x, this.compassImg.y, \"#AAAAAA\", 1);\r\n\t\tcanvas.graphics.drawLine(this.compassImg.x, -140 + this.compassImg.y, this.compassImg.x, 140 + this.compassImg.y, \"#AAAAAA\", 1);\r\n\t}\r\n\r\n\tprivate createDegreesText(): void {\r\n\t\tthis.degreesText = new Text();\r\n\t\tthis.box2D.addChild(this.degreesText);\r\n\r\n\t\tthis.degreesText.align = \"center\";\r\n\t\tthis.degreesText.size(this.pageWidth, 100);\r\n\t\tthis.degreesText.pos(0, this.compassImg.y + 400);\r\n\t\tthis.degreesText.fontSize = 100;\r\n\t\tthis.degreesText.color = \"#FFFFFF\";\r\n\t}\r\n\r\n\t// \u65B9\u4F4D\u6307\u793A\u5668\u6307\u5411\u5F53\u524D\u6240\u671D\u65B9\u4F4D\u3002\r\n\tprivate createDirectionIndicator(): void {\r\n\t\tthis.directionIndicator = new Sprite();\r\n\t\tthis.box2D.addChild(this.directionIndicator);\r\n\r\n\t\tthis.directionIndicator.alpha = 0.8;\r\n\r\n\t\tthis.directionIndicator.graphics.drawCircle(0, 0, 70, \"#343434\");\r\n\t\tthis.directionIndicator.graphics.drawLine(-40, 0, 40, 0, \"#FFFFFF\", 3);\r\n\t\tthis.directionIndicator.graphics.drawLine(0, -40, 0, 40, \"#FFFFFF\", 3);\r\n\r\n\t\tthis.directionIndicator.x = this.compassImg.x;\r\n\t\tthis.directionIndicator.y = this.compassImg.y;\r\n\t}\r\n\r\n\tprivate onOrientationChange(absolute: boolean, info: RotationInfo): void {\r\n\t\tif (info.alpha === null) {\r\n\t\t\talert(\"\u5F53\u524D\u8BBE\u5907\u4E0D\u652F\u6301\u9640\u87BA\u4EEA\u3002\");\r\n\t\t}\r\n\t\telse if (this.firstTime && !absolute && !Browser.onIOS) {\r\n\t\t\tthis.firstTime = false;\r\n\t\t\talert(\"\u5728\u5F53\u524D\u8BBE\u5907\u4E2D\u65E0\u6CD5\u83B7\u53D6\u5730\u7403\u5750\u6807\u7CFB\uFF0C\u4F7F\u7528\u8BBE\u5907\u5750\u6807\u7CFB\uFF0C\u4F60\u53EF\u4EE5\u7EE7\u7EED\u89C2\u8D4F\uFF0C\u4F46\u662F\u63D0\u4F9B\u7684\u65B9\u4F4D\u5E76\u975E\u6B63\u786E\u65B9\u4F4D\u3002\");\r\n\t\t}\r\n\r\n\t\t// \u66F4\u65B0\u89D2\u5EA6\u663E\u793A\r\n\t\tthis.degreesText.text = 360 - Math.floor(info.alpha) + \"\u00B0\";\r\n\t\tthis.compassImg.rotation = info.alpha;\r\n\r\n\t\t// \u66F4\u65B0\u65B9\u4F4D\u6307\u793A\u5668\r\n\t\tthis.directionIndicator.x = -1 * Math.floor(info.gamma) / 90 * 70 + this.compassImg.x;\r\n\t\tthis.directionIndicator.y = -1 * Math.floor(info.beta) / 90 * 70 + this.compassImg.y;\r\n\t}\r\n}\r\n\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport AccelerationInfo = Laya.AccelerationInfo;\r\nimport Accelerator = Laya.Accelerator;\r\nimport Tween = Laya.Tween;\r\nimport Point = Laya.Point;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('06ea46e2-eb55-4c32-8d2b-6fa85bc8cf9c', '../src/2D/InputDevice/InputDevice_GluttonousSnake.ts')\r\nexport class InputDevice_GluttonousSnake extends BaseScript {\r\n\r\n\tprivate seg: Segment;\r\n\tprivate segments: any[] = [];\r\n\tprivate foods: any[] = [];\r\n\r\n\tprivate initialSegmentsAmount: number = 5;\r\n\tprivate vx: number = 0\r\n\tprivate vy: number = 0;\r\n\tprivate targetPosition: Point;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\t// \u521D\u59CB\u5316\u86C7\r\n\t\tthis.initSnake();\r\n\t\t// \u76D1\u89C6\u52A0\u901F\u5668\u72B6\u6001\r\n\t\tAccelerator.instance.on(Event.CHANGE, this, this.monitorAccelerator);\r\n\t\t// \u6E38\u620F\u5FAA\u73AF\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t\t// \u98DF\u7269\u751F\u4EA7\r\n\t\tLaya.timer.loop(3000, this, this.produceFood);\r\n\t\t// \u6E38\u620F\u5F00\u59CB\u65F6\u6709\u4E00\u4E2A\u98DF\u7269\r\n\t\tthis.produceFood();\r\n\t}\r\n\r\n\tprivate initSnake(): void {\r\n\t\tfor (var i: number = 0; i < this.initialSegmentsAmount; i++) {\r\n\t\t\tthis.addSegment();\r\n\r\n\t\t\t// \u86C7\u5934\u90E8\u8BBE\u7F6E\r\n\t\t\tif (i == 0) {\r\n\t\t\t\tvar header: Segment = this.segments[0];\r\n\r\n\t\t\t\t// \u521D\u59CB\u5316\u4F4D\u7F6E\r\n\t\t\t\theader.rotation = 180;\r\n\t\t\t\tthis.targetPosition = new Point();\r\n\t\t\t\tthis.targetPosition.x = this.pageWidth / 2;\r\n\t\t\t\tthis.targetPosition.y = this.pageHeight / 2;\r\n\r\n\t\t\t\theader.pos(this.targetPosition.x + header.width, this.targetPosition.y);\r\n\r\n\t\t\t\t// \u86C7\u773C\u775B\u7ED8\u5236\r\n\t\t\t\theader.graphics.drawCircle(header.width, 5, 3, \"#000000\");\r\n\t\t\t\theader.graphics.drawCircle(header.width, -5, 3, \"#000000\");\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate monitorAccelerator(acceleration: AccelerationInfo, accelerationIncludingGravity: AccelerationInfo, rotationRate: any, interval: number): void {\r\n\t\tthis.vx = accelerationIncludingGravity.x;\r\n\t\tthis.vy = accelerationIncludingGravity.y;\r\n\t}\r\n\r\n\tprivate addSegment(): void {\r\n\t\tvar seg: Segment = new Segment(40, 30);\r\n\t\tthis.box2D.addChildAt(seg, 0);\r\n\r\n\t\t// \u86C7\u5C3E\u4E0E\u4E0A\u4E00\u8282\u8EAB\u4F53\u5BF9\u9F50\r\n\t\tif (this.segments.length > 0) {\r\n\t\t\tvar prevSeg: Segment = this.segments[this.segments.length - 1];\r\n\t\t\tseg.rotation = prevSeg.rotation;\r\n\t\t\tvar point: Point = seg.getPinPosition();\r\n\t\t\tseg.x = prevSeg.x - point.x;\r\n\t\t\tseg.y = prevSeg.y - point.y;\r\n\t\t}\r\n\r\n\t\tthis.segments.push(seg);\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\t\tvar seg: Segment = this.segments[0];\r\n\r\n\t\t// \u66F4\u65B0\u86C7\u7684\u4F4D\u7F6E\r\n\t\tthis.targetPosition.x += this.vx;\r\n\t\tthis.targetPosition.y += this.vy;\r\n\r\n\t\t// \u9650\u5236\u86C7\u7684\u79FB\u52A8\u8303\u56F4\r\n\t\tthis.limitMoveRange();\r\n\t\t// \u68C0\u6D4B\u89C5\u98DF\r\n\t\tthis.checkEatFood();\r\n\r\n\t\t// \u66F4\u65B0\u6240\u6709\u5173\u8282\u4F4D\u7F6E\r\n\t\tvar targetX: number = this.targetPosition.x;\r\n\t\tvar targetY: number = this.targetPosition.y;\r\n\r\n\t\tfor (var i: number = 0, len: number = this.segments.length; i < len; i++) {\r\n\t\t\tseg = this.segments[i];\r\n\r\n\t\t\tvar dx: number = targetX - seg.x;\r\n\t\t\tvar dy: number = targetY - seg.y;\r\n\r\n\t\t\tvar radian: number = Math.atan2(dy, dx);\r\n\t\t\tseg.rotation = radian * 180 / Math.PI;\r\n\r\n\t\t\tvar pinPosition: Point = seg.getPinPosition();\r\n\t\t\tvar w: number = pinPosition.x - seg.x;\r\n\t\t\tvar h: number = pinPosition.y - seg.y;\r\n\r\n\t\t\tseg.x = targetX - w;\r\n\t\t\tseg.y = targetY - h;\r\n\r\n\t\t\ttargetX = seg.x;\r\n\t\t\ttargetY = seg.y;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate limitMoveRange(): void {\r\n\t\tif (this.targetPosition.x < 0)\r\n\t\t\tthis.targetPosition.x = 0;\r\n\t\telse if (this.targetPosition.x > this.pageWidth)\r\n\t\t\tthis.targetPosition.x = this.pageWidth;\r\n\t\tif (this.targetPosition.y < 0)\r\n\t\t\tthis.targetPosition.y = 0;\r\n\t\telse if (this.targetPosition.y > this.pageHeight)\r\n\t\t\tthis.targetPosition.y = this.pageHeight;\r\n\t}\r\n\r\n\tprivate checkEatFood(): void {\r\n\t\tvar food: Sprite;\r\n\t\tfor (var i: number = this.foods.length - 1; i >= 0; i--) {\r\n\t\t\tfood = this.foods[i];\r\n\t\t\tif (food.hitTestPoint(this.targetPosition.x, this.targetPosition.y)) {\r\n\t\t\t\tthis.addSegment();\r\n\t\t\t\tLaya.stage.removeChild(food);\r\n\t\t\t\tthis.foods.splice(i, 1);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate produceFood(): void {\r\n\t\t// \u6700\u591A\u4E94\u4E2A\u98DF\u7269\u540C\u5C4F\r\n\t\tif (this.foods.length == 5)\r\n\t\t\treturn;\r\n\r\n\t\tvar food: Sprite = new Sprite();\r\n\t\tthis.box2D.addChild(food);\r\n\t\tthis.foods.push(food);\r\n\r\n\t\tconst foodSize: number = 40;\r\n\t\tfood.size(foodSize, foodSize);\r\n\t\tfood.graphics.drawRect(0, 0, foodSize, foodSize, \"#00BFFF\");\r\n\r\n\t\tfood.x = Math.random() * this.pageWidth;\r\n\t\tfood.y = Math.random() * this.pageHeight;\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\nclass Segment extends Sprite {\r\n\tconstructor(width: number, height: number) {\r\n\t\tsuper();\r\n\t\tthis.size(width, height);\r\n\t\tthis.init();\r\n\t}\r\n\r\n\tprivate init(): void {\r\n\t\tthis.graphics.drawRect(-this.height / 2, -this.height / 2, this.width + this.height, this.height, \"#FF7F50\");\r\n\t}\r\n\r\n\t// \u83B7\u53D6\u5173\u8282\u53E6\u4E00\u5934\u4F4D\u7F6E\r\n\tgetPinPosition(): Point {\r\n\t\tvar radian: number = this.rotation * Math.PI / 180;\r\n\t\tvar tx: number = this.x + Math.cos(radian) * this.width;\r\n\t\tvar ty: number = this.y + Math.sin(radian) * this.width;\r\n\r\n\t\treturn new Point(tx, ty);\r\n\t}\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Text = Laya.Text;\r\nimport Geolocation = Laya.Geolocation;\r\nimport Handler = Laya.Handler;\r\nimport Browser = Laya.Browser;\r\nimport GeolocationInfo = Laya.GeolocationInfo;\r\nimport SpriteUtils = Laya.SpriteUtils;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8ec2c3be-7664-483d-9bb8-6844ba2e6eb4', '../src/2D/InputDevice/InputDevice_Map.ts')\r\nexport class InputDevice_Map extends BaseScript {\r\n\t// \u767E\u5EA6\u5730\u56FE\r\n\tprivate map: any;\r\n\tprivate marker: any;\r\n\tprivate BMap: any = Browser.window.BMap;\r\n\tprivate convertor: any;\r\n\r\n\t// Div\r\n\tprivate mapDiv: any;\r\n\r\n\tprivate infoText: Text;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        this.convertor = new this.BMap.Convertor();\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createDom();\r\n\t\tthis.initMap();\r\n\t\tthis.createInfoText();\r\n\r\n\t\tvar successHandler: Handler = new Handler(this, this.updatePosition);\r\n\t\tvar errorHandler: Handler = new Handler(this, this.onError);\r\n\r\n\t\t// \u4F7F\u7528\u9AD8\u7CBE\u5EA6\u4F4D\u7F6E\r\n\t\tGeolocation.enableHighAccuracy = true;\r\n\t\tGeolocation.watchPosition(successHandler, errorHandler);\r\n\r\n\t\t// \u7ED1\u5B9A\u4F5C\u7528\u57DF\r\n\t\tthis.convertToBaiduCoord = this.convertToBaiduCoord.bind(this);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tBrowser.removeElement(this.mapDiv);\r\n\t}\r\n    \r\n\r\n\tprivate createDom(): void {\r\n\t\tthis.mapDiv = Browser.createElement(\"div\");\r\n\t\tvar style: any = this.mapDiv.style;\r\n\t\tstyle.position = \"absolute\";\r\n\t\tstyle.top = \"50px\";\r\n\t\tstyle.left = \"0px\";\r\n\t\tstyle.width = Browser.width / Browser.pixelRatio + \"px\";\r\n\t\tstyle.height = (Browser.height) / Browser.pixelRatio + \"px\";\r\n\r\n\t\tBrowser.document.body.appendChild(this.mapDiv);\r\n\r\n\t\tif( Index.curPage )\r\n\t\t\tSpriteUtils.fitDOMElementInArea(this.mapDiv, this.box2D, Index.pagePos.x, Index.pagePos.y + 50, this.pageWidth, this.pageHeight - 50);\r\n\t}\r\n\r\n\tprivate initMap(): void {\r\n\t\t// \u521D\u59CB\u5316\u5730\u56FE\r\n\t\tthis.map = new this.BMap.Map(this.mapDiv);\r\n\r\n\t\t// \u7981\u7528\u90E8\u5206\u4EA4\u4E92\r\n\t\t//map.disableDragging();\r\n\t\tthis.map.disableKeyboard();\r\n\t\tthis.map.disableScrollWheelZoom();\r\n\t\tthis.map.disableDoubleClickZoom();\r\n\t\tthis.map.disablePinchToZoom();\r\n\t\t// \u521D\u59CB\u5730\u70B9\u5317\u4EAC\uFF0C\u7F29\u653E\u7CFB\u657015\r\n\t\tthis.map.centerAndZoom(new this.BMap.Point(116.32715863448607, 39.990912172420714), 15);\r\n\r\n\t\t// \u521B\u5EFA\u6807\u6CE8\u7269\r\n\t\tthis.marker = new this.BMap.Marker(new this.BMap.Point(0, 0));\r\n\t\tthis.map.addOverlay(this.marker);\r\n\t\tvar label: any = new this.BMap.Label(\"\u5F53\u524D\u4F4D\u7F6E\", { \"offset\": new this.BMap.Size(-15, 30) });\r\n\t\tthis.marker.setLabel(label);\r\n\t}\r\n\r\n\tprivate createInfoText(): void {\r\n\t\tthis.infoText = new Text();\r\n\t\tthis.owner.addChild(this.infoText);\r\n\t\tthis.infoText.fontSize = 20;\r\n\t\tthis.infoText.color = \"#FFFFFF\";\r\n        this.infoText.text = \"\u7B49\u5F85\u521D\u59CB\u5316\u6570\u636E\";\r\n\t\tthis.infoText.size(this.pageWidth, this.pageHeight);\r\n\t}\r\n\r\n\t// \u66F4\u65B0\u8BBE\u5907\u4F4D\u7F6E\r\n\tprivate updatePosition(p: GeolocationInfo): void {\r\n\t\t// \u8F6C\u6362\u4E3A\u767E\u5EA6\u5730\u56FE\u5750\u6807\r\n\t\tvar point: any = new this.BMap.Point(p.longitude, p.latitude);\r\n\t\t// \u628A\u539F\u59CB\u5750\u6807\u8F6C\u6362\u4E3A\u767E\u5EA6\u5750\u6807\uFF0C\u90E8\u5206\u8BBE\u5907\u53EF\u80FD\u83B7\u53D6\u5230\u7684\u662F\u8C37\u6B4C\u5750\u6807\uFF0C\u8FD9\u65F6\u7B2C\u4E09\u4E2A\u53C2\u6570\u6539\u4E3A3\u624D\u662F\u6B63\u786E\u7684\u3002\r\n\t\tthis.convertor.translate([point], 1, 5, this.convertToBaiduCoord);\r\n\r\n\t\t// \u66F4\u65B0\u5F53\u524D\u83B7\u53D6\u5230\u7684\u5730\u7406\u4FE1\u606F\r\n\t\tthis.infoText.text =\r\n\t\t\t\"\u7ECF\u5EA6\uFF1A\" + p.longitude +\r\n\t\t\t\"\\t\u7EAC\u5EA6\uFF1A\" + p.latitude +\r\n\t\t\t\"\\t\u7CBE\u5EA6\uFF1A\" + p.accuracy +\r\n\r\n\t\t\t\"\\n\u6D77\u62D4\uFF1A\" + p.altitude +\r\n\t\t\t\"\\t\u6D77\u62D4\u7CBE\u5EA6\uFF1A\" + p.altitudeAccuracy +\r\n\r\n\t\t\t\"\\n\u5934\uFF1A\" + p.heading +\r\n\t\t\t\"\\n\u901F\u5EA6\uFF1A\" + p.speed +\r\n\t\t\t\"\\n\u65F6\u95F4\u6233\uFF1A\" + p.timestamp;\r\n\t}\r\n\r\n\t// \u5C06\u539F\u59CB\u5750\u6807\u8F6C\u6362\u4E3A\u767E\u5EA6\u5750\u6807\r\n\tprivate convertToBaiduCoord(data: any): void {\r\n\t\tif (data.status == 0) {\r\n\t\t\tvar position: any = data.points[0];\r\n\t\t\t// \u8BBE\u7F6E\u6807\u6CE8\u7269\u4F4D\u7F6E\r\n\t\t\tthis.marker.setPosition(position);\r\n\r\n\t\t\tthis.map.panTo(position);\r\n\t\t\tthis.map.setZoom(17);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onError(e: any): void {\r\n\t\tif (e.code == Geolocation.TIMEOUT)\r\n\t\t\tconsole.log(\"\u83B7\u53D6\u4F4D\u7F6E\u8D85\u65F6\");\r\n\t\telse if (e.code == Geolocation.POSITION_UNAVAILABLE)\r\n\t\t\tconsole.log(\"\u4F4D\u7F6E\u4E0D\u53EF\u7528\");\r\n\t\telse if (e.code == Geolocation.PERMISSION_DENIED)\r\n\t\t\tconsole.log(\"\u65E0\u6743\u9650\");\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Shake = Laya.Shake;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0d182ff5-c807-482f-93a4-71c520624de7', '../src/2D/InputDevice/InputDevice_Shake.ts')\r\nexport class InputDevice_Shake extends BaseScript {\r\n\r\n    private picW: number = 824;\r\n\tprivate picH: number = 484;\r\n\tprivate console: Text;\r\n\r\n\tprivate shakeCount: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.showShakePic();\r\n\t\tthis.showConsoleText();\r\n\t\tthis.startShake();\r\n\t}\r\n\r\n\tprivate showShakePic(): void {\r\n\t\tvar shakePic: Sprite = new Sprite();\r\n\t\tshakePic.loadImage(\"resources/res/inputDevice/shake.png\");\r\n\t\tthis.box2D.addChild(shakePic);\r\n\t}\r\n\r\n\tprivate showConsoleText(): void {\r\n\t\tthis.console = new Text();\r\n\t\tthis.box2D.addChild(this.console);\r\n\r\n\t\tthis.console.y = this.picH + 10;\r\n\t\tthis.console.width = this.pageWidth;\r\n\t\tthis.console.height = this.pageHeight - this.console.y;\r\n\t\tthis.console.color = \"#FFFFFF\";\r\n\t\tthis.console.fontSize = 50;\r\n\t\tthis.console.align = \"center\";\r\n\t\tthis.console.valign = 'middle';\r\n\t\tthis.console.leading = 10;\r\n\t}\r\n\r\n\tprivate startShake(): void {\r\n\t\tShake.instance.start(5, 500);\r\n\t\tShake.instance.on(Event.CHANGE, this, this.onShake);\r\n\r\n\t\tthis.console.text = '\u5F00\u59CB\u63A5\u6536\u8BBE\u5907\u6447\u52A8\\n';\r\n\t}\r\n\r\n\tprivate onShake(): void {\r\n\t\tthis.shakeCount++;\r\n\r\n\t\tthis.console.text += \"\u8BBE\u5907\u6447\u6643\u4E86\" + this.shakeCount + \"\u6B21\\n\";\r\n\r\n\t\tif (this.shakeCount >= 3) {\r\n\t\t\tShake.instance.stop();\r\n\r\n\t\t\tthis.console.text += \"\u505C\u6B62\u63A5\u6536\u8BBE\u5907\u6447\u52A8\";\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport BlurFilter = Laya.BlurFilter;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('5a2d9f62-4b74-4b87-a22d-82ecd65fa568', '../src/2D/Filters/Filters_Blur.ts')\r\nexport class Filters_Blur extends BaseScript {\r\n\r\n\tprivate apePath: string = \"resources/res/apes/monkey2.png\";\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tLaya.loader.load(this.apePath).then( ()=>{\r\n            this.createApe();\r\n        } );\r\n\t}\r\n\r\n\tprivate createApe(_e: any = null): void {\r\n\t\tvar ape: Sprite = new Sprite();\r\n\t\tape.loadImage(this.apePath);\r\n\r\n\t\tape.x = (this.pageWidth - ape.width) / 2;\r\n\t\tape.y = (this.pageHeight - ape.height) / 2;\r\n\r\n\t\tthis.box2D.addChild(ape);\r\n\r\n\t\tthis.applayFilter(ape);\r\n\t}\r\n\r\n\tprivate applayFilter(ape: Sprite): void {\r\n\t\tvar blurFilter: BlurFilter = new BlurFilter();\r\n\t\tblurFilter.strength = 5;\r\n\t\tape.filters = [blurFilter];\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Texture = Laya.Texture;\r\nimport Sprite = Laya.Sprite;\r\nimport ColorFilter = Laya.ColorFilter;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('a191fef0-2f45-4ee6-b170-a95e6e080673', '../src/2D/Filters/Filters_Color.ts')\r\nexport class Filters_Color extends BaseScript {\r\n\r\n\tprivate ApePath: string = \"resources/res/apes/monkey2.png\";\r\n\r\n\tprivate apeTexture: Texture;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tLaya.loader.load(this.ApePath).then( ()=>{\r\n            this.setup();\r\n        } );\r\n\t}\r\n\r\n\tprivate setup(e: any = null): void {\r\n\t\tthis.normalizeApe();\r\n\t\tthis.makeRedApe();\r\n\t\tthis.grayingApe();\r\n\t}\r\n\r\n\tprivate normalizeApe(): void {\r\n\t\tvar originalApe: Sprite = this.createApe();\r\n\r\n\t\tthis.apeTexture = Laya.loader.getRes(this.ApePath);\r\n\t\toriginalApe.x = (this.pageWidth - this.apeTexture.width) / 2 - this.apeTexture.width;\r\n\t\toriginalApe.y = (this.pageHeight - this.apeTexture.height) / 2;\r\n\t}\r\n\r\n\tprivate makeRedApe(): void {\r\n\t\t//\u7531 20 \u4E2A\u9879\u76EE\uFF08\u6392\u5217\u6210 4 x 5 \u77E9\u9635\uFF09\u7EC4\u6210\u7684\u6570\u7EC4\uFF0C\u7EA2\u8272\r\n\t\tvar redMat: any[] =\r\n\t\t\t[1, 0, 0, 0, 0, //R\r\n\t\t\t\t0, 0, 0, 0, 0, //G\r\n\t\t\t\t0, 0, 0, 0, 0, //B\r\n\t\t\t\t0, 0, 0, 1, 0];\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u989C\u8272\u6EE4\u955C\u5BF9\u8C61,\u7EA2\u8272\r\n\t\tvar redFilter: ColorFilter = new ColorFilter(redMat);\r\n\r\n\t\t// \u8D64\u5316\u7329\u7329\r\n\t\tvar redApe: Sprite = this.createApe();\r\n\t\tredApe.filters = [redFilter];\r\n\r\n\t\tredApe.x = (this.pageWidth - this.apeTexture.width) / 2 ;\r\n\t\tredApe.y = (this.pageHeight - this.apeTexture.height) / 2;\r\n\t}\r\n\r\n\tprivate grayingApe(): void {\r\n\t\t//\u7531 20 \u4E2A\u9879\u76EE\uFF08\u6392\u5217\u6210 4 x 5 \u77E9\u9635\uFF09\u7EC4\u6210\u7684\u6570\u7EC4\uFF0C\u7070\u56FE\r\n\t\tvar grayscaleMat: any[] = [0.3086, 0.6094, 0.0820, 0, 0,\r\n\t\t\t0.3086, 0.6094, 0.0820, 0, 0,\r\n\t\t\t0.3086, 0.6094, 0.0820, 0, 0,\r\n\t\t\t0, 0, 0, 1, 0];\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u989C\u8272\u6EE4\u955C\u5BF9\u8C61\uFF0C\u7070\u56FE\r\n\t\tvar grayscaleFilter: ColorFilter = new ColorFilter(grayscaleMat);\r\n\r\n\t\t// \u7070\u5EA6\u7329\u7329\r\n\t\tvar grayApe: Sprite = this.createApe();\r\n\t\tgrayApe.filters = [grayscaleFilter];\r\n\r\n\t\tgrayApe.x = (this.pageWidth - this.apeTexture.width) / 2 + this.apeTexture.width;\r\n\t\tgrayApe.y = (this.pageHeight - this.apeTexture.height) / 2;\r\n\t}\r\n\r\n\tprivate createApe(): Sprite {\r\n\t\tvar ape: Sprite = new Sprite();\r\n\t\tape.loadImage(\"resources/res/apes/monkey2.png\");\r\n\t\tthis.box2D.addChild(ape);\r\n\r\n\t\treturn ape;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Texture = Laya.Texture;\r\nimport Sprite = Laya.Sprite;\r\nimport GlowFilter = Laya.GlowFilter;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('3245ae37-5b4f-4178-901d-4b22800bb84a', '../src/2D/Filters/Filters_Glow.ts')\r\nexport class Filters_Glow extends BaseScript {\r\n\r\n\tprivate apePath: string = \"resources/res/apes/monkey2.png\";\r\n\r\n\tprivate ape: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.apePath).then( (tex: Texture)=>{\r\n            this.setup(tex);\r\n        } );\r\n\t}\r\n\r\n\tprivate setup(tex: Texture): void {\r\n\t\tthis.createApe();\r\n\t\tthis.applayFilter();\r\n\t}\r\n\r\n\tprivate createApe(): void {\r\n\t\tthis.ape = new Sprite();\r\n\t\tthis.ape.loadImage(this.apePath);\r\n\r\n\t\tvar texture: Texture = Laya.loader.getRes(this.apePath);\r\n\t\tthis.ape.x = (this.pageWidth - texture.width) / 2;\r\n\t\tthis.ape.y = (this.pageHeight - texture.height) / 2;\r\n\r\n\t\tthis.box2D.addChild(this.ape);\r\n\t}\r\n\r\n\tprivate applayFilter(): void {\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u53D1\u5149\u6EE4\u955C\r\n\t\tvar glowFilter: GlowFilter = new GlowFilter(\"#ffff00\", 10, 0, 0);\r\n\t\t//\u8BBE\u7F6E\u6EE4\u955C\u96C6\u5408\u4E3A\u53D1\u5149\u6EE4\u955C\r\n\t\tthis.ape.filters = [glowFilter];\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Rectangle = Laya.Rectangle;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('bb1a4989-f1cb-40f1-ade0-043f8bf448f4', '../src/2D/Animation/Animation_Altas.ts')\r\nexport class Animation_Altas extends BaseScript {\r\n\r\n    private AniConfPath: string = \"resources/res/fighter/fighter.json\";\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        //\u52A0\u8F7D\u56FE\u96C6json\u6587\u4EF6\r\n\t\tLaya.loader.load(this.AniConfPath, Loader.ATLAS).then( ()=>{\r\n            this.createAnimation();\r\n        } );\r\n\t}\r\n\r\n    //\u901A\u8FC7Animation\u6765\u521B\u5EFA\u52A8\u753B\r\n\tprivate createAnimation(_e: any = null): void {\r\n\t\tvar ani: Animation = new Animation();\r\n\t\tani.loadAtlas(this.AniConfPath);\t\t\t// \u52A0\u8F7D\u56FE\u96C6\u52A8\u753B\r\n\t\tani.interval = 30;\t\t\t\t\t// \u8BBE\u7F6E\u64AD\u653E\u95F4\u9694\uFF08\u5355\u4F4D\uFF1A\u6BEB\u79D2\uFF09\r\n\t\tani.index = 1;\t\t\t\t\t\t// \u5F53\u524D\u64AD\u653E\u7D22\u5F15\r\n\t\tani.play();\t\t\t\t\t\t\t// \u64AD\u653E\u56FE\u96C6\u52A8\u753B\r\n\r\n\t\t// \u83B7\u53D6\u52A8\u753B\u7684\u8FB9\u754C\u4FE1\u606F\r\n\t\tvar bounds: Rectangle = ani.getGraphicBounds();\r\n\t\tani.pivot(bounds.width / 2, bounds.height / 2);\r\n\t\tani.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\t\tthis.owner.addChild(ani);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport MovieClip = Laya.MovieClip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('2d69f3c9-f041-497b-b922-0e1fae2231fc', '../src/2D/Animation/Animation_SWF.ts')\r\nexport class Animation_SWF extends BaseScript {\r\n\r\n    private SWFPath: string = \"resources/res/swf/dragon.swf\";\r\n\r\n    private MCWidth: number = 318;\r\n    private MCHeight: number = 406;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        this.createMovieClip();\r\n    }\r\n\r\n    //\u521B\u5EFAMovieClip\u7EC4\u4EF6\u521B\u5EFA\u52A8\u753B\r\n    private createMovieClip(): void {\r\n        var mc: MovieClip = new MovieClip();\r\n        mc.load(this.SWFPath);\r\n\r\n        mc.x = (this.pageWidth - this.MCWidth) / 2;\r\n        mc.y = (this.pageHeight - this.MCHeight) / 2;\r\n\r\n        this.owner.addChild(mc);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Tween = Laya.Tween;\r\nimport Ease = Laya.Ease;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('4348f438-2443-44c5-b56e-6fffed21110a', '../src/2D/Interaction/Interaction_CustomEvent.ts')\r\nexport class Interaction_CustomEvent extends BaseScript {\r\n\r\n    static ROTATE: string = \"rotate\";\r\n\r\n\tprivate sp: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createSprite();\r\n\t}\r\n\r\n\tprivate createSprite(): void {\r\n\t\tthis.sp = new Sprite();\r\n\t\tthis.sp.graphics.drawRect(0, 0, 200, 200, \"#D2691E\");\r\n\t\tthis.sp.anchorX = 0.5;\r\n\t\tthis.sp.anchorY = 0.5;\r\n\r\n\t\tthis.sp.x = this.pageWidth / 2;\r\n\t\tthis.sp.y = this.pageHeight / 2;\r\n\r\n\t\tthis.sp.size(200, 200);\r\n\t\tthis.box2D.addChild(this.sp);\r\n\r\n\t\tthis.sp.on(Interaction_CustomEvent.ROTATE, this, this.onRotate);\t// \u4FA6\u542C\u81EA\u5B9A\u4E49\u7684\u4E8B\u4EF6\r\n\t\tthis.sp.on(Event.CLICK, this, this.onSpriteClick);\r\n\t}\r\n\r\n\tprivate onSpriteClick(e: Event = null): void {\r\n\t\tvar randomAngle: number = Math.random() * 180;\r\n\t\t//\u53D1\u9001\u81EA\u5B9A\u4E49\u4E8B\u4EF6\r\n\t\tthis.sp.event(Interaction_CustomEvent.ROTATE, [randomAngle]);\r\n\t}\r\n\r\n\t// \u89E6\u53D1\u81EA\u5B9A\u4E49\u7684rotate\u4E8B\u4EF6\r\n\tprivate onRotate(newAngle: number): void {\r\n\t\tTween.to(this.sp, { \"rotation\": newAngle }, 1000, Ease.elasticOut);\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Texture = Laya.Texture;\r\nimport Rectangle = Laya.Rectangle;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('953133f3-7108-48c9-b38f-f851783a1d23', '../src/2D/Interaction/Interaction_Drag.ts')\r\nexport class Interaction_Drag extends BaseScript {\r\n\r\n\tprivate ApePath: string = \"resources/res/apes/monkey2.png\";\r\n\r\n\tprivate ape: Sprite;\r\n\tprivate dragRegion: Rectangle;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.ApePath).then( ()=>{\r\n            this.setup();\r\n        } );\r\n\t}\r\n\r\n\tprivate setup(_e: any = null): void {\r\n\t\tthis.createApe();\r\n\t\tthis.showDragRegion();\r\n\t}\r\n\r\n\tprivate createApe(): void {\r\n\t\tthis.ape = new Sprite();\r\n\r\n\t\tthis.ape.loadImage(this.ApePath);\r\n\t\tthis.box2D.addChild(this.ape);\r\n\r\n\t\tvar texture: Texture = Laya.loader.getRes(this.ApePath);\r\n\t\tthis.ape.pivot(texture.width / 2, texture.height / 2);\r\n\t\tthis.ape.x = this.pageWidth / 2;\r\n\t\tthis.ape.y = this.pageHeight / 2;\r\n\r\n\t\tthis.ape.on(Event.MOUSE_DOWN, this, this.onStartDrag);\r\n\t}\r\n\r\n\tprivate showDragRegion(): void {\r\n\t\t//\u62D6\u52A8\u9650\u5236\u533A\u57DF\r\n\t\tvar dragWidthLimit: number = 350;\r\n\t\tvar dragHeightLimit: number = 200;\r\n\t\tthis.dragRegion = new Rectangle(this.pageWidth - dragWidthLimit >> 1, this.pageHeight - dragHeightLimit >> 1, dragWidthLimit, dragHeightLimit);\r\n\r\n\t\t//\u753B\u51FA\u62D6\u52A8\u9650\u5236\u533A\u57DF\r\n\t\tthis.box2D.graphics.drawRect(\r\n\t\t\tthis.dragRegion.x, this.dragRegion.y, this.dragRegion.width, this.dragRegion.height,\r\n\t\t\tnull, \"#FFFFFF\", 2);\r\n\t}\r\n\r\n\tprivate onStartDrag(e: Event = null): void {\r\n\t\t//\u9F20\u6807\u6309\u4E0B\u5F00\u59CB\u62D6\u62FD(\u8BBE\u7F6E\u4E86\u62D6\u52A8\u533A\u57DF\u548C\u8D85\u754C\u5F39\u56DE\u7684\u6ED1\u52A8\u6548\u679C)\r\n\t\tthis.ape.startDrag(this.dragRegion, true, 100);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.ape) {\r\n\t\t\tthis.ape.off(Event.MOUSE_DOWN, this, this.onStartDrag);\r\n\t\t}\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('60a3caf8-aaf6-4ba3-b0e9-e5684315a537', '../src/2D/Interaction/Interaction_FixInteractiveRegion.ts')\r\nexport class Interaction_FixInteractiveRegion extends BaseScript {\r\n\r\n\tprivate logger: Text;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.buildWorld();\r\n\t\tthis.createLogger();\r\n\t}\r\n\r\n\tprivate buildWorld(): void {\r\n\t\tthis.createCoralRect();\r\n\t\tthis.createDeepSkyblueRect();\r\n\t\tthis.createDarkOrchidRect();\r\n\r\n\t\t// \u8BBE\u7F6E\u821E\u53F0\r\n\t\tthis.box2D.on(Event.MOUSE_DOWN, this, this.onDown);\r\n\t}\r\n\r\n\tprivate createCoralRect(): void {\r\n\t\tvar coralRect: Sprite = new Sprite();\r\n\t\tcoralRect.graphics.drawRect(0, 0, this.pageWidth, this.pageHeight / 2, \"#FF7F50\");\r\n\r\n\t\t//\u8BBE\u7F6E\u540D\u79F0\r\n\t\tcoralRect.name = \"\u73CA\u745A\u8272\u5BB9\u5668\";\r\n\t\tcoralRect.size(this.pageWidth, this.pageHeight / 2);\r\n\t\tthis.box2D.addChild(coralRect);\r\n\r\n\t\tcoralRect.on(Event.MOUSE_DOWN, this, this.onDown);\r\n\t}\r\n\r\n\tprivate createDeepSkyblueRect(): void {\r\n\t\tvar deepSkyblueRect: Sprite = new Sprite();\r\n\t\tdeepSkyblueRect.graphics.drawRect(0, 0, 100, 100, \"#00BFFF\");\r\n\t\t//\u8BBE\u7F6E\u540D\u79F0\r\n\t\tdeepSkyblueRect.name = \"\u5929\u84DD\u8272\u77E9\u5F62\";\r\n\t\t//\u8BBE\u7F6E\u5BBD\u9AD8\uFF08\u8981\u63A5\u6536\u9F20\u6807\u4E8B\u4EF6\u5FC5\u987B\u8BBE\u7F6E\u5BBD\u9AD8\uFF0C\u5426\u5219\u4E0D\u4F1A\u88AB\u547D\u4E2D\uFF09  \r\n\t\tdeepSkyblueRect.size(100, 100);\r\n\t\tdeepSkyblueRect.pos(10, 10);\r\n\t\tthis.box2D.addChild(deepSkyblueRect);\r\n\r\n\t\tdeepSkyblueRect.on(Event.MOUSE_DOWN, this, this.onDown);\r\n\t}\r\n\r\n\tprivate createDarkOrchidRect(): void {\r\n\t\tvar darkOrchidRect: Sprite = new Sprite();\r\n\t\tdarkOrchidRect.name = \"\u6697\u7D2B\u8272\u77E9\u5F62\u5BB9\u5668\";\r\n\t\tdarkOrchidRect.graphics.drawRect(-100, -100, 200, 200, \"#9932CC\");\r\n\r\n\t\tdarkOrchidRect.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\t\tthis.box2D.addChild(darkOrchidRect);\r\n\r\n\t\t// \u4E3Atrue\u65F6\uFF0C\u78B0\u649E\u533A\u57DF\u4F1A\u88AB\u4FEE\u6B63\u4E3A\u5B9E\u9645\u663E\u793A\u8FB9\u754C\r\n\t\t// mouseThrough\u547D\u540D\u771F\u662F\u5177\u6709\u5F3A\u70C8\u7684\u8BEF\u5BFC\u6027\r\n\t\tdarkOrchidRect.mouseThrough = true;\r\n\t\tdarkOrchidRect.on(Event.MOUSE_DOWN, this, this.onDown);\r\n\t}\r\n\r\n\tprivate createLogger(): void {\r\n\t\tthis.logger = new Text();\r\n\t\tthis.logger.size(this.pageWidth, this.pageHeight);\r\n\t\tthis.logger.align = 'right';\r\n\t\tthis.logger.fontSize = 20;\r\n\t\tthis.logger.color = \"#FFFFFF\";\r\n\t\tthis.box2D.addChild(this.logger);\r\n\t}\r\n\r\n\t/**\u4FA6\u542C\u5904\u7406\u65B9\u6CD5*/\r\n\tprivate onDown(e: Event = null): void {\r\n\t\tthis.logger.text += \"\u70B9\u51FB - \" + e.target.name + \"\\n\";\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tthis.box2D.off(Event.MOUSE_DOWN, this, this.onDown);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Ease = Laya.Ease;\r\nimport Tween = Laya.Tween;\r\nimport Texture = Laya.Texture;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('e750bba3-37cb-4786-82e4-1b6563a2e33a', '../src/2D/Interaction/Interaction_Hold.ts')\r\nexport class Interaction_Hold extends BaseScript {\r\n\r\n    private HOLD_TRIGGER_TIME: number = 1000;\r\n\tprivate apePath: string = \"resources/res/apes/monkey2.png\";\r\n\t//\u89E6\u53D1hold\u4E8B\u4EF6\u65F6\u95F4\u4E3A1\u79D2\r\n\tprivate ape: Sprite;\r\n\tprivate isApeHold: boolean;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        this.base();\r\n        \r\n\t\tLaya.loader.load(this.apePath).then( ()=>{\r\n            this.createApe();\r\n        } );\r\n\t}\r\n\r\n\tprivate createApe(_e: any = null): void {\r\n\t\t// \u6DFB\u52A0\u4E00\u53EA\u7329\u7329\r\n\t\tthis.ape = new Sprite();\r\n\t\tthis.ape.loadImage(this.apePath);\r\n\r\n\t\tvar texture: Texture = Laya.loader.getRes(this.apePath);\r\n\t\tthis.ape.pivot(texture.width / 2, texture.height / 2);\r\n\t\tthis.ape.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\t\tthis.ape.scale(0.8, 0.8);\r\n\t\tthis.box2D.addChild(this.ape);\r\n\r\n\t\t// \u9F20\u6807\u4EA4\u4E92\r\n\t\tthis.ape.on(Event.MOUSE_DOWN, this, this.onApePress);\r\n\t}\r\n\r\n\tprivate onApePress(e: Event = null): void {\r\n\t\t// \u9F20\u6807\u6309\u4E0B\u540E\uFF0CHOLD_TRIGGER_TIME\u6BEB\u79D2\u540Ehold\r\n\t\tLaya.timer.once(this.HOLD_TRIGGER_TIME, this, this.onHold);\r\n\t\tthis.box2D.on(Event.MOUSE_UP, this, this.onApeRelease);\r\n\t}\r\n\r\n\tprivate onHold(e: any = null): void {\r\n\t\tTween.to(this.ape, { \"scaleX\": 1, \"scaleY\": 1 }, 500, Ease.bounceOut);\r\n\t\tthis.isApeHold = true;\r\n\t}\r\n\r\n\t/** \u9F20\u6807\u653E\u5F00\u540E\u505C\u6B62hold */\r\n\tprivate onApeRelease(e: any = null): void {\r\n\t\t// \u9F20\u6807\u653E\u5F00\u65F6\uFF0C\u5982\u679C\u6B63\u5728hold\uFF0C\u5219\u64AD\u653E\u653E\u5F00\u7684\u6548\u679C\r\n\t\tif (this.isApeHold) {\r\n\t\t\tthis.isApeHold = false;\r\n\t\t\tTween.to(this.ape, { \"scaleX\": 0.8, \"scaleY\": 0.8 }, 300);\r\n\t\t}\r\n\t\telse // \u5982\u679C\u672A\u89E6\u53D1hold\uFF0C\u7EC8\u6B62\u89E6\u53D1hold\r\n\t\t\tLaya.timer.clear(this, this.onHold);\r\n\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.onApeRelease);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.ape) {\r\n\t\t\tthis.ape.off(Event.MOUSE_DOWN, this, this.onApePress);\r\n\t\t}\r\n\t\tLaya.timer.clear(this, this.onHold);\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.onApeRelease);\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('abcf4e1d-34fe-46ca-af6c-5931de9f03ba', '../src/2D/Interaction/Interaction_Keyboard.ts')\r\nexport class Interaction_Keyboard extends BaseScript {\r\n\r\n\tprivate logger: Text;\r\n\tprivate keyDownList: any[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.listenKeyboard();\r\n\t\tthis.createLogger();\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.keyboardInspector);\r\n\t}\r\n\r\n\tprivate listenKeyboard(): void {\r\n\t\tthis.keyDownList = [];\r\n\r\n\t\t//\u6DFB\u52A0\u952E\u76D8\u6309\u4E0B\u4E8B\u4EF6,\u4E00\u76F4\u6309\u7740\u67D0\u6309\u952E\u5219\u4F1A\u4E0D\u65AD\u89E6\u53D1\r\n\t\tLaya.stage.on(Event.KEY_DOWN, this, this.onKeyDown);\r\n\t\t//\u6DFB\u52A0\u952E\u76D8\u62AC\u8D77\u4E8B\u4EF6\r\n\t\tLaya.stage.on(Event.KEY_UP, this, this.onKeyUp);\r\n\t}\r\n\r\n\t/**\u952E\u76D8\u6309\u4E0B\u5904\u7406*/\r\n\tonKeyDown(e: any = null): void {\r\n\t\tthis.keyDownList[e[\"keyCode\"]] = true;\r\n\t}\r\n\r\n\t/**\u952E\u76D8\u62AC\u8D77\u5904\u7406*/\r\n\tonKeyUp(e: any = null): void {\r\n\t\tdelete this.keyDownList[e[\"keyCode\"]];\r\n\t}\r\n\r\n\tprivate keyboardInspector(e: any = null): void {\r\n\t\tvar numKeyDown: number = this.keyDownList.length;\r\n\r\n\t\tvar newText: string = '[ ';\r\n\t\tfor (var i: number = 0; i < numKeyDown; i++) {\r\n\t\t\tif (this.keyDownList[i]) {\r\n\t\t\t\tnewText += i + \" \";\r\n\t\t\t}\r\n\t\t}\r\n\t\tnewText += ']';\r\n\r\n\t\tthis.logger.changeText(newText);\r\n\t}\r\n\r\n\t/**\u6DFB\u52A0\u63D0\u793A\u6587\u672C*/\r\n\tprivate createLogger(): void {\r\n\t\tthis.logger = new Text();\r\n\r\n\t\tthis.logger.size(this.pageWidth, this.pageHeight);\r\n\t\tthis.logger.fontSize = 30;\r\n\t\tthis.logger.font = \"SimHei\";\r\n\t\tthis.logger.wordWrap = true;\r\n\t\tthis.logger.color = \"#FFFFFF\";\r\n\t\tthis.logger.align = 'center';\r\n\t\tthis.logger.valign = 'middle';\r\n\r\n\t\tthis.box2D.addChild(this.logger);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.keyboardInspector);\r\n        this.box2D.off(Event.KEY_DOWN, this, this.onKeyDown);\r\n\t\tthis.box2D.off(Event.KEY_UP, this, this.onKeyUp);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('abb8bb43-c117-4faa-9f70-9b8fcef22737', '../src/2D/Interaction/Interaction_Mouse.ts')\r\nexport class Interaction_Mouse extends BaseScript {\r\n\r\n\tprivate txt: Text;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createInteractiveTarget();\r\n\t\tthis.createLogger();\r\n\t}\r\n\r\n\tprivate createInteractiveTarget(): void {\r\n\t\tvar rect: Sprite = new Sprite();\r\n\t\trect.graphics.drawRect(0, 0, 200, 200, \"#D2691E\");\r\n\r\n\t\trect.size(200, 200);\r\n\t\trect.x = (this.pageWidth - 200) / 2;\r\n\t\trect.y = (this.pageHeight - 200) / 2;\r\n\t\tthis.box2D.addChild(rect);\r\n\r\n\t\t//\u589E\u52A0\u9F20\u6807\u4E8B\u4EF6\r\n\t\trect.on(Event.MOUSE_DOWN, this, this.mouseHandler);\r\n\t\trect.on(Event.MOUSE_UP, this, this.mouseHandler);\r\n\t\trect.on(Event.RIGHT_MOUSE_DOWN, this, this.mouseHandler);\r\n\t\trect.on(Event.RIGHT_MOUSE_UP, this, this.mouseHandler);\r\n\t\trect.on(Event.CLICK, this, this.mouseHandler);\r\n\t\trect.on(Event.RIGHT_CLICK, this, this.mouseHandler);\r\n\t\trect.on(Event.MOUSE_MOVE, this, this.mouseHandler);\r\n\t\trect.on(Event.MOUSE_OVER, this, this.mouseHandler);\r\n\t\trect.on(Event.MOUSE_OUT, this, this.mouseHandler);\r\n\t\trect.on(Event.DOUBLE_CLICK, this, this.mouseHandler);\r\n\t\trect.on(Event.MOUSE_WHEEL, this, this.mouseHandler);\r\n\t}\r\n\r\n\t/**\r\n\t * \u9F20\u6807\u54CD\u5E94\u4E8B\u4EF6\u5904\u7406\r\n\t */\r\n\tprivate mouseHandler(e: Event = null): void {\r\n\t\tswitch (e.type) {\r\n\t\t\tcase Event.MOUSE_DOWN:\r\n\t\t\t\tthis.appendText(\"\\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\\n\u5DE6\u952E\u6309\u4E0B\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.MOUSE_UP:\r\n\t\t\t\tthis.appendText(\"\\n\u5DE6\u952E\u62AC\u8D77\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.CLICK:\r\n\t\t\t\tthis.appendText(\"\\n\u5DE6\u952E\u70B9\u51FB\\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.RIGHT_MOUSE_DOWN:\r\n\t\t\t\tthis.appendText(\"\\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\\n\u53F3\u952E\u6309\u4E0B\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.RIGHT_MOUSE_UP:\r\n\t\t\t\tthis.appendText(\"\\n\u53F3\u952E\u62AC\u8D77\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.RIGHT_CLICK:\r\n\t\t\t\tthis.appendText(\"\\n\u53F3\u952E\u5355\u51FB\\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.MOUSE_MOVE:\r\n\t\t\t\t// \u5982\u679C\u4E0A\u4E00\u4E2A\u64CD\u4F5C\u662F\u79FB\u52A8\uFF0C\u63D0\u793A\u4FE1\u606F\u4EC5\u52A0\u5165.\u5B57\u7B26\r\n\t\t\t\tif (/\u9F20\u6807\u79FB\u52A8\\.*$/.test(this.txt.text))\r\n\t\t\t\t\tthis.appendText(\".\");\r\n\t\t\t\telse\r\n\t\t\t\t\tthis.appendText(\"\\n\u9F20\u6807\u79FB\u52A8\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.MOUSE_OVER:\r\n\t\t\t\tthis.appendText(\"\\n\u9F20\u6807\u7ECF\u8FC7\u76EE\u6807\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.MOUSE_OUT:\r\n\t\t\t\tthis.appendText(\"\\n\u9F20\u6807\u79FB\u51FA\u76EE\u6807\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.DOUBLE_CLICK:\r\n\t\t\t\tthis.appendText(\"\\n\u9F20\u6807\u5DE6\u952E\u53CC\u51FB\\n\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Event.MOUSE_WHEEL:\r\n\t\t\t\tthis.appendText(\"\\n\u9F20\u6807\u6EDA\u8F6E\u6EDA\u52A8\");\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate appendText(value: string): void {\r\n\t\tthis.txt.text += value;\r\n\t\tthis.txt.scrollY = this.txt.maxScrollY;\r\n\t}\r\n\r\n\t/**\u6DFB\u52A0\u63D0\u793A\u6587\u672C*/\r\n\tprivate createLogger(): void {\r\n\t\tthis.txt = new Text();\r\n\r\n\t\tthis.txt.overflow = Text.SCROLL;\r\n\t\tthis.txt.text = \"\u8BF7\u628A\u9F20\u6807\u79FB\u5230\u5230\u77E9\u5F62\u65B9\u5757,\u5DE6\u53F3\u952E\u64CD\u4F5C\u89E6\u53D1\u76F8\u5E94\u4E8B\u4EF6\\n\";\r\n\t\tthis.txt.size(this.pageWidth, this.pageHeight);\r\n\t\tthis.txt.pos(10, 50);\r\n\t\tthis.txt.fontSize = 20;\r\n\t\tthis.txt.wordWrap = true;\r\n\t\tthis.txt.color = \"#FFFFFF\";\r\n\r\n\t\tthis.box2D.addChild(this.txt);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('005ecd05-5266-479b-b03b-058b601a2bdc', '../src/2D/Interaction/Interaction_Rotate.ts')\r\nexport class Interaction_Rotate extends BaseScript {\r\n\r\n    private sp: Sprite;\r\n    private preRadian: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        this.setup();\r\n    }\r\n\r\n    private setup(): void {\r\n        this.createSprite();\r\n\r\n        this.box2D.on(Event.MOUSE_UP, this, this.onMouseUp);\r\n        this.box2D.on(Event.MOUSE_OUT, this, this.onMouseUp);\r\n    }\r\n\r\n    private createSprite(): void {\r\n        this.sp = new Sprite();\r\n        var w: number = 200, h: number = 300;\r\n        this.sp.graphics.drawRect(0, 0, w, h, \"#FF7F50\");\r\n        this.sp.size(w, h);\r\n        this.sp.pivot(w / 2, h / 2);\r\n        this.sp.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n        this.box2D.addChild(this.sp);\r\n\r\n        this.sp.on(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n    }\r\n\r\n    onMouseDown(e: Event): void {\r\n        let touches = e.touches;\r\n\r\n        if (touches && touches.length == 2) {\r\n            this.preRadian = Math.atan2(\r\n                touches[0].pos.y - touches[1].pos.y,\r\n                touches[0].pos.x - touches[1].pos.y);\r\n\r\n            this.box2D.on(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n        }\r\n    }\r\n\r\n    onMouseMove(e: Event): void {\r\n        var touches = e.touches;\r\n        if (touches && touches.length == 2) {\r\n            var nowRadian: number = Math.atan2(\r\n                touches[0].pos.y - touches[1].pos.y,\r\n                touches[0].pos.x - touches[1].pos.x);\r\n\r\n            this.sp.rotation += 180 / Math.PI * (nowRadian - this.preRadian);\r\n\r\n            this.preRadian = nowRadian;\r\n        }\r\n    }\r\n\r\n    onMouseUp(e: Event): void {\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n    }\r\n\r\n    onDestroy(): void {\r\n        if (this.sp) {\r\n            this.sp.off(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n        }\r\n        this.box2D.off(Event.MOUSE_UP, this, this.onMouseUp);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.onMouseUp);\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport ITouchInfo = Laya.ITouchInfo;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('49bc36f8-5c1e-4ea0-9897-ee73c96d20ba', '../src/2D/Interaction/Interaction_Scale.ts')\r\nexport class Interaction_Scale extends BaseScript {\r\n\r\n    //\u4E0A\u6B21\u8BB0\u5F55\u7684\u4E24\u4E2A\u89E6\u6A21\u70B9\u4E4B\u95F4\u8DDD\u79BB\r\n    private lastDistance: number = 0;\r\n    private sp: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n        this.setup();\r\n    }\r\n\r\n    private setup(): void {\r\n        this.createSprite();\r\n\r\n        this.box2D.on(Event.MOUSE_UP, this, this.onMouseUp);\r\n        this.box2D.on(Event.MOUSE_OUT, this, this.onMouseUp);\r\n    }\r\n\r\n    private createSprite(): void {\r\n        this.sp = new Sprite();\r\n        var w: number = 300, h: number = 300;\r\n        this.sp.graphics.drawRect(0, 0, w, h, \"#FF7F50\");\r\n        this.sp.size(w, h);\r\n        this.sp.pivot(w / 2, h / 2);\r\n        this.sp.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n        this.box2D.addChild(this.sp);\r\n\r\n        this.sp.on(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n    }\r\n\r\n    onMouseDown(e: Event = null): void {\r\n        var touches = e.touches;\r\n\r\n        if (touches && touches.length == 2) {\r\n            this.lastDistance = this.getDistance(touches);\r\n\r\n            this.box2D.on(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n        }\r\n    }\r\n\r\n    onMouseMove(e: Event = null): void {\r\n        var distance: number = this.getDistance(e.touches);\r\n\r\n        //\u5224\u65AD\u5F53\u524D\u8DDD\u79BB\u4E0E\u4E0A\u6B21\u8DDD\u79BB\u53D8\u5316\uFF0C\u786E\u5B9A\u662F\u653E\u5927\u8FD8\u662F\u7F29\u5C0F\r\n        const factor: number = 0.01;\r\n        this.sp.scaleX += (distance - this.lastDistance) * factor;\r\n        this.sp.scaleY += (distance - this.lastDistance) * factor;\r\n\r\n        this.lastDistance = distance;\r\n    }\r\n\r\n    onMouseUp(e: Event = null): void {\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n    }\r\n\r\n    /**\u8BA1\u7B97\u4E24\u4E2A\u89E6\u6478\u70B9\u4E4B\u95F4\u7684\u8DDD\u79BB*/\r\n    private getDistance(touches: ReadonlyArray<ITouchInfo>): number {\r\n        var distance: number = 0;\r\n        if (touches && touches.length == 2) {\r\n            var dx: number = touches[0].pos.x - touches[1].pos.x;\r\n            var dy: number = touches[0].pos.y - touches[1].pos.y;\r\n\r\n            distance = Math.sqrt(dx * dx + dy * dy);\r\n        }\r\n        return distance;\r\n    }\r\n\r\n    onDestroy(): void {\r\n        if (this.sp) {\r\n            this.sp.off(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n        }\r\n        this.box2D.off(Event.MOUSE_UP, this, this.onMouseUp);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.onMouseUp);\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Tween = Laya.Tween;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('736fde41-c3ff-4c92-b8e3-43ead714c499', '../src/2D/Interaction/Interaction_Swipe.ts')\r\nexport class Interaction_Swipe extends BaseScript {\r\n\r\n    \t//swipe\u6EDA\u52A8\u8303\u56F4\r\n\tprivate TrackLength: number = 200;\r\n\t//\u89E6\u53D1swipe\u7684\u62D6\u52A8\u8DDD\u79BB\r\n\tprivate TOGGLE_DIST: number = this.TrackLength / 2;\r\n\r\n\tprivate buttonPosition: number;\r\n\tprivate beginPosition: number;\r\n\tprivate endPosition: number;\r\n\r\n\tprivate button: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createSprtie();\r\n\t\tthis.drawTrack();\r\n\t}\r\n\r\n\tprivate createSprtie(): void {\r\n\t\tconst w: number = 50;\r\n\t\tconst h: number = 30;\r\n\r\n\t\tthis.button = new Sprite();\r\n\t\tthis.button.graphics.drawRect(0, 0, w, h, \"#FF7F50\");\r\n\t\tthis.button.anchorX = 0.5;\r\n\t\tthis.button.anchorY = 0.5;\r\n\t\t//\u8BBE\u7F6E\u5BBD\u9AD8\uFF08\u8981\u63A5\u6536\u9F20\u6807\u4E8B\u4EF6\u5FC5\u987B\u8BBE\u7F6E\u5BBD\u9AD8\uFF0C\u5426\u5219\u4E0D\u4F1A\u88AB\u547D\u4E2D\uFF09  \r\n\t\tthis.button.size(w, h);\r\n\t\tthis.button.x = (this.pageWidth - this.TrackLength) / 2;\r\n\t\tthis.button.y = this.pageHeight / 2;\r\n\r\n\t\tthis.button.on(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n\r\n\t\tthis.box2D.addChild(this.button);\r\n\t\t//\u5DE6\u4FA7\u4E34\u754C\u70B9\u8BBE\u4E3A\u5706\u5F62\u521D\u59CB\u4F4D\u7F6E\r\n\t\tthis.beginPosition = this.button.x;\r\n\t\t//\u53F3\u4FA7\u4E34\u754C\u70B9\u8BBE\u7F6E\r\n\t\tthis.endPosition = this.beginPosition + this.TrackLength;\r\n\t}\r\n\r\n\tprivate drawTrack(): void {\r\n\t\tvar graph: Sprite = new Sprite();\r\n\t\tthis.box2D.graphics.drawLine(\r\n\t\t\tthis.beginPosition, this.pageHeight / 2,\r\n\t\t\tthis.endPosition, this.pageHeight / 2,\r\n\t\t\t\"#FFFFFF\", 20);\r\n\t\tthis.box2D.addChild(graph);\r\n\t}\r\n\r\n\t/**\u6309\u4E0B\u4E8B\u4EF6\u5904\u7406*/\r\n\tonMouseDown(e: Event = null): void {\r\n\t\t//\u6DFB\u52A0\u9F20\u6807\u79FB\u5230\u4FA6\u542C\r\n\t\tthis.box2D.on(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\tthis.buttonPosition = this.button.x;\r\n\r\n\t\tthis.box2D.on(Event.MOUSE_UP, this, this.onMouseUp);\r\n\t\tthis.box2D.on(Event.MOUSE_OUT, this, this.onMouseUp);\r\n\t}\r\n\t/**\u79FB\u5230\u4E8B\u4EF6\u5904\u7406*/\r\n\tonMouseMove(e: Event = null): void {\r\n\t\tthis.button.x = Math.max(Math.min(this.box2D.mouseX, this.endPosition), this.beginPosition);\r\n\t}\r\n\r\n\t/**\u62AC\u8D77\u4E8B\u4EF6\u5904\u7406*/\r\n\tonMouseUp(e: Event = null): void {\r\n\t\tthis.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.onMouseUp);\r\n\t\tthis.box2D.off(Event.MOUSE_OUT, this, this.onMouseUp);\r\n\r\n\t\t// \u6ED1\u52A8\u5230\u76EE\u7684\u5730\r\n\t\tvar dist: number = this.box2D.mouseX - this.buttonPosition;\r\n\r\n\t\tvar targetX = this.beginPosition;\r\n\t\tif (dist > this.TOGGLE_DIST)\r\n\t\t\ttargetX = this.endPosition;\r\n\t\tTween.to(this.button, { x: targetX }, 100);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.button) {\r\n\t\t\tthis.button.off(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n\t\t}\r\n\t\tthis.box2D.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.onMouseUp);\r\n\t\tthis.box2D.off(Event.MOUSE_OUT, this, this.onMouseUp);\r\n\t\tthis.box2D.graphics.clear();\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c920ccee-4e5c-46ef-948d-9386d2d09497', '../src/2D/Loader/Loader_ClearTextureRes.ts')\r\nexport class Loader_ClearTextureRes extends BaseScript {\r\n\r\n\tprivate spBg: Sprite;\r\n\tprivate aniFly: Animation;\r\n\tprivate btn: Sprite;\r\n\tprivate txt: Text;\r\n\tprivate isDestroyed: boolean = false;\r\n\tprivate PathBg: string = \"resources/res/bg2.png\";\r\n\tprivate PathFly: string = \"resources/res/fighter/fighter.atlas\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.init();\r\n\t}\r\n\r\n\t/**\r\n\t * \u521D\u59CB\u5316\u573A\u666F\r\n\t */\r\n\tprivate init(): void {\r\n\t\t//\u521B\u5EFA\u80CC\u666F\r\n\t\tthis.spBg = Sprite.fromImage(this.PathBg);\r\n\t\tthis.box2D.addChild(this.spBg);\r\n\r\n\t\t//\u521B\u5EFA\u52A8\u753B\r\n\t\tthis.aniFly = new Animation();\r\n\t\tthis.aniFly.loadAtlas(this.PathFly);\r\n\t\tthis.aniFly.play();\r\n\t\tthis.aniFly.pos(250, 100);\r\n\t\tthis.box2D.addChild(this.aniFly);\r\n\r\n\t\t//\u521B\u5EFA\u6309\u94AE\r\n\t\tthis.btn = new Sprite().size(205, 55);\r\n\t\tthis.btn.graphics.drawRect(0, 0, this.btn.width, this.btn.height, \"#057AFB\");\r\n\t\tthis.txt = new Text();\r\n\t\tthis.txt.text = \"\u9500\u6BC1\";\r\n\t\tthis.txt.pos(75, 15);\r\n\t\tthis.txt.fontSize = 25;\r\n\t\tthis.txt.color = \"#FF0000\";\r\n\t\tthis.btn.addChild(this.txt);\r\n\t\tthis.btn.pos(20, 160);\r\n\t\tthis.btn.mouseEnabled = true;\r\n\t\tthis.btn.name = \"btnBg\";\r\n\t\tthis.owner.addChild(this.btn);\r\n\r\n\t\t//\u6DFB\u52A0\u4FA6\u542C\r\n\t\tthis.btn.on(Event.MOUSE_UP, this, this.onMouseUp1);\r\n\t}\r\n\r\n\t/**\r\n\t * \u9F20\u6807\u4E8B\u4EF6\u54CD\u5E94\u51FD\u6570\r\n\t */\r\n\tonMouseUp1(evt: Event): void {\r\n\t\tif (this.isDestroyed) {\r\n\t\t\t//\u901A\u8FC7\u8BBE\u7F6E visible=true \uFF0C\u6765\u89E6\u53D1\u6E32\u67D3\uFF0C\u7136\u540E\u5F15\u64CE\u4F1A\u81EA\u52A8\u6062\u590D\u8D44\u6E90\r\n\t\t\tthis.spBg.visible = true;\r\n\t\t\tthis.aniFly.visible = true;\r\n\r\n\t\t\tthis.isDestroyed = false;\r\n\t\t\tthis.txt.text = \"\u9500\u6BC1\";\r\n\t\t} else {\r\n\t\t\t//\u901A\u8FC7\u8BBE\u7F6E visible=false \uFF0C\u6765\u505C\u6B62\u6E32\u67D3\u5BF9\u8C61\r\n\t\t\tthis.spBg.visible = false;\r\n\t\t\tthis.aniFly.visible = false;\r\n\r\n\t\t\t//\u9500\u6BC1 Texture \u4F7F\u7528\u7684\u56FE\u7247\u8D44\u6E90\r\n\t\t\tLaya.loader.clearTextureRes(this.PathBg);\r\n\t\t\tLaya.loader.clearTextureRes(this.PathFly);\r\n\r\n\t\t\tthis.isDestroyed = true;\r\n\t\t\tthis.txt.text = \"\u6062\u590D\";\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('50a57634-f741-4c37-bf36-a0cce9d09da0', '../src/2D/Loader/Loader_MultipleType.ts')\r\nexport class Loader_MultipleType extends BaseScript {\r\n\r\n    private ROBOT_DATA_PATH: string = \"resources/res/skeleton/robot/robot.bin\";\r\n\tprivate ROBOT_TEXTURE_PATH: string = \"resources/res/skeleton/robot/texture.png\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tvar assets: any[] = [];\r\n\t\tassets.push({ \"url\": this.ROBOT_DATA_PATH, \"type\": Loader.BUFFER });\r\n\t\tassets.push({ \"url\": this.ROBOT_TEXTURE_PATH, \"type\": Loader.IMAGE });\r\n\r\n\t\tLaya.loader.load(assets).then( ()=>{\r\n            this.onAssetsLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onAssetsLoaded(e: any = null): void {\r\n\t\tvar robotData: any = Loader.getRes(this.ROBOT_DATA_PATH);\r\n\t\tvar robotTexture: any = Loader.getRes(this.ROBOT_TEXTURE_PATH);\r\n\t\t// \u4F7F\u7528\u8D44\u6E90\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('b9446375-d62c-41c9-9a94-3934fe1c4e68', '../src/2D/Loader/Loader_ProgressAndErrorHandle.ts')\r\nexport class Loader_ProgressAndErrorHandle extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t// \u65E0\u52A0\u8F7D\u5931\u8D25\u91CD\u8BD5\r\n\t\tLaya.loader.retryNum = 0;\r\n\r\n\t\tvar urls: any[] = [\"do not exist\", \"resources/res/fighter/fighter.png\", \"resources/res/legend/map.jpg\"];\r\n\t\tLaya.loader.load(urls, Loader.IMAGE, this.onLoading).then( ()=>{\r\n            this.onAssetLoaded();\r\n        } );\r\n\r\n\t\t// \u4FA6\u542C\u52A0\u8F7D\u5931\u8D25\r\n\t\tLaya.loader.on(Event.ERROR, this, this.onError);\r\n\t}\r\n\r\n\tprivate onAssetLoaded(): void {\r\n\t\t// \u4F7F\u7528texture\r\n\t\tconsole.log(\"\u52A0\u8F7D\u7ED3\u675F\");\r\n\t}\r\n\r\n\t// \u52A0\u8F7D\u8FDB\u5EA6\u4FA6\u542C\u5668\r\n\tprivate onLoading(progress: number): void {\r\n\t\tconsole.log(\"\u52A0\u8F7D\u8FDB\u5EA6: \" + progress);\r\n\t}\r\n\r\n\tprivate onError(err: string): void {\r\n\t\tconsole.log(\"\u52A0\u8F7D\u5931\u8D25: \" + err);\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Handler = Laya.Handler;\r\nimport Texture = Laya.Texture;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('9e131321-5753-4af2-bae2-12fba50c60be', '../src/2D/Loader/Loader_Sequence.ts')\r\nexport class Loader_Sequence extends BaseScript {\r\n\r\n\tprivate numLoaded: number = 0;\r\n\tprivate resAmount: number = 3;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t// \u6309\u5E8F\u5217\u52A0\u8F7D monkey2.png - monkey1.png - monkey0.png\r\n\t\t// \u4E0D\u5F00\u542F\u7F13\u5B58\r\n\t\t// \u5173\u95ED\u5E76\u53D1\u52A0\u8F7D\r\n\t\tLaya.loader.maxLoader = 1;\r\n\t\tLaya.loader.load(\"resources/res/apes/monkey2.png\", Handler.create(this, this.onAssetLoaded), null, null, 0, false);\r\n\t\tLaya.loader.load(\"resources/res/apes/monkey1.png\", Handler.create(this, this.onAssetLoaded), null, null, 1, false);\r\n\t\tLaya.loader.load(\"resources/res/apes/monkey0.png\", Handler.create(this, this.onAssetLoaded), null, null, 2, false);\r\n\t}\r\n\r\n\tprivate onAssetLoaded(texture: Texture): void {\r\n\t\t//console.log(texture.source);\r\n\r\n\t\t// \u6062\u590D\u9ED8\u8BA4\u5E76\u53D1\u52A0\u8F7D\u4E2A\u6570\u3002\r\n\t\tif (++this.numLoaded == 3) {\r\n\t\t\tLaya.loader.maxLoader = 5;\r\n\t\t\tconsole.log(\"All done.\");\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Texture = Laya.Texture;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('95b37044-4647-4ee9-9207-36f9d3043b28', '../src/2D/Loader/Loader_SingleType.ts')\r\nexport class Loader_SingleType extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\t// \u52A0\u8F7D\u4E00\u5F20png\u7C7B\u578B\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/apes/monkey0.png\").then( (texture)=>{\r\n            this.onAssetLoaded1(texture);\r\n        } );\r\n\t\t// \u52A0\u8F7D\u591A\u5F20png\u7C7B\u578B\u8D44\u6E90\r\n\t\tLaya.loader.load(\r\n\t\t\t[\"resources/res/apes/monkey0.png\", \"resources/res/apes/monkey1.png\", \"resources/res/apes/monkey2.png\"]).then( ()=>{\r\n\t\t\t\tthis.onAssetLoaded2();\r\n\t\t\t} );\r\n\t}\r\n\r\n\tprivate onAssetLoaded1(texture: Texture): void {\r\n\t\t// \u4F7F\u7528texture\r\n\t}\r\n\r\n\tprivate onAssetLoaded2(): void {\r\n\t\tvar pic1: Texture = Loader.getRes(\"resources/res/apes/monkey0.png\");\r\n\t\tvar pic2: Texture = Loader.getRes(\"resources/res/apes/monkey1.png\");\r\n\t\tvar pic3: Texture = Loader.getRes(\"resources/res/apes/monkey2.png\");\r\n\t\t// \u4F7F\u7528\u8D44\u6E90\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\nimport HttpRequest = Laya.HttpRequest;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('4a17cfed-05f9-4f7b-9e6b-8f48bd35b748', '../src/2D/Network/Network_GET.ts')\r\nexport class Network_GET extends BaseScript {\r\n\tprivate hr: HttpRequest;\r\n\tprivate logger: Text;\r\n\r\n\tprivate text: Laya.Label = new Laya.Label();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.connect();\r\n\t\tthis.showLogger();\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.text = \"\u8BF7\u67E5\u770B\u6E90\u7801\u548C\u8C03\u8BD5\u4FE1\u606F\uFF0C\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 25;\r\n\t\tthis.text.width = 800;\r\n\t\tthis.text.anchorX = 0.5;\r\n\t\tthis.text.align = \"center\"; \r\n\t\tthis.text.x = this.pageWidth / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.owner.addChild(this.text);\t\t\r\n\t}\r\n\r\n\tprivate connect(): void {\r\n\t\tthis.hr = new HttpRequest();\r\n\t\tthis.hr.once(Event.PROGRESS, this, this.onHttpRequestProgress);\r\n\t\tthis.hr.once(Event.COMPLETE, this, this.onHttpRequestComplete);\r\n\t\tthis.hr.once(Event.ERROR, this, this.onHttpRequestError);\r\n\t\tthis.hr.send('https://xkxz.zhonghao.huo.inner.layabox.com/', null, 'get', 'text');\r\n\t}\r\n\r\n\tprivate showLogger(): void {\r\n\t\tthis.logger = new Text();\r\n\r\n\t\tthis.logger.fontSize = 30;\r\n\t\tthis.logger.color = \"#FFFFFF\";\r\n\t\tthis.logger.align = 'center';\r\n\t\tthis.logger.valign = 'middle';\r\n\r\n\t\tthis.logger.size(this.pageWidth, this.pageHeight);\r\n\t\tthis.logger.text = \"\u7B49\u5F85\u54CD\u5E94...\\n\";\r\n\t\tthis.box2D.addChild(this.logger);\t\t\r\n\t}\r\n\r\n\tprivate onHttpRequestError(e: any = null): void {\r\n\t\tconsole.log(e);\r\n\t}\r\n\r\n\tprivate onHttpRequestProgress(e: any = null): void {\r\n\t\tconsole.log(e)\r\n\t}\r\n\r\n\tprivate onHttpRequestComplete(e: any = null): void {\r\n\t\tthis.logger.text += \"\u6536\u5230\u6570\u636E\uFF1A\" + this.hr.data;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\nimport HttpRequest = Laya.HttpRequest;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('5a212419-2134-441d-9652-db97ee9cc575', '../src/2D/Network/Network_POST.ts')\r\nexport class Network_POST extends BaseScript {\r\n\tprivate hr: HttpRequest;\r\n\tprivate logger: Text;\r\n\r\n\tprivate text: Laya.Label = new Laya.Label();\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.connect();\r\n\t\tthis.showLogger();\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.text = \"\u8BF7\u67E5\u770B\u6E90\u7801\u548C\u8C03\u8BD5\u4FE1\u606F\uFF0C\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 25;\r\n\t\tthis.text.width = 800;\r\n\t\tthis.text.anchorX = 0.5;\r\n\t\tthis.text.align = \"center\"; \r\n\t\tthis.text.x = this.pageWidth / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.owner.addChild(this.text);\t\t\t\r\n\t}\r\n\r\n\tprivate connect(): void {\r\n\t\tthis.hr = new HttpRequest();\r\n\t\tthis.hr.once(Event.PROGRESS, this, this.onHttpRequestProgress);\r\n\t\tthis.hr.once(Event.COMPLETE, this, this.onHttpRequestComplete);\r\n\t\tthis.hr.once(Event.ERROR, this, this.onHttpRequestError);\r\n\t\tthis.hr.send('https://xkxz.zhonghao.huo.inner.layabox.com/', 'name=myname&psword=xxx', 'post', 'text');\r\n\t}\r\n\r\n\tprivate showLogger(): void {\r\n\t\tthis.logger = new Text();\r\n\r\n\t\tthis.logger.fontSize = 30;\r\n\t\tthis.logger.color = \"#FFFFFF\";\r\n\t\tthis.logger.align = 'center';\r\n\t\tthis.logger.valign = 'middle';\r\n\r\n\t\tthis.logger.size(this.pageWidth, this.pageHeight);\r\n\t\tthis.logger.text = \"\u7B49\u5F85\u54CD\u5E94...\\n\";\r\n\t\tthis.box2D.addChild(this.logger);\r\n\t}\r\n\r\n\tprivate onHttpRequestError(e: any = null): void {\r\n\t\tconsole.log(e);\r\n\t}\r\n\r\n\tprivate onHttpRequestProgress(e: any = null): void {\r\n\t\tconsole.log(e)\r\n\t}\r\n\r\n\tprivate onHttpRequestComplete(e: any = null): void {\r\n\t\tthis.logger.text += \"\u6536\u5230\u6570\u636E\uFF1A\" + this.hr.data;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('98580ac3-3573-43ef-9485-c7f506715d1b', '../src/2D/Network/Network_ProtocolBuffer.ts')\r\nexport class Network_ProtocolBuffer extends BaseScript {\r\n\r\n\tprivate ProtoBuf: any = (window as any).protobuf;\r\n\r\n\tprivate text: Laya.Label = new Laya.Label();\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tvar resPath: string = \"resources/res/protobuf/awesome.proto\";\r\n\t\tthis.ProtoBuf.load(resPath, this.onAssetsLoaded);\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.text = \"\u8BF7\u67E5\u770B\u6E90\u7801\u548C\u8C03\u8BD5\u4FE1\u606F\uFF0C\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 25;\r\n\t\tthis.text.width = 800;\r\n\t\tthis.text.anchorX = 0.5;\r\n\t\tthis.text.align = \"center\"; \r\n\t\tthis.text.x = this.pageWidth / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.owner.addChild(this.text);\t\t\t\r\n\t}\r\n\r\n\tprivate onAssetsLoaded(err: any, root: any): void {\r\n\t\tif (err)\r\n\t\t\tthrow err;\r\n\r\n\t\tvar AwesomeMessage: any = root.lookupType(\"awesomepackage.AwesomeMessage\");\r\n\r\n\t\tconsole.log(AwesomeMessage);\r\n\t\tvar payload: any = { awesomeField: \"AwesomeString\" };\r\n\t\tconsole.log(payload);\r\n\t\tvar errMsg: any = AwesomeMessage.verify(payload);\r\n\r\n\t\tif (errMsg)\r\n\t\t\tthrow Error(errMsg);\r\n\r\n\t\tvar message: any = AwesomeMessage.create(payload);\r\n\t\tconsole.log(message);\r\n\t\tvar buffer: any = AwesomeMessage.encode(message).finish();\r\n\r\n\t\t//var message:* = AwesomeMessage.decode(buffer);\r\n\t\t//var message:* = AwesomeMessage.decode(buffer);\r\n\t\tconsole.log(message);\r\n\t\tconsole.log(buffer);\r\n\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Byte = Laya.Byte;\r\nimport Event = Laya.Event;\r\nimport Socket = Laya.Socket;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ba2e6abc-9636-42e7-bbb1-ec0077a58dc1', '../src/2D/Network/NetWork_Socket.ts')\r\nexport class NetWork_Socket extends BaseScript {\r\n\r\n    private socket: Socket;\r\n\tprivate output: Byte;\r\n\r\n\tprivate text: Laya.Label = new Laya.Label();\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.connect();\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.text = \"\u8BF7\u67E5\u770B\u6E90\u7801\u548C\u8C03\u8BD5\u4FE1\u606F\uFF0C\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 25;\r\n\t\tthis.text.width = 800;\r\n\t\tthis.text.anchorX = 0.5;\r\n\t\tthis.text.align = \"center\"; \r\n\t\tthis.text.x = this.pageWidth / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.owner.addChild(this.text);\t\t\t\r\n\t}\r\n\r\n\tprivate connect(): void {\r\n\t\tthis.socket = new Socket();\r\n\t\t//socket.connect(\"echo.websocket.org\", 80);\r\n\t\tthis.socket.connectByUrl(\"wss://echo.websocket.org:80\");\r\n\r\n\t\tthis.output = this.socket.output;\r\n\r\n\t\tthis.socket.on(Event.OPEN, this, this.onSocketOpen);\r\n\t\tthis.socket.on(Event.CLOSE, this, this.onSocketClose);\r\n\t\tthis.socket.on(Event.MESSAGE, this, this.onMessageReveived);\r\n\t\tthis.socket.on(Event.ERROR, this, this.onConnectError);\r\n\t}\r\n\r\n\tprivate onSocketOpen(e: any = null): void {\r\n\t\tconsole.log(\"Connected\");\r\n\r\n\t\t// \u53D1\u9001\u5B57\u7B26\u4E32\r\n\t\tthis.socket.send(\"demonstrate <sendString>\");\r\n\r\n\t\t// \u4F7F\u7528output.writeByte\u53D1\u9001\r\n\t\tvar message: string = \"demonstrate <output.writeByte>\";\r\n\t\tfor (var i: number = 0; i < message.length; ++i) {\r\n\t\t\tthis.output.writeByte(message.charCodeAt(i));\r\n\t\t}\r\n\t\tthis.socket.flush();\r\n\t}\r\n\r\n\tprivate onSocketClose(e: any = null): void {\r\n\t\tconsole.log(\"Socket closed\");\r\n\t}\r\n\r\n\tprivate onMessageReveived(message: any = null): void {\r\n\t\tconsole.log(\"Message from server:\");\r\n\t\tif (typeof (message) == 'string') {\r\n\t\t\tconsole.log(message);\r\n\t\t}\r\n\t\telse if (message instanceof ArrayBuffer) {\r\n\t\t\tconsole.log(new Byte(message).readUTFBytes());\r\n\t\t}\r\n\t\tthis.socket.input.clear();\r\n\t}\r\n\r\n\tprivate onConnectError(e: Event = null): void {\r\n\t\tconsole.log(\"error\");\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Utils = Laya.Utils;\r\nimport XML = Laya.XML;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d0daaa25-02fd-4534-8257-b71342e5af93', '../src/2D/Network/Network_XML.ts')\r\nexport class Network_XML extends BaseScript {\r\n\r\n\r\n\tprivate text: Laya.Label = new Laya.Label();\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.text = \"\u8BF7\u67E5\u770B\u6E90\u7801\u548C\u8C03\u8BD5\u4FE1\u606F\uFF0C\u4E86\u89E3\u5982\u4F55\u4F7F\u7528\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 25;\r\n\t\tthis.text.width = 800;\r\n\t\tthis.text.anchorX = 0.5;\r\n\t\tthis.text.align = \"center\"; \r\n\t\tthis.text.x = this.pageWidth / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.owner.addChild(this.text);\t\t\t\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar xmlValueContainsError: string = \"<root><item>item a</item><item>item b</item>somethis...</root1>\";\r\n\t\tvar xmlValue: string = \"<root><item>item a</item><item>item b</item>somethings...</root>\";\r\n\r\n\t\tthis.proessXML(xmlValueContainsError);\r\n\t\tconsole.log(\"\\n\");\r\n\t\tthis.proessXML(xmlValue);\r\n\t}\r\n\r\n\t// \u4F7F\u7528xml\r\n\tprivate proessXML(source: string): void {\r\n\t\ttry {\r\n\t\t\tvar xml: XML = new XML(source);\r\n\t\t}\r\n\t\tcatch (e) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.printDirectChildren(xml);\r\n\t}\r\n\r\n\t// \u6253\u5370\u76F4\u63A5\u5B50\u7EA7\r\n\tprivate printDirectChildren(xml: XML): void {\r\n\t\tvar nodes: any[] = xml.elements();\r\n\t\tfor (var i: number = 0; i < nodes.length; i++) {\r\n\t\t\tvar node: XML = nodes[i];\r\n\r\n\t\t\tconsole.log(\"\u8282\u70B9\u540D\u79F0: \" + node.name);\r\n\r\n\r\n\t\t\tconsole.log(\"\\n\");\r\n\t\t}\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c49371bb-3aa5-4e62-9bd7-dcdade36c471', '../src/2D/PerformanceTest/PerformanceTest_Cartoon.ts')\r\nexport class PerformanceTest_Cartoon extends BaseScript {\r\n\r\n\tprivate colAmount: number = 100;\r\n\tprivate extraSpace: number = 50;\r\n\tprivate moveSpeed: number = 2;\r\n\tprivate rotateSpeed: number = 2;\r\n\r\n\tprivate characterGroup: any[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tLaya.loader.load(\"resources/res/cartoonCharacters/cartoonCharactors.json\", Loader.ATLAS).then( ()=>{\r\n            this.createCharacters();\r\n        } );\r\n\t}\r\n\r\n\tprivate createCharacters(e: any = null): void {\r\n\t\tthis.characterGroup = [];\r\n\r\n\t\tfor (var i: number = 0; i < this.colAmount; ++i) {\r\n\t\t\tvar tx: number = (this.pageWidth + this.extraSpace * 2) / this.colAmount * i - this.extraSpace;\r\n\t\t\tvar tr: number = 360 / this.colAmount * i;\r\n\t\t\tvar startY: number = (this.pageHeight - 500) / 2;\r\n\r\n\t\t\tthis.createCharacter(\"cartoonCharactors/1.png\", 46, 50, tr).pos(tx, 50 + startY);\r\n\t\t\tthis.createCharacter(\"cartoonCharactors/2.png\", 34, 50, tr).pos(tx, 150 + startY);\r\n\t\t\tthis.createCharacter(\"cartoonCharactors/3.png\", 42, 50, tr).pos(tx, 250 + startY);\r\n\t\t\tthis.createCharacter(\"cartoonCharactors/4.png\", 48, 50, tr).pos(tx, 350 + startY);\r\n\t\t\tthis.createCharacter(\"cartoonCharactors/5.png\", 36, 50, tr).pos(tx, 450 + startY);\r\n\t\t}\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t}\r\n\r\n\tprivate createCharacter(skin: string, pivotX: number, pivotY: number, rotation: number): Sprite {\r\n\t\tvar charactor: Sprite = new Sprite();\r\n\t\tcharactor.loadImage(skin);\r\n\t\tcharactor.rotation = rotation;\r\n\t\tcharactor.pivot(pivotX, pivotY);\r\n\t\tthis.box2D.addChild(charactor);\r\n\t\tthis.characterGroup.push(charactor);\r\n\r\n\t\treturn charactor;\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\t\tfor (var i: number = this.characterGroup.length - 1; i >= 0; --i) {\r\n\t\t\tthis.animateCharactor(this.characterGroup[i]);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate animateCharactor(charactor: Sprite): void {\r\n\t\tcharactor.x += this.moveSpeed;\r\n\t\tcharactor.rotation += this.rotateSpeed;\r\n\r\n\t\tif (charactor.x > this.pageWidth + this.extraSpace) {\r\n\t\t\tcharactor.x = -this.extraSpace;\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Stat = Laya.Stat;\r\nimport Text = Laya.Text;\r\nimport Image = Laya.Image;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('de8c4e42-97fd-40a4-a361-a6aaf1d5e776', '../src/2D/PerformanceTest/PerformanceTest_Cartoon2.ts')\r\nexport class PerformanceTest_Cartoon2 extends BaseScript {\r\n\r\n    private amount: number = 500;\r\n\r\n\tprivate character1: any[] = [\"resources/res/cartoon2/yd-6_01.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_02.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_03.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_04.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_05.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_06.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_07.png\",\r\n\t\t\"resources/res/cartoon2/yd-6_08.png\"];\r\n\tprivate character2: any[] = [\"resources/res/cartoon2/yd-3_01.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_02.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_03.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_04.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_05.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_06.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_07.png\",\r\n\t\t\"resources/res/cartoon2/yd-3_08.png\"];\r\n\tprivate character3: any[] = [\"resources/res/cartoon2/yd-2_01.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_02.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_03.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_04.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_05.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_06.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_07.png\",\r\n\t\t\"resources/res/cartoon2/yd-2_08.png\"];\r\n\tprivate character4: any[] = [\"resources/res/cartoon2/wyd-1_01.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_02.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_03.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_04.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_05.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_06.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_07.png\",\r\n\t\t\"resources/res/cartoon2/wyd-1_08.png\"];\r\n\r\n\tprivate characterSkins: any[] = [this.character1, this.character2, this.character3, this.character4];\r\n\r\n\tprivate characters: any[] = [];\r\n\tprivate text: Text;\r\n\tprivate image:Image;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        // Stat.enable();\r\n\t\t\r\n\t\tthis.image = new Image();\r\n\t\tthis.image.skin = \"resources/res/cartoon2/background.jpg\";\r\n\t\tthis.box2D.addChild(this.image);\r\n\r\n\t\tthis.createCharacters();\r\n\r\n\t\tthis.text = new Text();\r\n\t\tthis.text.zOrder = 10000;\r\n\t\tthis.text.fontSize = 60;\r\n\t\tthis.text.color = \"#ff0000\"\r\n\t\tthis.box2D.addChild(this.text);\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.gameLoop);\r\n\t}\r\n\r\n\tprivate createCharacters(): void {\r\n\t\tvar char: Character;\r\n\t\tvar charSkin: any[];\r\n\t\tfor (var i: number = 0; i < this.amount; i++) {\r\n\t\t\tcharSkin = this.characterSkins[Math.floor(Math.random() * this.characterSkins.length)];\r\n\t\t\tchar = new Character(charSkin,this.pageWidth);\r\n\r\n\t\t\tchar.x = Math.random() * (this.pageWidth + Character.WIDTH * 2);\r\n\t\t\tchar.y = Math.random() * (this.pageHeight - Character.HEIGHT);\r\n\t\t\tchar.zOrder = char.y;\r\n\r\n\t\t\tchar.setSpeed(Math.floor(Math.random() * 2 + 3));\r\n\t\t\tchar.setName(i.toString());\r\n\r\n\t\t\tthis.box2D.addChild(char);\r\n\t\t\tthis.characters.push(char);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate gameLoop(): void {\r\n\t\tfor (var i: number = this.characters.length - 1; i >= 0; i--) {\r\n\t\t\tthis.characters[i].update();\r\n\t\t}\r\n\t\tif (Laya.timer.currFrame % 60 === 0) {\r\n\t\t\tthis.text.text = Stat.FPS.toString();\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.gameLoop);\r\n\t}\r\n}\r\n\r\nclass Character extends Sprite {\r\n\tstatic WIDTH: number = 110;\r\n\tstatic HEIGHT: number = 110;\r\n\r\n\tprivate speed: number = 5;\r\n    private pageWidth: number = 0;\r\n\r\n\tprivate bloodBar: Sprite;\r\n\tprivate animation: Animation;\r\n\tprivate nameLabel: Text;\r\n\r\n\tconstructor(images: any[], pageWidth: number) {\r\n\t\tsuper();\r\n        this.pageWidth = pageWidth;\r\n\t\tthis.createAnimation(images);\r\n\t\tthis.createBloodBar();\r\n\t\tthis.createNameLabel();\r\n\t}\r\n\r\n\tprivate createAnimation(images: any[]): void {\r\n\t\tthis.animation = new Animation();\r\n\t\tthis.animation.loadImages(images);\r\n\t\tthis.animation.interval = 70;\r\n\t\tthis.animation.play(0);\r\n\t\tthis.addChild(this.animation);\r\n\t}\r\n\r\n\tprivate createBloodBar(): void {\r\n\t\tthis.bloodBar = new Sprite();\r\n\t\tthis.bloodBar.loadImage(\"resources/res/cartoon2/blood_1_r.png\");\r\n\t\tthis.bloodBar.x = 20;\r\n\t\tthis.addChild(this.bloodBar);\r\n\t}\r\n\r\n\tprivate createNameLabel(): void {\r\n\t\tthis.nameLabel = new Text();\r\n\t\tthis.nameLabel.color = \"#FFFFFF\";\r\n\t\tthis.nameLabel.text = \"Default\";\r\n\t\tthis.nameLabel.fontSize = 13;\r\n\t\tthis.nameLabel.width = Character.WIDTH;\r\n\t\tthis.nameLabel.align = \"center\";\r\n\t\tthis.addChild(this.nameLabel);\r\n\t}\r\n\r\n\tsetSpeed(value: number): void {\r\n\t\tthis.speed = value;\r\n\t}\r\n\r\n\tsetName(value: string): void {\r\n\t\tthis.nameLabel.text = value;\r\n\t}\r\n\r\n\tupdate(): void {\r\n\t\tthis.x += this.speed;\r\n\t\tif (this.x >= this.pageWidth + Character.WIDTH)\r\n\t\t\tthis.x = -Character.WIDTH;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Rectangle = Laya.Rectangle;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6193a68a-5cd6-41bf-b49e-02218bd55b60', '../src/2D/PerformanceTest/PerformanceTest_Maggots.ts')\r\nexport class PerformanceTest_Maggots extends BaseScript {\r\n\r\n\tprivate texturePath: string = \"resources/res/tinyMaggot.png\";\r\n\r\n\tprivate padding: number = 100;\r\n\tprivate maggotAmount: number = 5000;\r\n\r\n\tprivate tick: number = 0;\r\n\tprivate maggots: any[] = [];\r\n\tprivate wrapBounds: Rectangle;\r\n\tprivate maggotTexture: any;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.wrapBounds = new Rectangle(-this.padding, -this.padding, this.pageWidth + this.padding * 2, this.pageHeight + this.padding * 2);\r\n\r\n\t\tLaya.loader.load(this.texturePath).then( ()=>{\r\n            this.onTextureLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onTextureLoaded(e: any = null): void {\r\n\t\tthis.maggotTexture = Laya.loader.getRes(this.texturePath);\r\n\t\tthis.initMaggots();\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t}\r\n\r\n\tprivate initMaggots(): void {\r\n\t\tvar maggotContainer: Sprite;\r\n\t\tfor (var i: number = 0; i < this.maggotAmount; i++) {\r\n\t\t\tif (i % 16000 == 0)\r\n\t\t\t\tmaggotContainer = this.createNewContainer();\r\n\r\n\t\t\tvar maggot: Maggot = this.newMaggot();\r\n\t\t\tmaggotContainer.addChild(maggot);\r\n\t\t\tthis.maggots.push(maggot);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createNewContainer(): Sprite {\r\n\t\tvar container: Sprite = new Sprite();\r\n\t\tcontainer.size(this.pageWidth, this.pageHeight);\r\n\t\t// \u6B64\u5904cacheAsBitmap\u4E3B\u8981\u662F\u4E3A\u4E86\u521B\u5EFA\u65B0\u753B\u5E03\r\n\t\t// \u89E3\u9664IBQuadrangle\u6570\u91CF\u9650\u5236\r\n\t\t// \u5728\u663E\u793A\u866B\u5B50\u6570\u91CF\u8D85\u8FC716383\u65F6\u9700\u8981\u6253\u5F00\u4E0B\u9762\u4E00\u884C\r\n\t\t// container.cacheAsBitmap = true;\r\n\t\tthis.box2D.addChild(container);\r\n\t\treturn container;\r\n\t}\r\n\r\n\tprivate newMaggot(): Maggot {\r\n\t\tvar maggot: Maggot = new Maggot();\r\n\t\tmaggot.graphics.drawTexture(this.maggotTexture, 0, 0);\r\n\r\n\t\tmaggot.pivot(16.5, 35);\r\n\r\n\t\tvar rndScale: number = 0.8 + Math.random() * 0.3;\r\n\t\tmaggot.scale(rndScale, rndScale);\r\n\t\tmaggot.rotation = 0.1;\r\n\t\tmaggot.x = Math.random() * this.pageWidth;\r\n\t\tmaggot.y = Math.random() * this.pageHeight;\r\n\r\n\t\tmaggot.direction = Math.random() * Math.PI;\r\n\t\tmaggot.turningSpeed = Math.random() - 0.8;\r\n\t\tmaggot.speed = (2 + Math.random() * 2) * 0.2;\r\n\t\tmaggot.offset = Math.random() * 100;\r\n\r\n\t\treturn maggot;\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\t\tvar maggot: any;\r\n\t\tvar wb: Rectangle = this.wrapBounds;\r\n\t\tvar angleUnit: number = 180 / Math.PI;\r\n\t\tvar dir: any, x: number = 0.0, y: number = 0.0;\r\n\t\tfor (var i: number = 0; i < this.maggotAmount; i++) {\r\n\t\t\tmaggot = this.maggots[i];\r\n\r\n\t\t\tmaggot.scaleY = 0.90 + Math.sin(this.tick + maggot.offset) * 0.1;\r\n\r\n\t\t\tmaggot.direction += maggot.turningSpeed * 0.01;\r\n\t\t\tdir = maggot.direction;\r\n\t\t\tx = maggot.x;\r\n\t\t\ty = maggot.y;\r\n\r\n\t\t\tx += Math.sin(dir) * (maggot.speed * maggot.scaleY);\r\n\t\t\ty += Math.cos(dir) * (maggot.speed * maggot.scaleY);\r\n\r\n\t\t\tmaggot.rotation = (-dir + Math.PI) * angleUnit;\r\n\r\n\t\t\tif (x < wb.x)\r\n\t\t\t\tx += wb.width;\r\n\t\t\telse if (x > wb.x + wb.width)\r\n\t\t\t\tx -= wb.width;\r\n\t\t\tif (y < wb.y)\r\n\t\t\t\ty += wb.height;\r\n\t\t\telse if (y > wb.y + wb.height)\r\n\t\t\t\ty -= wb.height;\r\n\r\n\t\t\tmaggot.pos(x, y);\r\n\t\t}\r\n\r\n\t\tthis.tick += 0.1;\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n}\r\n\r\nclass Maggot extends Sprite {\r\n\tdirection: number;\r\n\tturningSpeed: number;\r\n\tspeed: number;\r\n\toffset: number;\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('293180de-d815-409f-9e34-7fb7483191e5', '../src/2D/PerformanceTest/PerformanceTest_Skeleton.ts')\r\nexport class PerformanceTest_Skeleton extends BaseScript {\r\n\r\n    private mArmature: Skeleton;\r\n    private fileName: string = \"Dragon\";\r\n\r\n    private rowCount: number = 10;\r\n    private colCount: number = 10;\r\n    private xOff: number = 50;\r\n    private yOff: number = 100;\r\n    private mSpacingX: number;\r\n    private mSpacingY: number;\r\n\r\n    private mAnimationArray: any[] = [];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n        this.mSpacingX = this.pageWidth / this.colCount;\r\n\t\tthis.mSpacingY = this.pageHeight / this.rowCount;\r\n        Laya.loader.load(\"resources/res/skeleton/\" + this.fileName + \"/\" + this.fileName + \".sk\").then((templet: Templet) => {\r\n            for (var i: number = 0; i < this.rowCount; i++) {\r\n                for (var j: number = 0; j < this.colCount; j++) {\r\n                    this.mArmature = templet.buildArmature(1);\r\n                    this.mArmature.x = this.xOff + j * this.mSpacingX;\r\n                    this.mArmature.y = this.yOff + i * this.mSpacingY;\r\n                    this.mAnimationArray.push(this.mArmature);\r\n                    this.mArmature.play(0, true);\r\n                    this.mArmature.scale(0.2,0.2);\r\n                    this.box2D.addChild(this.mArmature);\r\n                }\r\n            }\r\n            this.box2D.on(Event.CLICK, this, this.toggleAction);\r\n        });\r\n    }\r\n\r\n    onDestroy(): void {\r\n        this.box2D.off(Event.CLICK, this, this.toggleAction);\r\n    }\r\n\r\n    private mActionIndex: number = 0;\r\n\r\n    toggleAction(e: any = null): void {\r\n        this.mActionIndex++;\r\n        var tAnimNum: number = this.mArmature.getAnimNum();\r\n        if (this.mActionIndex >= tAnimNum) {\r\n            this.mActionIndex = 0;\r\n        }\r\n        for (var i: number = 0, n: number = this.mAnimationArray.length; i < n; i++) {\r\n            this.mAnimationArray[i].play(this.mActionIndex, true);\r\n        }\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport BoxCollider = Laya.BoxCollider;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport RigidBody = Laya.RigidBody;\r\nimport ChainCollider = Laya.ChainCollider;\r\nimport PolygonCollider = Laya.PolygonCollider;\r\nimport Physics = Laya.Physics;\r\nimport CircleCollider = Laya.CircleCollider;\r\nimport RevoluteJoint = Laya.RevoluteJoint;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('47c09d32-9526-42e6-8283-e1c8f965b163', '../src/2D/Physics/Physics_Bridge.ts')\r\nexport class Physics_Bridge extends BaseScript {\r\n\r\n    private ecount = 30;\r\n    private label: Label;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        Laya.Config.isAntialias = true;\r\n        Laya.Physics.enable();\r\n        Laya.PhysicsDebugDraw.enable();\r\n\r\n        this.createBridge();\r\n        this.eventListener();\r\n    }\r\n\r\n    createBridge() {\r\n        const startPosX = 250, startPosY = 350;\r\n\r\n        let ground = new Sprite();\r\n        this.box2D.addChild(ground);\r\n        let groundBody: RigidBody = new RigidBody();\r\n        groundBody.type = \"static\";\r\n        ground.addComponentInstance(groundBody);\r\n        let chainCollider: ChainCollider = ground.addComponent(ChainCollider);\r\n        chainCollider.points = \"0,450,1024,450\";\r\n\r\n        let point1 = new Sprite();\r\n        this.box2D.addChild(point1);\r\n        point1.pos(startPosX, startPosY);\r\n        let pointRB1 = new RigidBody();\r\n        pointRB1.type = \"static\";\r\n        point1.addComponentInstance(pointRB1);\r\n        let preBody = pointRB1;\r\n\r\n        // bridge\r\n        let width = 20, height = 2.5;\r\n        for (let i = 0; i < this.ecount; i++) {\r\n            let sp = new Sprite();\r\n            this.box2D.addChild(sp);\r\n            sp.pos(startPosX + i * width, startPosY);\r\n            let rb: RigidBody = sp.addComponent(RigidBody);\r\n            let bc: BoxCollider = sp.addComponent(BoxCollider);\r\n            bc.width = width;\r\n            bc.height = height;\r\n            bc.density = 20;\r\n            bc.friction = 0.2;\r\n            bc.y = -height / 2;\r\n            let rj = new RevoluteJoint();\r\n            rj.otherBody = preBody;\r\n            sp.addComponentInstance(rj);\r\n            preBody = rb;\r\n        }\r\n        let point2 = new Sprite();\r\n        this.box2D.addChild(point2);\r\n        point2.pos(startPosX + this.ecount * width, startPosY);\r\n        let pointRB2 = new RigidBody();\r\n        pointRB2.type = \"static\";\r\n        point2.addComponentInstance(pointRB2);\r\n\r\n        let rj = new RevoluteJoint();\r\n        rj.otherBody = preBody;\r\n        point2.addComponentInstance(rj);\r\n\r\n        for (let i = 0; i < 2; i++) {\r\n            let sp = new Sprite();\r\n            this.box2D.addChild(sp);\r\n            sp.pos(350 + 100 * i, 300);\r\n            let rb: RigidBody = sp.addComponent(RigidBody);\r\n            rb.bullet = true;\r\n            let pc: PolygonCollider = sp.addComponent(PolygonCollider);\r\n            pc.points = \"-10,0,10,0,0,30\";\r\n            pc.density = 1.0;\r\n        }\r\n\r\n        for (let i = 0; i < 2; i++) {\r\n            let sp = new Sprite();\r\n            this.box2D.addChild(sp);\r\n            sp.pos(400 + 150 * i, 350);\r\n            let rb: RigidBody = sp.addComponent(RigidBody);\r\n            rb.bullet = true;\r\n            let pc: CircleCollider = sp.addComponent(CircleCollider);\r\n            pc.radius = 10;\r\n        }\r\n    }\r\n\r\n    eventListener() {\r\n        // \u5355\u51FB\u4EA7\u751F\u65B0\u7684\u5C0F\u7403\u521A\u4F53\r\n        this.box2D.on(Event.CLICK, this, (e:Laya.Event) => {\r\n            let \r\n                targetX = (300 + Math.random() * 400) / Physics.PIXEL_RATIO, // [300, 700)\r\n                targetY = 500 / Physics.PIXEL_RATIO;\r\n            let newBall = new Sprite();\r\n            this.box2D.addChild(newBall);\r\n            let circleBody: RigidBody = newBall.addComponent(RigidBody);\r\n            circleBody.bullet = true;\r\n            let circleCollider: CircleCollider = newBall.addComponent(CircleCollider);\r\n            circleCollider.radius = 5;\r\n            circleCollider.x = e.target.mouseX;\r\n            circleCollider.y = e.target.mouseY;\r\n            let circlePosx = circleCollider.x / Physics.PIXEL_RATIO;\r\n            let circlePosy = circleCollider.y / Physics.PIXEL_RATIO;\r\n            let velocityX = targetX - circlePosx;\r\n            let velocityY = targetY - circlePosy;\r\n            circleBody.linearVelocity = {\"x\": velocityX * 3, \"y\": velocityY * 3};\r\n            Laya.timer.frameOnce(120, this, function() {\r\n                newBall.destroy();\r\n            });\r\n        });\r\n\r\n        let label: Label = this.label = this.box2D.addChild(new Label(\"\u5355\u51FB\u5C4F\u5E55\u4EA7\u751F\u65B0\u7684\u5C0F\u7403\u521A\u4F53\uFF0C\u51FB\u5411bridge\u7684\u968F\u673A\u4F4D\u7F6E\")) as Label;\r\n        label.top = 20;\r\n        label.right = 20;\r\n        label.fontSize = 16;\r\n        label.color = \"#e69999\";\r\n    }\r\n\r\n    onDestroy() {\r\n        this.box2D.offAll(Event.CLICK);\r\n        this.box2D.removeChild(this.label);\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport RigidBody = Laya.RigidBody;\r\nimport ChainCollider = Laya.ChainCollider;\r\nimport MouseJoint = Laya.MouseJoint;\r\nimport Physics = Laya.Physics;\r\nimport CircleCollider = Laya.CircleCollider;\r\nimport ColliderBase = Laya.ColliderBase;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('1d0e4f07-4a46-4ccf-83f6-07d08e36a763', '../src/2D/Physics/Physics_CollisionEvent.ts')\r\nexport class Physics_CollisionEvent extends BaseScript {\r\n\r\n    private count: number = 7;\r\n    private sensorCollider: CircleCollider;\r\n    private bodys: Array<any> = [];\r\n    private touching: Array<boolean> = [];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        Laya.Config.isAntialias = true;\r\n        Laya.Physics.enable();\r\n        Laya.PhysicsDebugDraw.enable();\r\n\r\n        this.createSensor();\r\n    }\r\n\r\n    createSensor() {\r\n\r\n        //\u5730\u9762\r\n        let ground = new Sprite();\r\n        this.owner.addChild(ground);\r\n        let groundBody: RigidBody = new RigidBody();\r\n        groundBody.type = \"static\";\r\n        ground.addComponentInstance(groundBody);\r\n        //\u5730\u9762\u78B0\u649E\u8303\u56F4\r\n        let chainCollider: ChainCollider = ground.addComponent(ChainCollider);\r\n        chainCollider.points = \"100,300,100,450,1024,450,1024,300\";\r\n\r\n        //\u4F20\u611F\u5668\r\n        let sensorCollider: CircleCollider = this.sensorCollider = ground.addComponent(CircleCollider);\r\n        sensorCollider.isSensor = true;\r\n        sensorCollider.radius = 100;\r\n        sensorCollider.x = 350;\r\n        sensorCollider.y = 200;\r\n\r\n        //\u5C0F\u7403\r\n        for (let i = 0, len = this.count; i < len; i++) {\r\n            let sp = new Sprite();\r\n            this.owner.addChild(sp);\r\n            sp.pos(350 + i * 50, 100).size(40, 40);\r\n            let rb: RigidBody = sp.addComponent(RigidBody);\r\n            this.bodys.push(rb);\r\n            this.touching[i] = false;\r\n            let body: any = rb.getBody();\r\n            if( body.GetUserData() )\r\n                body.SetUserData({'pointer': i});\r\n            else\r\n            {\r\n                console.log(\"GetUserData is null\");\r\n                body.pointer = i;\r\n            }\r\n                \r\n            let circleCollider: CircleCollider = sp.addComponent(CircleCollider);\r\n            circleCollider.radius = 20;\r\n            sp.addComponent(MouseJoint);\r\n        }\r\n\r\n        ground.on(Event.TRIGGER_ENTER, this, this.onTriggerEnter);\r\n        ground.on(Event.TRIGGER_EXIT, this, this.onTriggerExit);\r\n        Laya.physicsTimer.frameLoop(1, this, this.onTriggerStay);\r\n    }\r\n\r\n    onTriggerEnter(colliderB: ColliderBase, colliderA: ColliderBase, contact:any) {\r\n        if (colliderA === this.sensorCollider) {\r\n            let bodyB: RigidBody = colliderB.owner.getComponent(RigidBody);\r\n            if( bodyB.getBody().GetUserData() )\r\n            {\r\n                let index = bodyB.getBody().GetUserData().pointer;\r\n                this.touching[index] = true;\r\n            }\r\n            else\r\n            {\r\n                let index = bodyB.getBody().pointer;\r\n                this.touching[index] = true;                \r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    onTriggerStay() {\r\n        const box2d: any = (<any>window).box2d;\r\n        // \u904D\u5386\u6240\u6709\u521A\u4F53\r\n        let bodys = this.bodys, body: RigidBody;\r\n        for (let i = 0, len = this.count; i < len; i++) {\r\n            body = bodys[i];\r\n            if (!this.touching[i]) {\r\n                let body1: any = body.getBody();\r\n                if( body1.GetUserData() )\r\n                    body1.SetUserData({'pointer': i});                \r\n                continue;\r\n            }\r\n            let bodyA: RigidBody = this.sensorCollider.owner.getComponent(RigidBody);\r\n            let bodyB: RigidBody = body.owner.getComponent(RigidBody);\r\n            let bodyOriA = bodyA.getBody();\r\n            let bodyOriB = bodyB.getBody();\r\n            let position = bodyOriB.GetPosition();\r\n            // let center = bodyOriA.GetPosition();\r\n            let center = new box2d.b2Vec2((450 + 100) / Physics.PIXEL_RATIO, (300 + 100) / Physics.PIXEL_RATIO);\r\n            const d = box2d.b2Vec2.SubVV(center, position, new box2d.b2Vec2());\r\n            if (d.LengthSquared() < 1E-5) {\r\n                continue;\r\n            }\r\n            d.Normalize();\r\n            const F = new box2d.b2Vec2(d.x * 100, d.y * 100);\r\n            bodyB.applyForce(position, F);\r\n        }\r\n    }\r\n\r\n    onTriggerExit(colliderB: ColliderBase, colliderA: ColliderBase, contact:any) {\r\n        if (colliderA === this.sensorCollider) {\r\n            let bodyB: RigidBody = colliderB.owner.getComponent(RigidBody);\r\n            if( bodyB.getBody().GetUserData() )\r\n            {\r\n                let index = bodyB.getBody().GetUserData().pointer;\r\n                this.touching[index] = false;\r\n            }            \r\n            else\r\n            {\r\n                let index = bodyB.getBody().pointer;\r\n                this.touching[index] = false;                \r\n            }\r\n        }\r\n    }\r\n\r\n    onDestroy() {\r\n        Laya.physicsTimer.clearAll(this);\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport BoxCollider = Laya.BoxCollider;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport RigidBody = Laya.RigidBody;\r\nimport ChainCollider = Laya.ChainCollider;\r\nimport MouseJoint = Laya.MouseJoint;\r\nimport PolygonCollider = Laya.PolygonCollider;\r\nimport CircleCollider = Laya.CircleCollider;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('699cf22f-9b38-440d-9278-5bf1a82cbc7a', '../src/2D/Physics/Physics_CollisionFiltering.ts')\r\nexport class Physics_CollisionFiltering extends BaseScript {\r\n\r\n    public static  k_smallGroup = 1;\r\n    public static  k_middleGroup = 0;\r\n    public static  k_largeGroup = -1;\r\n    public static  k_triangleCategory = 0x2;\r\n    public static  k_boxCategory = 0x4;\r\n    public static  k_circleCategory = 0x8;\r\n    public static  k_triangleMask = 0xF;\r\n    public static  k_boxMask = 0xF ^ Physics_CollisionFiltering.k_circleCategory;\r\n    public static  k_circleMask = Physics_CollisionFiltering.k_triangleCategory | Physics_CollisionFiltering.k_boxCategory | 0x01; // 0x01\u4E3Ahouse\u521A\u4F53\u9ED8\u8BA4\u7684category\uFF0C\u82E5\u4E0D\u8BBE\u7F6E\uFF0C\u5219\u4F1A\u7A7F\u900Fhouse\r\n    private curTarget: Sprite;\r\n    private preMovementX: number = 0;\r\n    private preMovementY: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        this.preMovementX = 0;\r\n        this.preMovementY = 0;\r\n        Laya.Config.isAntialias = true;\r\n        Laya.Physics.enable();\r\n        Laya.PhysicsDebugDraw.enable();\r\n\r\n        this.createHouse();\r\n        for (let i = 1; i <= 3; i++) {\r\n            this.createBox(300, 300, 20, 20, i);\r\n            this.createTriangle(500, 300, 20, i);\r\n            this.createCircle(700, 300, 10, i);\r\n        }\r\n    }\r\n\r\n    createHouse() {\r\n        let house=  new Sprite();\r\n        this.box2D.addChild(house);\r\n        let rigidbody: RigidBody = house.addComponent(RigidBody);\r\n        rigidbody.type = \"static\";\r\n        let chainCollider: ChainCollider = house.addComponent(ChainCollider);\r\n        chainCollider.loop = true;\r\n        chainCollider.points = \"450,0,0,200,0,450,1024,450,1024,200\";\r\n    }\r\n\r\n    createBox(posx:number, posy:number, width:number, height:number, ratio:number) {\r\n        let box = new Sprite();\r\n        box.on(Event.MOUSE_DOWN, this, this.mouseDown);\r\n        this.box2D.addChild(box);\r\n        box.pos(posx, posy).size(width * ratio, height * ratio);\r\n        let rigidbody: RigidBody = box.addComponent(RigidBody);\r\n        rigidbody.category = Physics_CollisionFiltering.k_boxCategory;\r\n        rigidbody.mask = Physics_CollisionFiltering.k_boxMask;\r\n        let boxCollider: BoxCollider = box.addComponent(BoxCollider);\r\n        boxCollider.width = width * ratio;\r\n        boxCollider.height = height * ratio;\r\n        this.addGroup(rigidbody, ratio);\r\n    }\r\n\r\n    createTriangle(posx:number, posy:number, side:number, ratio:number) {\r\n        let triangle = new Sprite();\r\n        triangle.on(Event.MOUSE_DOWN, this, this.mouseDown);\r\n        this.box2D.addChild(triangle);\r\n        triangle.pos(posx, posy).size(side * ratio, side * ratio);\r\n        let rigidbody: RigidBody = triangle.addComponent(RigidBody);\r\n        rigidbody.category = Physics_CollisionFiltering.k_triangleCategory;\r\n        rigidbody.mask = Physics_CollisionFiltering.k_triangleMask;\r\n        let polygonCollider: PolygonCollider = triangle.addComponent(PolygonCollider);\r\n        polygonCollider.points = `0,0,0,${side * ratio},${side * ratio},0`;\r\n        this.addGroup(rigidbody, ratio);\r\n    }\r\n\r\n    createCircle(posx:number, posy:number, radius:number, ratio:number) {\r\n        let circle = new Sprite();\r\n        circle.on(Event.MOUSE_DOWN, this, this.mouseDown);\r\n        this.box2D.addChild(circle);\r\n        circle.pos(posx, posy).size(radius * 2 * ratio, radius * 2 * ratio);\r\n        let rigidbody: RigidBody = circle.addComponent(RigidBody);\r\n        rigidbody.category = Physics_CollisionFiltering.k_circleCategory;\r\n        rigidbody.mask = Physics_CollisionFiltering.k_circleMask;\r\n        let circleCollider: CircleCollider = circle.addComponent(CircleCollider);\r\n        circleCollider.radius = radius * ratio;\r\n        this.addGroup(rigidbody, ratio);\r\n    }\r\n\r\n    addGroup(rigidbody:RigidBody, ratio:number) {\r\n        switch(ratio) {\r\n            case 1:\r\n                rigidbody.group = Physics_CollisionFiltering.k_smallGroup;\r\n                break;\r\n            case 2:\r\n                rigidbody.group = Physics_CollisionFiltering.k_middleGroup;\r\n                break;\r\n            case 3:\r\n                rigidbody.group = Physics_CollisionFiltering.k_largeGroup;\r\n                break;\r\n        }\r\n    }\r\n\r\n    mouseDown(e: Event) {\r\n        this.curTarget = e.target;\r\n        // \u65B9\u6848\u4E00\uFF0C\u4F7F\u7528 MouseJoint\r\n        let mouseJoint: MouseJoint = this.curTarget.addComponent(MouseJoint);\r\n        Laya.timer.callLater(mouseJoint, (<any>mouseJoint).onMouseDown);\r\n        this.box2D.on(Event.MOUSE_UP, this, this.destoryJoint);\r\n        this.box2D.on(Event.MOUSE_OUT, this, this.destoryJoint);\r\n        // \u65B9\u6848\u4E8C\uFF0C\u81EA\u5DF1\u5B9E\u73B0\uFF0C\u53EF\u4EE5\u5B9E\u73B0\u66F4\u5927\u7A0B\u5EA6\u7684\u63A7\u5236\r\n        // this.box2D.on(Event.MOUSE_MOVE, this, this.mouseMove);\r\n        // this.box2D.on(Event.MOUSE_UP, this, this.mouseUp);\r\n        // this.box2D.on(Event.MOUSE_OUT, this, this.mouseUp);\r\n        // let rigidbody = this.curTarget.getComponent(RigidBody);\r\n        // rigidbody.type = \"kinematic\";\r\n    }\r\n\r\n    mouseMove(e: any) {\r\n        let movementX = e.nativeEvent.movementX;\r\n        let movementY = e.nativeEvent.movementY;\r\n        this.preMovementX = movementX;\r\n        this.preMovementY = movementY;\r\n        this.curTarget.pos(this.box2D.mouseX, this.box2D.mouseY);\r\n    }\r\n\r\n    mouseUp() {\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.mouseMove);\r\n        this.box2D.off(Event.MOUSE_UP, this, this.mouseUp);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.mouseUp);\r\n        let rigidbody: RigidBody = this.curTarget.getComponent(RigidBody);\r\n        rigidbody.type = \"dynamic\";\r\n        rigidbody.linearVelocity = [this.preMovementX, this.preMovementY];\r\n        this.curTarget = null;\r\n    }\r\n\r\n    destoryJoint() {\r\n        this.box2D.off(Event.MOUSE_UP, this, this.destoryJoint);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.destoryJoint);\r\n        let mouseJoint: MouseJoint = this.curTarget.getComponent(MouseJoint);\r\n        mouseJoint.destroy();\r\n        this.curTarget = null;\r\n    }\r\n\r\n    onDestroy() {\r\n        this.box2D.off(Event.MOUSE_MOVE, this, this.mouseMove);\r\n        this.box2D.off(Event.MOUSE_UP, this, this.mouseUp);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.mouseUp);\r\n        this.box2D.off(Event.MOUSE_UP, this, this.destoryJoint);\r\n        this.box2D.off(Event.MOUSE_OUT, this, this.destoryJoint);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport BoxCollider = Laya.BoxCollider;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport RigidBody = Laya.RigidBody;\r\nimport ChainCollider = Laya.ChainCollider;\r\nimport RevoluteJoint = Laya.RevoluteJoint;\r\nimport Physics = Laya.Physics;\r\nimport CircleCollider = Laya.CircleCollider;\r\nimport PolygonCollider = Laya.PolygonCollider;\r\nimport DistanceJoint = Laya.DistanceJoint;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6b3e7edf-f04c-4d8b-bb3a-6e08d193d2cb', '../src/2D/Physics/Physics_Strandbeests.ts')\r\nexport class Physics_Strandbeests extends BaseScript {\r\n\r\n    private scale = 2.5;\r\n    private pos: Array<number> = [500, 400];\r\n    private m_offset: Array<number> = [0, -80 * this.scale];\r\n    private pivot: Array<number> = [0, 8 * this.scale];\r\n    private wheel: Sprite;\r\n    private chassis: Sprite;\r\n    private motorJoint: RevoluteJoint;\r\n    private label: Label;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        Laya.Config.isAntialias = true;\r\n        Laya.Physics.enable();\r\n        Laya.PhysicsDebugDraw.enable();\r\n\r\n        this.Construct();\r\n        this.eventListener();\r\n    }\r\n\r\n    Construct() {\r\n        // Ground\r\n        let ground = new Sprite();\r\n        this.box2D.addChild(ground);\r\n        let rigidbody: RigidBody = new RigidBody();\r\n        rigidbody.type = \"static\";\r\n        ground.addComponentInstance(rigidbody);\r\n        let chainCollider: ChainCollider = ground.addComponent(ChainCollider);\r\n        chainCollider.points = \"0,200,0,450,1024,450,1024,200\";\r\n\r\n        // Balls\r\n        for (let i = 1; i <= 32; i++) {\r\n            let small = new Sprite();\r\n            small.pos(i * 30 + 50, 450 - 5 * this.scale);\r\n            this.box2D.addChild(small);\r\n            let sBody: RigidBody = small.addComponent(RigidBody);\r\n            let sCollider: CircleCollider = small.addComponent(CircleCollider);\r\n            sCollider.radius = 2.5 * this.scale;\r\n        }\r\n\r\n        // Chassis\r\n        let chassis: Sprite = this.chassis = new Sprite();\r\n        chassis.pos(this.pos[0] + this.pivot[0] + this.m_offset[0], this.pos[1] + this.pivot[1] + this.m_offset[1]).size(50 * this.scale, 20 * this.scale);\r\n        this.box2D.addChild(chassis);\r\n        let chassisBody: RigidBody = chassis.addComponent(RigidBody);\r\n        chassisBody.group = -1;\r\n        let chassisCollider: BoxCollider = chassis.addComponent(BoxCollider);\r\n        chassisCollider.density = 1;\r\n        chassisCollider.width = 50 * this.scale;\r\n        chassisCollider.height = 20 * this.scale;\r\n        chassisCollider.x = -25 * this.scale;\r\n        chassisCollider.y = -10 * this.scale;\r\n\r\n        // Circle\r\n        let wheel = this.wheel = new Sprite();\r\n        wheel.pos(this.pos[0] + this.pivot[0] + this.m_offset[0], this.pos[1] + this.pivot[1] + this.m_offset[1]); //.size(32, 32);\r\n        this.box2D.addChild(wheel);\r\n        let wheelBody: RigidBody = wheel.addComponent(RigidBody);\r\n        wheelBody.group = -1;\r\n        let wheelCollider: CircleCollider = wheel.addComponent(CircleCollider);\r\n        wheelCollider.density = 1;\r\n        wheelCollider.radius = 16 * this.scale;\r\n        wheelCollider.x = -16 * this.scale;\r\n        wheelCollider.y = -16 * this.scale;\r\n\r\n        // \u8F6C\u52A8\u5173\u8282\r\n        let motorJoint: RevoluteJoint = this.motorJoint = new RevoluteJoint();\r\n        motorJoint.otherBody = wheelBody;\r\n        // motorJoint.anchor = this.pivot;\r\n        motorJoint.motorSpeed = 2.0;\r\n        motorJoint.maxMotorTorque = 400.0;\r\n        motorJoint.enableMotor = true;\r\n        chassis.addComponentInstance(motorJoint);\r\n\r\n        let wheelOriBody = wheelBody.getBody();\r\n        let wheelAnchor = [this.pivot[0], this.pivot[1] - 8 * this.scale];\r\n        this.createLeg(-1, wheelAnchor);\r\n        this.createLeg(1, wheelAnchor);\r\n        wheelOriBody.SetTransform(wheelOriBody.GetPosition(), 120.0 * Math.PI / 180.0);\r\n        this.createLeg(-1.0, wheelAnchor);\r\n        this.createLeg(1.0, wheelAnchor);\r\n        wheelOriBody.SetTransform(wheelOriBody.GetPosition(), -120.0 * Math.PI / 180.0);\r\n        this.createLeg(-1.0, wheelAnchor);\r\n        this.createLeg(1.0, wheelAnchor);\r\n    }\r\n\r\n    createLeg(s: number, wheelAnchor : any) {\r\n        const box2d: any = (<any>window).box2d;\r\n        const wheelBody: RigidBody = this.wheel.getComponent(RigidBody);\r\n        const chassisBody: RigidBody = this.chassis.getComponent(RigidBody);\r\n\r\n        const p1 = [54 * s * this.scale, -61 * -1 * this.scale];\r\n        const p2 = [72 * s * this.scale, -12 * -1 * this.scale];\r\n        const p3 = [43 * s * this.scale, -19 * -1 * this.scale];\r\n        const p4 = [31 * s * this.scale,  8  * -1 * this.scale];\r\n        const p5 = [60 * s * this.scale,  15 * -1 * this.scale];\r\n        const p6 = [25 * s * this.scale,  37 * -1 * this.scale];\r\n\r\n        let leg1 = new Sprite();\r\n        leg1.pos(this.pos[0] + this.m_offset[0], this.pos[1] + this.m_offset[1] + 16 * this.scale); // TODO \u8FD9\u91CC\u7684\u6570\u503C\u5F85\u4F18\u5316\r\n        this.box2D.addChild(leg1);\r\n        let legBody1: RigidBody = leg1.addComponent(RigidBody);\r\n        legBody1.angularDamping = 10;\r\n        legBody1.group = -1;\r\n        let legCollider1: PolygonCollider = leg1.addComponent(PolygonCollider);\r\n        legCollider1.density = 1;\r\n        let leg2 = new Sprite();\r\n        leg2.pos(this.pos[0] + this.m_offset[0] + p4[0], this.pos[1] + this.m_offset[1] + p4[1] + 16 * this.scale);\r\n        this.box2D.addChild(leg2);\r\n        let legBody2: RigidBody = leg2.addComponent(RigidBody);\r\n        legBody2.angularDamping = 10;\r\n        legBody2.group = -1;\r\n        let legCollider2: PolygonCollider = leg2.addComponent(PolygonCollider);\r\n        legCollider2.density = 1;\r\n\r\n        if (s > 0) {\r\n            legCollider1.points = p1.concat(p2).concat(p3).join(\",\");\r\n            legCollider2.points = [0, 0].concat(B2Math.SubVV(p5, p4)).concat(B2Math.SubVV(p6, p4)).join(\",\");\r\n        } else {\r\n            legCollider1.points = p1.concat(p3).concat(p2).join(\",\");\r\n            legCollider2.points = [0, 0].concat(B2Math.SubVV(p6, p4)).concat(B2Math.SubVV(p5, p4)).join(\",\");\r\n        }\r\n        \r\n        const dampingRatio: number = 0.5;\r\n        const frequencyHz: number = 10.0;\r\n        let distanceJoint1: DistanceJoint = new DistanceJoint();\r\n        distanceJoint1.otherBody = legBody2;\r\n        distanceJoint1.selfAnchor = p2;\r\n        distanceJoint1.otherAnchor = B2Math.SubVV(p5, p4);\r\n        distanceJoint1.frequency = frequencyHz;\r\n        distanceJoint1.damping = dampingRatio;\r\n        leg1.addComponentInstance(distanceJoint1);\r\n        distanceJoint1.maxLength = distanceJoint1.minLength = distanceJoint1.length || distanceJoint1.joint.GetLength() * Physics.PIXEL_RATIO;\r\n\r\n        let distanceJoint2: DistanceJoint = new DistanceJoint();\r\n        distanceJoint2.otherBody = legBody2;\r\n        distanceJoint2.selfAnchor = p3;\r\n        // distanceJoint2.otherAnchor = p4;\r\n        distanceJoint2.frequency = frequencyHz;\r\n        distanceJoint2.damping = dampingRatio;\r\n        leg1.addComponentInstance(distanceJoint2);\r\n        distanceJoint2.maxLength = distanceJoint2.minLength = distanceJoint2.length || distanceJoint2.joint.GetLength() * Physics.PIXEL_RATIO;;\r\n\r\n        let localAnchor = new box2d.b2Vec2();\r\n        wheelBody.getBody().GetLocalPoint({'x': (this.pos[0] + this.m_offset[0]) / Physics.PIXEL_RATIO, 'y': (this.pos[1] + this.m_offset[1]) / Physics.PIXEL_RATIO}, localAnchor);\r\n        let anchor = [-localAnchor.x * Physics.PIXEL_RATIO, -localAnchor.y * Physics.PIXEL_RATIO];\r\n\r\n        let distanceJoint3: DistanceJoint = new DistanceJoint();\r\n        distanceJoint3.otherBody = wheelBody;\r\n        distanceJoint3.selfAnchor = p3;\r\n        distanceJoint3.otherAnchor = anchor; // \u56E0\u4E3A\u6709\u65CB\u8F6C\uFF0ClocalAnchor\u5F88\u96BE\u8BA1\u7B97\uFF0C\u4F7F\u7528\u7EDD\u5BF9\u4F4D\u7F6E\u6362\u7B97\r\n        distanceJoint3.frequency = frequencyHz;\r\n        distanceJoint3.damping = dampingRatio;\r\n        leg1.addComponentInstance(distanceJoint3);\r\n        distanceJoint3.maxLength = distanceJoint3.minLength = distanceJoint3.length || distanceJoint3.joint.GetLength() * Physics.PIXEL_RATIO;;\r\n\r\n        let distanceJoint4: DistanceJoint = new DistanceJoint();\r\n        distanceJoint4.otherBody = wheelBody;\r\n        distanceJoint4.selfAnchor = B2Math.SubVV(p6, p4);\r\n        distanceJoint4.otherAnchor = anchor;\r\n        distanceJoint4.frequency = frequencyHz;\r\n        distanceJoint4.damping = dampingRatio;\r\n        leg2.addComponentInstance(distanceJoint4);\r\n        distanceJoint4.maxLength = distanceJoint4.minLength = distanceJoint4.length || distanceJoint4.joint.GetLength() * Physics.PIXEL_RATIO;;\r\n\r\n        let revoluteJoint: RevoluteJoint = new RevoluteJoint();\r\n        revoluteJoint.otherBody = legBody2;\r\n        revoluteJoint.anchor = B2Math.AddVV(p4, this.pivot);\r\n        this.chassis.addComponentInstance(revoluteJoint);\r\n    }\r\n\r\n    eventListener() {\r\n        // \u53CC\u51FB\u5C4F\u5E55\uFF0C\u4EFF\u751F\u673A\u5668\u4EBA\u5411\u76F8\u53CD\u65B9\u5411\u8FD0\u52A8\r\n        Laya.stage.on(Event.DOUBLE_CLICK, this, () => {\r\n            this.motorJoint.motorSpeed = -this.motorJoint.motorSpeed;\r\n        });\r\n\r\n        // \u5355\u51FB\u4EA7\u751F\u65B0\u7684\u5C0F\u7403\u521A\u4F53\r\n        Laya.stage.on(Event.CLICK, this, (e:Event) => {\r\n            const chassisBody = this.chassis.getComponent(RigidBody);\r\n            const chassisPos = chassisBody.getBody().GetPosition();\r\n            let newBall = new Sprite();\r\n            this.box2D.addChild(newBall);\r\n            let circleBody: RigidBody = newBall.addComponent(RigidBody);\r\n            let circleCollider: CircleCollider = newBall.addComponent(CircleCollider);\r\n            circleCollider.radius = 3 * this.scale;\r\n            circleCollider.x = e.target.mouseX;\r\n            circleCollider.y = e.target.mouseY;\r\n            let circlePosx = circleCollider.x / Physics.PIXEL_RATIO;\r\n            let circlePosy = circleCollider.y / Physics.PIXEL_RATIO;\r\n            let velocityX = chassisPos.x - circlePosx;\r\n            let velocityY = chassisPos.y - circlePosy;\r\n            circleBody.linearVelocity = {\"x\": velocityX * 5, \"y\": velocityY * 5};\r\n            Laya.timer.frameOnce(120, this, function() {\r\n                newBall.destroy();\r\n            });\r\n        });\r\n\r\n        let label: Label = this.label = this.box2D.addChild(new Label(\"\u53CC\u51FB\u5C4F\u5E55\uFF0C\u4EFF\u751F\u673A\u5668\u4EBA\u5411\u76F8\u53CD\u65B9\u5411\u8FD0\u52A8\\n\u5355\u51FB\u4EA7\u751F\u65B0\u7684\u5C0F\u7403\u521A\u4F53\")) as Label;\r\n        label.top = 20;\r\n        label.right = 20;\r\n        label.fontSize = 16;\r\n        label.color = \"#e69999\";\r\n    }\r\n\r\n    dispose() {\r\n        Laya.stage.offAll(Event.CLICK);\r\n        Laya.stage.offAll(Event.DOUBLE_CLICK);\r\n        this.box2D.removeChild(this.label);\r\n    }\r\n}\r\n\r\nclass B2Math {\r\n    static AddVV(a:any, b:any) {\r\n        return [a[0] + b[0], a[1] + b[1]];\r\n    }\r\n\r\n    static SubVV(a:any, b:any) {\r\n        return [a[0] - b[0], a[1] - b[1]];\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport BoxCollider = Laya.BoxCollider;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport RigidBody = Laya.RigidBody;\r\nimport RevoluteJoint = Laya.RevoluteJoint;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('f1ab357a-3d29-44fd-b4c3-0da0cc19536c', '../src/2D/Physics/Physics_Tumbler.ts')\r\nexport class Physics_Tumbler extends BaseScript {\r\n\r\n    private count = 0;\r\n    private box: Sprite;\r\n    private totalBox = 200;\r\n    private label: Label;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n        Laya.Config.isAntialias = true;\r\n        Laya.Physics.enable();\r\n        Laya.PhysicsDebugDraw.enable();\r\n        \r\n\t\tthis.createBox();\r\n        this.eventListener();\r\n\t}\r\n\r\n    createBox() {\r\n        const width = 300, height = 20;\r\n        const \r\n            posx = this.pageWidth / 2,\r\n            posy = this.pageHeight / 2;\r\n\r\n        let box = this.box = new Sprite();\r\n        box.size(width + height * 2, width + height * 2);\r\n        box.pivot(box.width / 2, box.height / 2);\r\n        box.pos(posx, posy);\r\n        this.box2D.addChild(box);\r\n        let boxBody: RigidBody = box.addComponent(RigidBody);\r\n        // boxBody.gravityScale = 0;\r\n        let box1Shape: BoxCollider = box.addComponent(BoxCollider);\r\n        let box2Shape: BoxCollider = box.addComponent(BoxCollider);\r\n        let box3Shape: BoxCollider = box.addComponent(BoxCollider);\r\n        let box4Shape: BoxCollider = box.addComponent(BoxCollider);\r\n        box1Shape.width = width + height * 2;\r\n        box1Shape.height = height;\r\n        box1Shape.x = 0;\r\n        box1Shape.y = 0;\r\n        box2Shape.width = width + height * 2;\r\n        box2Shape.height = height;\r\n        box2Shape.x = 0;\r\n        box2Shape.y = width + height;\r\n        box3Shape.width = height;\r\n        box3Shape.height = width + height * 2;\r\n        box3Shape.x = 0;\r\n        box3Shape.y = 0;\r\n        box4Shape.width = height;\r\n        box4Shape.height = width + height * 2;\r\n        box4Shape.x = width + height;\r\n        box4Shape.y = 0;\r\n\r\n        let revoluteJoint = new RevoluteJoint();\r\n        revoluteJoint.anchor = [box.width / 2, box.width / 2];\r\n        revoluteJoint.motorSpeed = 0.05 * Math.PI;\r\n        revoluteJoint.maxMotorTorque = 1e8;\r\n        revoluteJoint.enableMotor = true;\r\n        box.addComponentInstance(revoluteJoint);\r\n        Laya.timer.frameLoop(1, this, this.addMiniBox);\r\n    }\r\n\r\n    addMiniBox() {\r\n        let box = this.box;\r\n        if (this.count >= this.totalBox) {\r\n            return;\r\n        }\r\n        let sp = new Sprite();\r\n        this.box2D.addChild(sp);\r\n        sp.x = box.x;\r\n        sp.y=  box.y;\r\n        sp.addComponent(RigidBody);\r\n        let collider = sp.addComponent(BoxCollider);\r\n        collider.width = 5;\r\n        collider.height = 5;\r\n        this.count++;\r\n    }\r\n\r\n    eventListener() {\r\n        let label: Label = this.label = this.box2D.addChild(new Label(\"\u53CC\u51FB\u5C4F\u5E55\uFF0C\u5C06\u4F1A\u4EA7\u751F100\u4E2A\u65B0\u7684\u5C0F\u521A\u4F53\")) as Label;\r\n        label.top = 20;\r\n        label.right = 20;\r\n        label.fontSize = 16;\r\n        label.color = \"#e69999\";\r\n        Laya.stage.on(Event.DOUBLE_CLICK, this, this.handleMouse);\r\n        Laya.timer.frameLoop(1, this, this.addMiniBox);\r\n    }\r\n\r\n    handleMouse() { \r\n        console.log(\"handleMouse\");\r\n        this.totalBox += 100;  \r\n    } \r\n\r\n    onDestroy() {\r\n        Laya.stage.offAll(Event.DOUBLE_CLICK);\r\n        this.box2D.removeChild(this.label);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('92f9f6d8-be63-4ca5-86bb-2ed1b5be63c7', '../src/2D/PIXI/PIXI_Example_1.ts')\r\nexport class PIXI_Example_1 extends BaseScript {\r\n\r\n    private starCount: number = 2500;\r\n\tprivate sx: number = 1.0 + (Math.random() / 20);\r\n\tprivate sy: number = 1.0 + (Math.random() / 20);\r\n\tprivate stars: any[] = [];\r\n\tprivate w: number = this.pageWidth;\r\n\tprivate h: number = this.pageHeight;\r\n\tprivate slideX: number = this.w / 2;\r\n\tprivate slideY: number = this.h / 2;\r\n\r\n\tprivate speedInfo: Text;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createText();\r\n\t\tthis.start();\r\n        this.box2D.on(Event.RESIZE, this, this.resize);\r\n\t}\r\n\r\n\tprivate start(): void {\r\n\t\tfor (var i: number = 0; i < this.starCount; i++) {\r\n\t\t\tvar tempBall: Sprite = new Sprite();\r\n\t\t\ttempBall.loadImage(\"resources/res/pixi/bubble_32x32.png\");\r\n\r\n\t\t\ttempBall.x = (Math.random() * this.w) - this.slideX;\r\n\t\t\ttempBall.y = (Math.random() * this.h) - this.slideY;\r\n\t\t\ttempBall.pivot(16, 16);\r\n\r\n\t\t\tthis.stars.push({ \"sprite\": tempBall, \"x\": tempBall.x, \"y\": tempBall.y });\r\n\r\n\t\t\tthis.box2D.addChild(tempBall);\r\n\t\t}\r\n\r\n\t\tthis.box2D.on(Laya.Event.CLICK, this, this.newWave);\r\n\t\tthis.speedInfo.text = 'SX: ' + this.sx + '\\nSY: ' + this.sy;\r\n\r\n\t\tthis.resize();\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.update);\r\n\t}\r\n\r\n\tprivate createText(): void {\r\n\t\tthis.speedInfo = new Text();\r\n\t\tthis.speedInfo.color = \"#FFFFFF\";\r\n\t\tthis.speedInfo.pos(this.w - 160, 20);\r\n\t\tthis.speedInfo.zOrder = 1;\r\n\t\tthis.box2D.addChild(this.speedInfo);\r\n\t}\r\n\r\n\tprivate newWave(): void {\r\n\t\tthis.sx = 1.0 + (Math.random() / 20);\r\n\t\tthis.sy = 1.0 + (Math.random() / 20);\r\n\t\tthis.speedInfo.text = 'SX: ' + this.sx + '\\nSY: ' + this.sy;\r\n\t}\r\n\r\n\tprivate resize(): void {\r\n\t\tthis.w = this.pageWidth;\r\n\t\tthis.h = this.pageHeight;\r\n\r\n\t\tthis.slideX = this.w / 2;\r\n\t\tthis.slideY = this.h / 2;\r\n\t}\r\n\r\n\tprivate update(): void {\r\n\t\tfor (var i: number = 0; i < this.starCount; i++) {\r\n\t\t\tthis.stars[i].sprite.x = this.stars[i].x + this.slideX;\r\n\t\t\tthis.stars[i].sprite.y = this.stars[i].y + this.slideY;\r\n\t\t\tthis.stars[i].x = this.stars[i].x * this.sx;\r\n\t\t\tthis.stars[i].y = this.stars[i].y * this.sy;\r\n\r\n\t\t\tif (this.stars[i].x > this.w) {\r\n\t\t\t\tthis.stars[i].x = this.stars[i].x - this.w;\r\n\t\t\t}\r\n\t\t\telse if (this.stars[i].x < -this.w) {\r\n\t\t\t\tthis.stars[i].x = this.stars[i].x + this.w;\r\n\t\t\t}\r\n\r\n\t\t\tif (this.stars[i].y > this.h) {\r\n\t\t\t\tthis.stars[i].y = this.stars[i].y - this.h;\r\n\t\t\t}\r\n\t\t\telse if (this.stars[i].y < -this.h) {\r\n\t\t\t\tthis.stars[i].y = this.stars[i].y + this.h;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n    \r\n    onDestroy(): void {\r\n\r\n\t\tthis.box2D.off(Laya.Event.CLICK, this, this.newWave);\r\n        Laya.timer.clear(this, this.update);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('60f16052-b54c-4618-87b4-8bc1dbfb2c0f', '../src/2D/PIXI/PIXI_Example_2.ts')\r\nexport class PIXI_Example_2 extends BaseScript {\r\n\r\n    private n: number = 2000;\r\n\tprivate d: number = 1;\r\n\tprivate current: number = 0;\r\n\tprivate objs: number = 17;\r\n\tprivate vx: number = 0;\r\n\tprivate vy: number = 0;\r\n\tprivate vz: number = 0;\r\n\tprivate points1: any[] = [];\r\n\tprivate points2: any[] = [];\r\n\tprivate points3: any[] = [];\r\n\tprivate tpoint1: any[] = [];\r\n\tprivate tpoint2: any[] = [];\r\n\tprivate tpoint3: any[] = [];\r\n\tprivate balls: any[] = [];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.box2D.on(Event.RESIZE, this, this.onResize);\r\n\r\n\t\tthis.makeObject(0);\r\n\r\n\t\tfor (var i: number = 0; i < this.n; i++) {\r\n\t\t\tthis.tpoint1[i] = this.points1[i];\r\n\t\t\tthis.tpoint2[i] = this.points2[i];\r\n\t\t\tthis.tpoint3[i] = this.points3[i];\r\n\r\n\t\t\tvar tempBall: Sprite = new Sprite();\r\n\t\t\ttempBall.loadImage(\"resources/res/pixi/pixel.png\");\r\n\t\t\ttempBall.pivot(3, 3);\r\n\t\t\ttempBall.alpha = 0.5;\r\n\t\t\tthis.balls[i] = tempBall;\r\n\r\n\t\t\tthis.box2D.addChild(tempBall);\r\n\t\t}\r\n\r\n\t\tthis.onResize();\r\n\r\n\t\tLaya.timer.loop(5000, this, this.nextObject);\r\n\t\tLaya.timer.frameLoop(1, this, this.update);\r\n\t}\r\n\r\n\tprivate nextObject(): void {\r\n\t\tthis.current++;\r\n\r\n\t\tif (this.current > this.objs) {\r\n\t\t\tthis.current = 0;\r\n\t\t}\r\n\r\n\t\tthis.makeObject(this.current);\r\n\t}\r\n\r\n\tprivate makeObject(t:number): void {\r\n\t\tvar xd: number;\r\n\t\tvar i: number;\r\n\r\n\t\tswitch (t) {\r\n\t\t\tcase 0:\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\tthis.points1[i] = -50 + Math.round(Math.random() * 100);\r\n\t\t\t\t\tthis.points2[i] = 0;\r\n\t\t\t\t\tthis.points3[i] = 0;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 1:\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(t * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(xd) * 10) * (Math.sin(t * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 2:\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + (Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(t * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(xd) * 10) * (Math.sin(t * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 3:\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(xd) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(xd) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 4:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(xd) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(xd) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 5:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(xd) * 10);\r\n\r\n\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 6:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 7:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 8:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 9:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 10:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(xd) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 11:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(xd) * 10) * (Math.sin(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 12:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(xd) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(xd) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 13:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 14:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.sin(xd) * 10) * (Math.cos(xd) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(xd) * 10) * (Math.sin(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 15:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 16:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.sin(i * 360 / this.n) * 10) * (Math.sin(xd) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(xd) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase 17:\r\n\r\n\t\t\t\tfor (i = 0; i < this.n; i++) {\r\n\t\t\t\t\txd = -90 + Math.round(Math.random() * 180);\r\n\t\t\t\t\tthis.points1[i] = (Math.cos(xd) * 10) * (Math.cos(xd) * 10);\r\n\t\t\t\t\tthis.points2[i] = (Math.cos(i * 360 / this.n) * 10) * (Math.sin(i * 360 / this.n) * 10);\r\n\t\t\t\t\tthis.points3[i] = Math.sin(i * 360 / this.n) * 100;\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tprivate onResize(): void {\r\n\r\n\t}\r\n\r\n\tprivate update(): void {\r\n\t\tvar x3d: number, y3d: number, z3d: number, tx: number, ty: number, tz: number, ox: number;\r\n\r\n\t\tif (this.d < 200) {\r\n\t\t\tthis.d++;\r\n\t\t}\r\n\r\n\t\tthis.vx += 0.0075;\r\n\t\tthis.vy += 0.0075;\r\n\t\tthis.vz += 0.0075;\r\n\r\n\t\tfor (var i: number = 0; i < this.n; i++) {\r\n\t\t\tif (this.points1[i] > this.tpoint1[i]) {\r\n\t\t\t\tthis.tpoint1[i] = this.tpoint1[i] + 1;\r\n\t\t\t}\r\n\t\t\tif (this.points1[i] < this.tpoint1[i]) {\r\n\t\t\t\tthis.tpoint1[i] = this.tpoint1[i] - 1;\r\n\t\t\t}\r\n\t\t\tif (this.points2[i] > this.tpoint2[i]) {\r\n\t\t\t\tthis.tpoint2[i] = this.tpoint2[i] + 1;\r\n\t\t\t}\r\n\t\t\tif (this.points2[i] < this.tpoint2[i]) {\r\n\t\t\t\tthis.tpoint2[i] = this.tpoint2[i] - 1;\r\n\t\t\t}\r\n\t\t\tif (this.points3[i] > this.tpoint3[i]) {\r\n\t\t\t\tthis.tpoint3[i] = this.tpoint3[i] + 1;\r\n\t\t\t}\r\n\t\t\tif (this.points3[i] < this.tpoint3[i]) {\r\n\t\t\t\tthis.tpoint3[i] = this.tpoint3[i] - 1;\r\n\t\t\t}\r\n\r\n\t\t\tx3d = this.tpoint1[i];\r\n\t\t\ty3d = this.tpoint2[i];\r\n\t\t\tz3d = this.tpoint3[i];\r\n\r\n\t\t\tty = (y3d * Math.cos(this.vx)) - (z3d * Math.sin(this.vx));\r\n\t\t\ttz = (y3d * Math.sin(this.vx)) + (z3d * Math.cos(this.vx));\r\n\t\t\ttx = (x3d * Math.cos(this.vy)) - (tz * Math.sin(this.vy));\r\n\t\t\ttz = (x3d * Math.sin(this.vy)) + (tz * Math.cos(this.vy));\r\n\t\t\tox = tx;\r\n\t\t\ttx = (tx * Math.cos(this.vz)) - (ty * Math.sin(this.vz));\r\n\t\t\tty = (ox * Math.sin(this.vz)) + (ty * Math.cos(this.vz));\r\n\r\n\t\t\tthis.balls[i].x = (512 * tx) / (this.d - tz) + this.box2D.width / 2;\r\n\t\t\tthis.balls[i].y = (this.box2D.height / 2) - (512 * ty) / (this.d - tz);\r\n\t\t}\r\n\t}\r\n\r\n    onDestroy(): void {\r\n\r\n\t\tLaya.timer.clear(this, this.nextObject);\r\n        Laya.timer.clear(this, this.update);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Graphics = Laya.Graphics;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('db6aa75c-0bcd-4553-96a2-6f1c3f6142f3', '../src/2D/PIXI/PIXI_Example_3.ts')\r\nexport class PIXI_Example_3 extends BaseScript {\r\n\r\n\tprivate colors: any[] = [\"#5D0776\", \"#EC8A49\", \"#AF3666\", \"#F6C84C\", \"#4C779A\"];\r\n\tprivate colorCount: number = 0;\r\n\tprivate isDown: boolean = false;\r\n\tprivate path: any[] = [];\r\n\tprivate color: string = this.colors[0];\r\n\tprivate liveGraphics: Graphics;\r\n\tprivate canvasGraphics: Graphics;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createCanvases();\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\r\n\t}\r\n\r\n\tprivate createCanvases(): void {\r\n\t\tvar graphicsCanvas: Sprite = new Sprite();\r\n\t\tthis.box2D.addChild(graphicsCanvas);\r\n\t\tvar liveGraphicsCanvas: Sprite = new Sprite();\r\n\t\tthis.box2D.addChild(liveGraphicsCanvas);\r\n\r\n\t\tthis.liveGraphics = liveGraphicsCanvas.graphics;\r\n\t\tthis.canvasGraphics = graphicsCanvas.graphics;\r\n\t}\r\n\r\n\tonMouseDown(e: any = null): void {\r\n\t\tthis.isDown = true;\r\n\t\tthis.color = this.colors[this.colorCount++ % this.colors.length];\r\n\t\tthis.path.length = 0;\r\n\t}\r\n\r\n\tonMouseMove(e: any = null): void {\r\n\t\tif (!this.isDown) return;\r\n\r\n\t\tthis.path.push(e.target.mouseX);\r\n\t\tthis.path.push(e.target.mouseY);\r\n\t}\r\n\r\n\tonMouseUp(e: any = null): void {\r\n\t\tthis.isDown = false;\r\n\t\tthis.canvasGraphics.drawPoly(0, 0, this.path.concat(), this.color);\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\t\tthis.liveGraphics.clear();\r\n\t\tthis.liveGraphics.drawPoly(0, 0, this.path, this.color);\r\n\t}\r\n\r\n    onDestroy(): void {\r\n\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Point = Laya.Point;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('9c1ce71b-0f09-4fbd-bdaa-1259cadc79c6', '../src/2D/PIXI/PIXI_Example_4.ts')\r\nexport class PIXI_Example_4 extends BaseScript {\r\n\r\n    private viewWidth: number = this.pageWidth;\r\n\tprivate viewHeight: number = this.pageHeight;\r\n\tprivate lasers: any[] = [];\r\n\tprivate tick: number = 0;\r\n\tprivate frequency: number = 80;\r\n\tprivate type: number = 0;\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\t\tif (this.tick > this.frequency) {\r\n\t\t\tthis.tick = 0;\r\n\t\t\t// iterate through the dudes and update the positions\r\n\t\t\tvar laser: Laser = new Laser();\r\n\t\t\tlaser.loadImage(\"resources/res/pixi/laser0\" + ((this.type % 5) + 1) + \".png\");\r\n\t\t\tthis.type++;\r\n\r\n\t\t\tlaser.life = 0;\r\n\r\n\t\t\tvar pos1: Point;\r\n\t\t\tvar pos2: Point;\r\n\t\t\tif (this.type % 2) {\r\n\t\t\t\tpos1 = new Point(-20, Math.random() * this.viewHeight);\r\n\t\t\t\tpos2 = new Point(this.viewWidth, Math.random() * this.viewHeight + 20);\r\n\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tpos1 = new Point(Math.random() * this.viewWidth, -20);\r\n\t\t\t\tpos2 = new Point(Math.random() * this.viewWidth, this.viewHeight + 20);\r\n\t\t\t}\r\n\r\n\t\t\tvar distX: number = pos1.x - pos2.x;\r\n\t\t\tvar distY: number = pos1.y - pos2.y;\r\n\r\n\t\t\tvar dist: number = Math.sqrt(distX * distX + distY * distY) + 40;\r\n\r\n\t\t\tlaser.scaleX = dist / 20;\r\n\t\t\tlaser.pos(pos1.x, pos1.y);\r\n\t\t\tlaser.pivotY = 43 / 2;\r\n\t\t\tlaser.blendMode = \"lighter\";\r\n\r\n\t\t\tlaser.rotation = (Math.atan2(distY, distX) + Math.PI) * 180 / Math.PI;\r\n\r\n\t\t\tthis.lasers.push(laser);\r\n\r\n\t\t\tthis.box2D.addChild(laser);\r\n\r\n\t\t\tthis.frequency *= 0.9;\r\n\t\t}\r\n\r\n\t\tfor (var i: number = 0; i < this.lasers.length; i++) {\r\n\t\t\tlaser = this.lasers[i];\r\n\t\t\tlaser.life++;\r\n\t\t\tif (laser.life > 60 * 0.3) {\r\n\t\t\t\tlaser.alpha *= 0.9;\r\n\t\t\t\tlaser.scaleY = laser.alpha;\r\n\t\t\t\tif (laser.alpha < 0.01) {\r\n\t\t\t\t\tthis.lasers.splice(i, 1);\r\n\t\t\t\t\tthis.box2D.removeChild(laser);\r\n\t\t\t\t\ti--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t// increment the ticker\r\n\t\tthis.tick += 1;\r\n\t}\r\n\r\n    onDestroy(): void {\r\n\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n}\r\n\r\nclass Laser extends Sprite {\r\n\tlife: number;\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Handler = Laya.Handler;\r\nimport SoundManager = Laya.SoundManager;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('4284d2ac-4597-45fa-9ede-342369ccae35', '../src/2D/Sound/Sound_SimpleDemo.ts')\r\nexport class Sound_SimpleDemo extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\t\r\n\t\tvar gap: number = 10;\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2ASprite\u5145\u5F53\u97F3\u6548\u64AD\u653E\u6309\u94AE\r\n\t\tvar soundButton: Sprite = this.createButton(\"\u64AD\u653E\u97F3\u6548\");\r\n\t\tsoundButton.x = (this.pageWidth - soundButton.width * 2 + gap) / 2;\r\n\t\tsoundButton.y = (this.pageHeight - soundButton.height) / 2;\r\n\t\tthis.box2D.addChild(soundButton);\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2ASprite\u5145\u5F53\u97F3\u4E50\u64AD\u653E\u6309\u94AE\r\n\t\tvar musicButton: Sprite = this.createButton(\"\u64AD\u653E\u97F3\u4E50\");\r\n\t\tmusicButton.x = soundButton.x + gap + soundButton.width;\r\n\t\tmusicButton.y = soundButton.y;\r\n\t\tthis.box2D.addChild(musicButton);\r\n\r\n\t\tsoundButton.on(Event.CLICK, this, this.onPlaySound);\r\n\t\tmusicButton.on(Event.CLICK, this, this.onPlayMusic);\r\n\t}\r\n\r\n\tprivate createButton(label: string): Sprite {\r\n\t\tvar w: number = 110;\r\n\t\tvar h: number = 40;\r\n\r\n\t\tvar button: Sprite = new Sprite();\r\n\t\tbutton.size(w, h);\r\n\t\tbutton.graphics.drawRect(0, 0, w, h, \"#FF7F50\");\r\n\t\tbutton.graphics.fillText(label, w / 2, 8, \"25px SimHei\", \"#FFFFFF\", \"center\");\r\n\t\tthis.box2D.addChild(button);\r\n\t\treturn button;\r\n\t}\r\n\r\n\tprivate onPlayMusic(e: Event = null): void {\r\n\t\tconsole.log(\"\u64AD\u653E\u97F3\u4E50\");\r\n\t\tSoundManager.playMusic(\"resources/res/sounds/bgm.mp3\", 1, new Handler(this, this.onComplete));\r\n\t}\r\n\r\n\tprivate onPlaySound(e: Event = null): void {\r\n\t\tconsole.log(\"\u64AD\u653E\u97F3\u6548\");\r\n\t\tSoundManager.playSound(\"resources/res/sounds/btn.mp3\", 1, new Handler(this, this.onComplete));\r\n\t}\r\n\r\n\tprivate onComplete(): void {\r\n\t\tconsole.log(\"\u64AD\u653E\u5B8C\u6210\");\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tSoundManager.stopAllSound();\r\n\t\tSoundManager.stopMusic();\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('59e4e0e5-27e8-4a7f-a675-4492c54c3589', '../src/2D/Skeleton/Skeleton_ChangeSkin.ts')\r\nexport class Skeleton_ChangeSkin extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\tprivate mStartX: number = 400;\r\n\tprivate mStartY: number = 400;\r\n\tprivate mCurrIndex: number = 0;\r\n\tprivate mArmature: Skeleton;\r\n\tprivate mCurrSkinIndex: number = 0;\r\n\tprivate mSkinList: any[] = [\"goblin\", \"goblingirl\"];\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(\"resources/res/spine/spineRes2/goblins.sk\").then((templet: Templet) => {\r\n\t\t\t//\u521B\u5EFA\u6A21\u5F0F\u4E3A1\uFF0C\u53EF\u4EE5\u542F\u7528\u6362\u88C5\r\n\t\t\tthis.mArmature = templet.buildArmature(1);\r\n\t\t\tthis.mArmature.x = this.mStartX;\r\n\t\t\tthis.mArmature.y = this.mStartY;\r\n\t\t\tthis.mArmature.scale(0.8, 0.8);\r\n\t\t\tthis.owner.addChild(this.mArmature);\r\n\t\t\tthis.mArmature.on(Event.STOPPED, this, this.completeHandler);\r\n\t\t\tthis.play();\r\n\t\t\tthis.changeSkin();\r\n\t\t\tLaya.timer.loop(1000, this, this.changeSkin);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate changeSkin(): void {\r\n\t\tthis.mCurrSkinIndex++;\r\n\t\tif (this.mCurrSkinIndex >= this.mSkinList.length) {\r\n\t\t\tthis.mCurrSkinIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.showSkinByName(this.mSkinList[this.mCurrSkinIndex]);\r\n\t}\r\n\r\n\tprivate completeHandler(): void {\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tprivate play(): void {\r\n\t\tthis.mCurrIndex++;\r\n\t\tif (this.mCurrIndex >= this.mArmature.getAnimNum()) {\r\n\t\t\tthis.mCurrIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.play(this.mCurrIndex, false);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.mArmature == null)\r\n\t\t\treturn;\r\n\t\tthis.mArmature.stop();\r\n\t\tLaya.timer.clear(this, this.changeSkin);\r\n\t\tthis.mArmature.off(Event.STOPPED, this, this.completeHandler);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d548a72a-4abf-4aa2-9b7e-499d67b6e5c5', '../src/2D/Skeleton/Skeleton_MultiTexture.ts')\r\nexport class Skeleton_MultiTexture extends BaseScript {\r\n\r\n\tprivate mStartX: number = 300;\r\n\tprivate mStartY: number = 350;\r\n\tprivate mCurrIndex: number = 0;\r\n\tprivate mArmature: Skeleton;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(\"resources/res/spine/spineRes1/dragon.sk\").then((templet: Templet) => {\r\n\t\t\t//\u521B\u5EFA\u6A21\u5F0F\u4E3A1\uFF0C\u53EF\u4EE5\u542F\u7528\u6362\u88C5\r\n\t\t\tthis.mArmature = templet.buildArmature(0);\r\n\t\t\tthis.mArmature.x = this.mStartX;\r\n\t\t\tthis.mArmature.y = this.mStartY;\r\n\t\t\tthis.mArmature.scale(0.5, 0.5);\r\n\t\t\tthis.owner.addChild(this.mArmature);\r\n\t\t\tthis.mArmature.on(Event.STOPPED, this, this.completeHandler);\r\n\t\t\tthis.play();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate completeHandler(): void {\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tprivate play(): void {\r\n\t\tthis.mCurrIndex++;\r\n\t\tif (this.mCurrIndex >= this.mArmature.getAnimNum()) {\r\n\t\t\tthis.mCurrIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.play(this.mCurrIndex, false);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.mArmature == null)\r\n\t\t\treturn;\r\n\t\tthis.mArmature.stop();\r\n\t\tthis.mArmature.off(Event.STOPPED, this, this.completeHandler);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport SpineTemplet = Laya.SpineTemplet;\r\nimport Loader = Laya.Loader;\r\nimport SpineSkeleton = Laya.SpineSkeleton;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('50339b2f-a2d1-4727-9376-6e9008aa5a49', '../src/2D/Skeleton/Skeleton_SpineAdapted.ts')\r\nexport class Skeleton_SpineAdapted extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    private skeleton: SpineSkeleton;\r\n    private index: number = -1;\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        Laya.loader.load(\"resources/res/spine/spineboy-pro.skel\", Loader.SPINE).then((templet: SpineTemplet) => {\r\n            this.skeleton = new SpineSkeleton();\r\n            this.skeleton.templet = templet;\r\n            this.owner.addChild(this.skeleton);\r\n            this.skeleton.pos( this.pageWidth / 2 -200, this.pageHeight / 2 - 20);\r\n            this.skeleton.scale(0.3, 0.3);\r\n            this.skeleton.on(Event.STOPPED, this, this.play);\r\n            this.play();\r\n        });\r\n    }\r\n\r\n    private play(): void {\r\n        if (++this.index >= this.skeleton.getAnimNum()) {\r\n            this.index = 0\r\n        }\r\n        this.skeleton.play(this.index, false, true)\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\nimport EventData = Laya.EventData;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('e21e30a8-95ad-4f26-b4a3-546f809e763b', '../src/2D/Skeleton/Skeleton_SpineEvent.ts')\r\nexport class Skeleton_SpineEvent extends BaseScript {\r\n\r\n    private mStartX:number = 400;\r\n    private mStartY:number = 400;\r\n\tprivate mCurrIndex: number = 0;\r\n\tprivate mArmature: Skeleton;\r\n\r\n\tprivate mLabelSprite: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.mLabelSprite = new Sprite();\r\n\r\n\t\tLaya.loader.load(\"resources/res/spine/spineRes6/alien.sk\").then((templet: Templet) => {\r\n\t\t\t//\u521B\u5EFA\u6A21\u5F0F\u4E3A1\uFF0C\u53EF\u4EE5\u542F\u7528\u6362\u88C5\r\n\t\t\tthis.mArmature = templet.buildArmature(1);\r\n\t\t\tthis.mArmature.x = this.mStartX;\r\n\t\t\tthis.mArmature.y = this.mStartY;\r\n\t\t\tthis.mArmature.scale(0.5, 0.5);\r\n\t\t\tthis.owner.addChild(this.mArmature);\r\n\t\t\tthis.mArmature.on(Event.LABEL, this, this.onEvent);\r\n\t\t\tthis.mArmature.on(Event.STOPPED, this, this.completeHandler);\r\n\t\t\tthis.play();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate completeHandler(): void {\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tprivate play(): void {\r\n\t\tthis.mCurrIndex++;\r\n\t\tif (this.mCurrIndex >= this.mArmature.getAnimNum()) {\r\n\t\t\tthis.mCurrIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.play(this.mCurrIndex, false);\r\n\r\n\t}\r\n\r\n\tprivate onEvent(e: any): void {\r\n\t\tvar tEventData: EventData = (<EventData>e);\r\n\r\n\t\tthis.owner.addChild(this.mLabelSprite);\r\n\t\tthis.mLabelSprite.x = this.mStartX;\r\n\t\tthis.mLabelSprite.y = this.mStartY;\r\n\t\tthis.mLabelSprite.graphics.clear();\r\n\t\tthis.mLabelSprite.graphics.fillText(tEventData.name, 0, 0, \"20px Arial\", \"#ff0000\", \"center\");\r\n\t\tTween.to(this.mLabelSprite, { \"y\": this.mStartY - 200 }, 1000, null, Handler.create(this, this.playEnd))\r\n\t}\r\n\r\n\tprivate playEnd(): void {\r\n\t\tthis.mLabelSprite.removeSelf();\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.mArmature == null)\r\n\t\t\treturn;\r\n\t\tTween.clearAll(this.mLabelSprite);\r\n\t\tthis.mArmature.stop();\r\n\t\tthis.mArmature.off(Event.STOPPED, this, this.completeHandler);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('9428bf05-d5f5-4e58-a562-90e01db5af80', '../src/2D/Skeleton/Skeleton_SpineStretchyman.ts')\r\nexport class Skeleton_SpineStretchyman extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\tprivate mStartX: number = 200;\r\n\tprivate mStartY: number = 400;\r\n\tprivate mCurrIndex: number = 0;\r\n\tprivate mArmature: Skeleton;\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(\"resources/res/spine/spineRes4/stretchyman.sk\").then((templet: Templet) => {\r\n\t\t\t//\u521B\u5EFA\u6A21\u5F0F\u4E3A1\uFF0C\u53EF\u4EE5\u542F\u7528\u6362\u88C5\r\n\t\t\tthis.mArmature = templet.buildArmature(1);\r\n\t\t\tthis.mArmature.x = this.mStartX;\r\n\t\t\tthis.mArmature.y = this.mStartY;\r\n\t\t\tthis.mArmature.scale(0.5, 0.5);\r\n\t\t\tthis.owner.addChild(this.mArmature);\r\n\t\t\tthis.mArmature.on(Event.STOPPED, this, this.completeHandler);\r\n\t\t\tthis.play();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate completeHandler(): void {\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tprivate play(): void {\r\n\t\tthis.mCurrIndex++;\r\n\t\tif (this.mCurrIndex >= this.mArmature.getAnimNum()) {\r\n\t\t\tthis.mCurrIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.play(this.mCurrIndex, false);\r\n\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.mArmature == null)\r\n\t\t\treturn;\r\n\t\tthis.mArmature.stop();\r\n\t\tthis.mArmature.off(Event.STOPPED, this, this.completeHandler);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\n\r\n@regClass('58d15757-1949-49e4-8863-0e26e5244c44', '../src/2D/Skeleton/Skeleton_SpineVine.ts')\r\nexport class Skeleton_SpineVine extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    private mStartX: number = 400;\r\n\tprivate mStartY: number = 500;\r\n\tprivate mCurrIndex: number = 0;\r\n\tprivate mArmature: Skeleton;\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tLaya.loader.load(\"resources/res/spine/spineRes5/vine.sk\").then((templet: Templet) => {\r\n\t\t\t//\u521B\u5EFA\u6A21\u5F0F\u4E3A1\uFF0C\u53EF\u4EE5\u542F\u7528\u6362\u88C5\r\n\t\t\tthis.mArmature = templet.buildArmature(1);\r\n\t\t\tthis.mArmature.x = this.mStartX;\r\n\t\t\tthis.mArmature.y = this.mStartY;\r\n\t\t\tthis.mArmature.scale(0.5, 0.5);\r\n\t\t\tthis.owner.addChild(this.mArmature);\r\n\t\t\tthis.mArmature.on(Event.STOPPED, this, this.completeHandler);\r\n\t\t\tthis.play();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate completeHandler(): void {\r\n\t\tthis.play();\r\n\t}\r\n\r\n\tprivate play(): void {\r\n\t\tthis.mCurrIndex++;\r\n\t\tif (this.mCurrIndex >= this.mArmature.getAnimNum()) {\r\n\t\t\tthis.mCurrIndex = 0;\r\n\t\t}\r\n\t\tthis.mArmature.play(this.mCurrIndex, false);\r\n\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.mArmature == null)\r\n\t\t\treturn;\r\n\t\tthis.mArmature.stop();\r\n\t\tthis.mArmature.off(Event.STOPPED, this, this.completeHandler);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Byte = Laya.Byte;\r\nimport Texture = Laya.Texture;\r\nimport Texture2D = Laya.Texture2D;\r\nimport TextureFormat = Laya.TextureFormat;\r\n\r\n@regClass('6830521c-bf37-473b-bb75-9e8399bbcaab', '../src/2D/Sprite/Sprite_BinaryImage.ts')\r\nexport class Sprite_BinaryImage extends BaseScript {\r\n\r\n\tprivate sp1:Sprite = new Sprite();\r\n\tprivate sp2:Sprite = new Sprite();\r\n\tprivate sp3:Sprite = new Sprite();\r\n\tprivate imgBlob:Blob;\r\n\tprivate imageArrayBuffer:ArrayBuffer;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\t\t\r\n\r\n\t\t//test.bin\u4E3A\u4E8C\u8FDB\u5236\u56FE\u7247\uFF0C\u56FE\u7247\u52A0\u5BC6\u6570\u636E\u662F\u5728\u56FE\u7247\u7684\u524D\u9762\u5199\u5165\u4E86\u56DB\u4E2A\u5B57\u8282\u7684\u6570\u636E\r\n        Laya.loader.fetch(\"resources/res/test.bin\",\"arraybuffer\").then((res)=>{\r\n\r\n\t\t\t//\u83B7\u5F97res\u7684ArrayBuffer\u6570\u636E\r\n            let arraybuffer: ArrayBuffer = res;\r\n\t\t\t//Byte\u6570\u7EC4\u63A5\u6536arraybuffer\r\n            let byte:Byte = new Byte(arraybuffer);\r\n\t\t\t//\u4ECE\u7B2C\u56DB\u4E2A\u5B57\u8282\u5F00\u59CB\u8BFB\u53D6\u6570\u636E\r\n            byte.writeArrayBuffer(arraybuffer,4);\r\n\t\t\t//\u83B7\u5F97\u6700\u7EC8\u7684ArrayBuffer\r\n\t\t\tthis.imageArrayBuffer = byte.buffer;\r\n\t\t\t//\u5B9E\u4F8B\u5316\u4E00\u4E2ABlob\u5BF9\u8C61blob\uFF0C\u7528\u6765\u521B\u5EFA\u4E00\u4E2Aimg\u6807\u7B7E\r\n            this.imgBlob = new Blob([this.imageArrayBuffer], { type: \"image/png\" });\r\n            this.showApe1();      \r\n\t\t\t\r\n        });\t\t\r\n        \r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u65B9\u5F0F\",\"\u5207\u6362\u65B9\u5F0F\",\"\u5207\u6362\u65B9\u5F0F\"] , this, [this.showApe2, this.showApe3,this.showApe1] );\r\n    }\r\n\r\n    showApe1() {\r\n\r\n\t\tlet reader = new FileReader();\r\n\r\n\t\t//\u8F6C\u6362\u4E3ABase64\u56FE\u7247\u683C\u5F0F\r\n\t\treader.readAsDataURL(this.imgBlob);\r\n\t\treader.onload = (e)=> {     \r\n\r\n\t\t\t//\u52A0\u8F7DBase64\u56FE\u7247\u6570\u636E\r\n\t\t\tthis.sp1.loadImage(e.target.result as string);     \r\n\t\t\tthis.sp1.x = 10;    \r\n\t\t\tthis.owner.addChild(this.sp1);\r\n\t\t\t\r\n\t\t\tthis.sp2.removeSelf();\r\n\t\t\tthis.sp3.removeSelf();\r\n\t\t}\t\t\r\n\t}\r\n\r\n    showApe2() {\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2Aurl\u5BF9\u8C61\uFF1B\r\n\t\tvar url:string = Laya.Browser.window.URL.createObjectURL(this.imgBlob);\r\n\t\tconsole.log(url);\r\n\t\t//\u52A0\u8F7DURL\u83B7\u5F97HTMLImageElement\r\n        Laya.loader.fetch(url,\"image\" ).then((res)=>{\r\n\r\n\t\t\t//\u521B\u5EFATexture2D\r\n\t\t\tvar t2d: Texture2D = new Texture2D(res.width, res.height, TextureFormat.R8G8B8A8, false, false, true);\r\n\t\t\tt2d.setImageData(res, true, false);\r\n\r\n\t\t\t//\u521B\u5EFATexture\r\n\t\t\tvar texture: Texture = new Texture(t2d);\r\n\r\n\t\t\t//\u4F7F\u7528Sprite\u5BF9\u8C61\u7684\u7ED8\u5236\u7EB9\u7406\u65B9\u5F0F\r\n\t\t\tthis.sp2.graphics.drawTexture(texture, 150, 0);\r\n\t\t\tthis.owner.addChild(this.sp2);\r\n\t\t\t\r\n\t\t\tthis.sp1.removeSelf();\r\n\t\t\tthis.sp3.removeSelf();\r\n\t\t});\r\n\t}\t\r\n\r\n    showApe3() {\r\n\r\n\t\t//\u521B\u5EFAOption\r\n\t\tlet option:any = {};\r\n\t\toption.blob = this.imgBlob;\r\n\t\t//\u901A\u8FC7\u4F20\u9012blob\u5BF9\u8C61\u83B7\u5F97HTMLImageElement\r\n        Laya.loader.fetch(\"\" ,\"image\", null, option).then((res)=>{\r\n\r\n\t\t\t//\u521B\u5EFATexture2D\r\n\t\t\tvar t2d: Texture2D = new Texture2D(res.width, res.height, TextureFormat.R8G8B8A8, false, false, true);\r\n\t\t\tt2d.setImageData(res, true, false);\r\n\r\n\t\t\t//\u521B\u5EFATexture\r\n\t\t\tvar texture: Texture = new Texture(t2d);\r\n\r\n\t\t\t//\u4F7F\u7528Sprite\u5BF9\u8C61\u7684\u7ED8\u5236\u7EB9\u7406\u65B9\u5F0F\r\n\t\t\tthis.sp3.graphics.drawTexture(texture, 290, 0);\r\n\t\t\tthis.owner.addChild(this.sp3);\r\n\t\t\t\r\n\t\t\tthis.sp1.removeSelf();\r\n\t\t\tthis.sp2.removeSelf();\r\n\t\t});\r\n\t}\t\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('b1c27db6-bef3-4e4b-9222-4283acd98d50', '../src/2D/Sprite/Sprite_Cache.ts')\r\nexport class Sprite_Cache extends BaseScript {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tthis.cacheText();\r\n\t}\r\n\r\n\tcacheText() {\r\n\t\t\r\n\t\tlet textBox = new Sprite();\r\n\t\tthis.owner.addChild(textBox);\r\n\t\t// \u968F\u673A\u6446\u653E\u6587\u672C\r\n\t\tlet text;\r\n\t\tfor (let i = 0; i < 1000; i++) {\r\n\t\t\ttext = new Text();\r\n\t\t\ttextBox.addChild(text);\r\n\t\t\ttext.fontSize = 20;\r\n\t\t\ttext.text = (Math.random() * 100).toFixed(0);\r\n\t\t\ttext.rotation = Math.random() * 360;\r\n\t\t\ttext.color = \"#ccc\";\r\n\r\n\t\t\ttext.x = Math.random() * this.pageWidth;\r\n\t\t\ttext.y = Math.random() * this.pageHeight;\r\n\t\t}\r\n\t\t\r\n\t\t//\u7F13\u5B58\u4E3A\u9759\u6001\u56FE\u50CF\r\n\t\ttextBox.cacheAs = \"bitmap\";\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('2812157c-5a61-4d9e-899c-96c7c41460fb', '../src/2D/Sprite/Sprite_Container.ts')\r\nexport class Sprite_Container extends BaseScript {\r\n\r\n    // \u8BE5\u5BB9\u5668\u7528\u4E8E\u88C5\u8F7D4\u5F20\u7329\u7329\u56FE\u7247\r\n    private apesCtn: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        this.createApes();\r\n\r\n    }\r\n\r\n    private createApes(): void {\r\n        // \u6BCF\u53EA\u7329\u7329\u8DDD\u79BB\u4E2D\u5FC3\u70B9150\u50CF\u7D20\r\n        var layoutRadius: number = 150;\r\n        var radianUnit: number = Math.PI / 2;\r\n\r\n        this.apesCtn = new Sprite();\r\n        this.owner.addChild(this.apesCtn);\r\n\r\n        // \u6DFB\u52A04\u5F20\u7329\u7329\u56FE\u7247\r\n        for (var i: number = 0; i < 4; i++) {\r\n            var ape: Sprite = new Sprite();\r\n            ape.loadImage(\"resources/res/apes/monkey\" + i + \".png\");\r\n\r\n            ape.pivot(55, 72);\r\n\r\n            // \u4EE5\u5706\u5468\u6392\u5217\u7329\u7329\r\n            ape.pos(\r\n                Math.cos(radianUnit * i) * layoutRadius,\r\n                Math.sin(radianUnit * i) * layoutRadius);\r\n\r\n            this.apesCtn.addChild(ape);\r\n        }\r\n\r\n        this.apesCtn.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\r\n        Laya.timer.frameLoop(1, this, this.animate);\r\n    }\r\n\r\n    private animate(e: Event): void {\r\n        this.apesCtn.rotation += 1;\r\n    }\r\n\r\n    onDestroy(): void {\r\n        Laya.timer.clear(this, this.animate);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('622a88a7-667e-46e7-843d-166c7d06018b', '../src/2D/Sprite/Sprite_DisplayImage.ts')\r\nexport class Sprite_DisplayImage extends BaseScript {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        this.showApe();\r\n    }\r\n\r\n    showApe() {\r\n\r\n\t\tconst\r\n\t\t\tmonkey1Path = \"resources/res/apes/monkey1.png\",\r\n\t\t\tmonkey2Path = \"resources/res/apes/monkey2.png\";\r\n\r\n\t\t// \u65B9\u6CD51\uFF1A\u4F7F\u7528loadImage\r\n\t\tlet ape = new Laya.Sprite();\r\n\t\tthis.owner.addChild(ape);\r\n\t\tape.loadImage(monkey1Path);\r\n\r\n\t\t// \u65B9\u6CD52\uFF1A\u4F7F\u7528drawTexture\r\n\t\tLaya.loader.load(monkey2Path).then(()=> {\r\n\t\t\tlet monkey2 = Laya.loader.getRes(monkey2Path);\r\n\t\t\tlet ape2 = new Laya.Sprite();\r\n\t\t\tthis.owner.addChild(ape2);\r\n\t\t\tape2.graphics.drawTexture(monkey2, 100, 0);\r\n\t\t});\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('91e0f116-48ba-450a-8860-c66bf714221c', '../src/2D/Sprite/Sprite_DrawPath.ts')\r\nexport class Sprite_DrawPath extends BaseScript {\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        this.drawPentagram();\r\n    }\r\n\r\n    private drawPentagram(): void {\r\n\r\n        var canvas: Sprite = new Sprite();\r\n        this.owner.addChild(canvas);\r\n\r\n        var path: Array<number> = [];\r\n        path.push(0, -130);\r\n        path.push(33, -33);\r\n        path.push(137, -30);\r\n        path.push(55, 32);\r\n        path.push(85, 130);\r\n        path.push(0, 73);\r\n        path.push(-85, 130);\r\n        path.push(-55, 32);\r\n        path.push(-137, -30);\r\n        path.push(-33, -33);\r\n\r\n        canvas.graphics.drawPoly(this.pageWidth / 2, this.pageHeight / 2, path, \"#FF7F50\");\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8b346388-272f-454f-bf68-0a1087a7f2cf', '../src/2D/Sprite/Sprite_DrawShapes.ts')\r\nexport class Sprite_DrawShapes extends BaseScript {\r\n\r\n    private sp: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n        this.drawSomething();\r\n    }\r\n\r\n    private drawSomething(): void {\r\n\r\n        this.sp = new Sprite();\r\n        this.owner.addChild(this.sp);\r\n        //\u753B\u7EBF\r\n        this.sp.graphics.drawLine(10, 58, 146, 58, \"#ff0000\", 3);\r\n        //\u753B\u8FDE\u7EED\u76F4\u7EBF\r\n        this.sp.graphics.drawLines(176, 58, [0, 0, 39, -50, 78, 0, 117, 50, 156, 0], \"#ff0000\", 5);\r\n        //\u753B\u66F2\u7EBF\r\n        this.sp.graphics.drawCurves(352, 58, [0, 0, 19, -100, 39, 0, 58, 100, 78, 0, 97, -100, 117, 0, 136, 100, 156, 0], \"#ff0000\", 5);\r\n        //\u753B\u77E9\u5F62\r\n        this.sp.graphics.drawRect(10, 166, 166, 90, \"#ffff00\");\r\n        //\u753B\u591A\u8FB9\u5F62\r\n        this.sp.graphics.drawPoly(264, 166, [0, 0, 60, 0, 78.48, 57, 30, 93.48, -18.48, 57], \"#ffff00\");\r\n        //\u753B\u4E09\u89D2\u5F62\r\n        this.sp.graphics.drawPoly(400, 166, [0, 100, 50, 0, 100, 100], \"#ffff00\");\r\n        //\u753B\u5706\r\n        this.sp.graphics.drawCircle(98, 332, 50, \"#00ffff\");\r\n        //\u753B\u6247\u5F62\r\n        this.sp.graphics.drawPie(240, 290, 100, 10, 60, \"#00ffff\");\r\n        //\u7ED8\u5236\u5706\u89D2\u77E9\u5F62\uFF0C\u81EA\u5B9A\u4E49\u8DEF\u5F84\r\n        this.sp.graphics.drawPath(400, 310, [[\"moveTo\", 5, 0], [\"lineTo\", 105, 0], [\"arcTo\", 110, 0, 110, 5, 5], [\"lineTo\", 110, 55], [\"arcTo\", 110, 60, 105, 60, 5], [\"lineTo\", 5, 60], [\"arcTo\", 0, 60, 0, 55, 5], [\"lineTo\", 0, 5], [\"arcTo\", 0, 0, 5, 0, 5], [\"closePath\"]], {fillStyle: \"#00ffff\"});\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('4c31a0b2-da12-464c-821b-fa3e2521c9ec', '../src/2D/Sprite/Sprite_Guide.ts')\r\nexport class Sprite_Guide extends BaseScript {\r\n\r\n    private guideSteps:any[] = \r\n\t[\r\n\t\t{ x: 151, y: 575, radius:150, tip:\"resources/res/guide/help6.png\", tipx:200, tipy:250 },\r\n\t\t{ x: 883, y: 620, radius:100, tip:\"resources/res/guide/help4.png\", tipx:730, tipy:380 },\r\n\t\t{ x: 1128, y: 583, radius:110, tip:\"resources/res/guide/help3.png\", tipx:900, tipy:300 }\r\n\t];\r\n\tprivate gameContainer: Sprite;\r\n\tprivate guideContainer: Sprite;\r\n\tprivate maskArea: Sprite;\r\n\tprivate interactionArea: Sprite;\r\n\tprivate hitArea: Laya.HitArea;\r\n\tprivate tipContainer: Sprite;\r\n\tprivate guideStep = 0;\r\n    private scaleX = Index.pageWidth/1285;\r\n    private scaleY = Index.pageHeight/727;\r\n    private box: Laya.Box = new Laya.Box();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tthis.createPage();\r\n        if( Index.curPage )\r\n            this.box.scale( this.scaleX, this.scaleY );\r\n\t}\r\n\r\n\tcreatePage() {\r\n\t\tthis.owner.addChild(this.box);\r\n\r\n\t\t// \u7ED8\u5236\u5E95\u56FE\r\n\t\tthis.gameContainer = new Sprite();\r\n\t\tthis.box.addChild(this.gameContainer);\r\n\t\tthis.gameContainer.loadImage(\"resources/res/guide/crazy_snowball.png\");\r\n\t\tthis.gameContainer.on(Laya.Event.CLICK, this, this.nextStep);\r\n\r\n\t\t// \u5F15\u5BFC\u6240\u5728\u5BB9\u5668\r\n\t\tthis.guideContainer = new Sprite();\r\n\t\tthis.box.addChild(this.guideContainer);\r\n\t\tthis.guideContainer.cacheAs = \"bitmap\";\r\n\r\n\t\t// \u7ED8\u5236\u906E\u7F69\u533A\uFF0C\u542B\u900F\u660E\u5EA6\uFF0C\u53EF\u89C1\u6E38\u620F\u80CC\u666F\r\n\t\tthis.maskArea = new Sprite();\r\n\t\tthis.guideContainer.addChild(this.maskArea);\r\n\t\tthis.maskArea.alpha = 0.5;\r\n\t\tthis.maskArea.graphics.drawRect(0, 0, 1285, 727, \"#000\");\r\n\r\n\t\t// \u7ED8\u5236\u4E00\u4E2A\u5706\u5F62\u533A\u57DF\uFF0C\u5229\u7528\u53E0\u52A0\u6A21\u5F0F\uFF0C\u4ECE\u906E\u7F69\u533A\u57DF\u62A0\u51FA\u53EF\u4EA4\u4E92\u533A\r\n\t\tthis.interactionArea = new Sprite();\r\n\t\tthis.guideContainer.addChild(this.interactionArea);\r\n\t\t// \u8BBE\u7F6E\u53E0\u52A0\u6A21\u5F0F\r\n\t\tthis.interactionArea.blendMode = \"destination-out\";\r\n\r\n\t\t// \u8BBE\u7F6E\u70B9\u51FB\u533A\u57DF\r\n\t\tthis.hitArea = new Laya.HitArea();\r\n\t\tthis.hitArea.hit.drawRect(0, 0, 1285, 727, \"#000\");\r\n\t\tthis.guideContainer.hitArea = this.hitArea;\r\n\t\tthis.guideContainer.mouseEnabled = true;\r\n\r\n\t\tthis.tipContainer = new Sprite();\r\n\t\tthis.box.addChild(this.tipContainer);\r\n\r\n\t\tthis.nextStep();\r\n\t}\r\n\r\n\tnextStep() {\r\n\t\t\r\n\t\tif (this.guideStep === this.guideSteps.length) {\r\n\t\t\tthis.box.removeChild(this.guideContainer);\r\n\t\t\tthis.box.removeChild(this.tipContainer);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tlet step = this.guideSteps[this.guideStep++];\r\n\r\n\t\tthis.hitArea.unHit.clear();\r\n\t\tthis.hitArea.unHit.drawCircle(step.x, step.y, step.radius, \"#000000\");\r\n\r\n\t\tthis.interactionArea.graphics.clear();\r\n\t\tthis.interactionArea.graphics.drawCircle(step.x, step.y, step.radius, \"#000000\");\r\n\r\n\t\tthis.tipContainer.graphics.clear();\r\n\t\tthis.tipContainer.loadImage(step.tip);\r\n\t\tthis.tipContainer.pos(step.tipx, step.tipy);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('781d3498-3b70-42c0-9931-19cca7dd3c2e', '../src/2D/Sprite/Sprite_MagnifyingGlass.ts')\r\nexport class Sprite_MagnifyingGlass extends BaseScript {\r\n\r\n    private maskSp:Sprite;\r\n    private bg2:Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        Laya.loader.load(\"resources/res/bg2.png\").then(()=>{\r\n            this.setup();\r\n        });\r\n    }\r\n\r\n    setup():void\r\n    {\r\n        var bg:Sprite = new Sprite();\r\n        bg.loadImage(\"resources/res/bg2.png\");\r\n        this.owner.addChild(bg);\r\n\r\n        this.bg2 = new Sprite();\r\n        this.bg2.loadImage(\"resources/res/bg2.png\");\r\n        this.owner.addChild(this.bg2);\r\n        this.bg2.scale(3, 3);\r\n        \r\n        //\u521B\u5EFAmask\r\n        this.maskSp = new Sprite();\r\n        this.maskSp.loadImage(\"resources/res/mask.png\");\r\n        this.maskSp.pivot(50, 50);\r\n\r\n        //\u8BBE\u7F6Emask\r\n        this.bg2.mask = this.maskSp;\r\n\r\n        Laya.stage.on(\"mousemove\", this, this.onMouseMove);\r\n    }\r\n\r\n    onMouseMove(e: Laya.Event):void\r\n    {\r\n        \r\n        this.bg2.x = -e.target.mouseX * 2;\r\n        this.bg2.y = -e.target.mouseY * 2;\r\n\r\n        this.maskSp.x = e.target.mouseX;\r\n        this.maskSp.y = e.target.mouseY;\r\n    }\r\n\r\n    onDestroy(): void {\r\n        \r\n\t\tLaya.stage.off(\"mousemove\", this, this.onMouseMove);\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('9b0b2bc8-0e72-4d28-a70e-dea5d386679e', '../src/2D/Sprite/Sprite_NodeControl.ts')\r\nexport class Sprite_NodeControl extends BaseScript {\r\n\r\n    private ape1: Sprite;\r\n    private ape2: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tthis.createApes();\r\n\t}\r\n\r\n\tcreateApes() {\r\n\t\tconst Sprite = Laya.Sprite;\r\n\t\tlet monkey2Path = \"resources/res/apes/monkey2.png\";\r\n\r\n\t\tthis.ape1 = new Sprite();\r\n\t\tthis.ape2 = new Sprite();\r\n\t\tthis.ape1.loadImage(monkey2Path);\r\n\t\tthis.ape2.loadImage(monkey2Path);\r\n\r\n\t\tthis.ape1.pivot(55, 72);\r\n\t\tthis.ape2.pivot(55, 72);\r\n\r\n\t\tthis.ape1.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\t\tthis.ape2.pos(200, 0);\r\n\r\n\t\t// \u4E00\u53EA\u7329\u7329\u5728\u821E\u53F0\u4E0A\uFF0C\u53E6\u4E00\u53EA\u88AB\u6DFB\u52A0\u6210\u7B2C\u4E00\u53EA\u7329\u7329\u7684\u5B50\u7EA7\r\n\t\tthis.owner.addChild(this.ape1);\r\n\t\tthis.ape1.addChild(this.ape2);\r\n\t\t\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t}\r\n\r\n\tanimate() {\r\n\t\tthis.ape1.rotation += 2;\r\n\t\tthis.ape2.rotation -= 4;\r\n\t}\r\n\r\n    onDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('43d05e39-950f-4ef6-bc8d-f4b64c3a95c5', '../src/2D/Sprite/Sprite_Pivot.ts')\r\nexport class Sprite_Pivot extends BaseScript {\r\n\r\n    private ape1: Sprite;\r\n    private ape2: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createApes();\r\n\t}\r\n\r\n\tcreateApes() {\r\n\t\tconst Sprite = Laya.Sprite;\r\n\t\tlet monkey2Path = \"resources/res/apes/monkey2.png\";\r\n\t\tlet gap = 150;\r\n\r\n\t\tthis.ape1 = new Sprite();\r\n\t\tthis.owner.addChild(this.ape1);\r\n\t\tthis.ape1.loadImage(monkey2Path);\r\n\t\t// \u8BBE\u7F6E\u8F74\u5FC3\u70B9\u4E3A\u4E2D\u5FC3\r\n\t\tthis.ape1.pivot(55, 72);\r\n\t\tthis.ape1.pos(this.pageWidth / 2 - gap, this.pageHeight / 2);\r\n\r\n\t\t// \u4E0D\u8BBE\u7F6E\u8F74\u5FC3\u70B9\u9ED8\u8BA4\u4E3A\u5DE6\u4E0A\u89D2\r\n\t\tthis.ape2 = new Sprite();\r\n\t\tthis.owner.addChild(this.ape2);\r\n\t\tthis.ape2.loadImage(monkey2Path);\r\n\t\tthis.ape2.pos(this.pageWidth / 2 + gap, this.pageHeight / 2);\r\n\t\t\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\t}\r\n\r\n\tanimate() {\r\n\t\tthis.ape1.rotation += 2;\r\n\t\tthis.ape2.rotation += 2;\r\n\t}\r\n    \r\n    onDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c995c03a-29f2-42d9-9147-5b6d3c0f5039', '../src/2D/Sprite/Sprite_RoateAndScale.ts')\r\nexport class Sprite_RoateAndScale extends BaseScript {\r\n\r\n    private ape: Sprite;\r\n    private scaleDelta: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        this.createApe();\r\n    }\r\n\r\n    private createApe(): void {\r\n        this.ape = new Sprite();\r\n\r\n        this.ape.loadImage(\"resources/res/apes/monkey2.png\");\r\n        this.owner.addChild(this.ape);\r\n        this.ape.pivot(55, 72);\r\n        this.ape.x = this.pageWidth / 2;\r\n        this.ape.y = this.pageHeight / 2;\r\n        \r\n        //\u6BCF\u5E27\u8C03\u7528animate\u65B9\u6CD5\r\n        Laya.timer.frameLoop(1, this, this.animate);\r\n    }\r\n\r\n    private animate(e: Event): void {\r\n        this.ape.rotation += 2;\r\n\r\n        //\u5FC3\u8DF3\u7F29\u653E\r\n        this.scaleDelta += 0.02;\r\n        var scaleValue: number = Math.sin(this.scaleDelta);\r\n        this.ape.scale(scaleValue, scaleValue);\r\n    }\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animate);\r\n\t}\r\n}", "/*Laya.LayaEnv.beforeInit = function(config: Laya.IStageConfig) {\r\n    //\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u5728Laya.init\u524D\u8C03\u7528\r\n    console.log(\"before init\");\r\n    //\u8FD9\u91CC\u53EF\u4EE5\u5BF9config\u4EE5\u53CALaya.Config\u3001Laya.Config3D\u8FDB\u884C\u81EA\u5B9A\u4E49\u7684\u4FEE\u6539\r\n    Laya.Config.preserveDrawingBuffer =true;\r\n    Laya.Config.isAlpha =true;       \r\n}*/\r\n\r\n\r\nimport { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Image = Laya.Image;\r\nimport Texture = Laya.Texture;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\nimport RenderTexture2D = Laya.RenderTexture2D;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('7215a525-ba4a-49c5-bb91-410cd7b5a48d', '../src/2D/Sprite/Sprite_ScreenShot.ts')\r\nexport class Sprite_ScreenShot extends BaseScript {\r\n\r\n    private btnArr:Array<string> = [\"resources/image/img_btn_bg.png\", \"resources/image/img_btn_bg.png\", \"resources/image/img_btn_bg.png\"];\r\n    private nameArr:Array<string> = [\"canvas\u622A\u56FE\",\"sprite\u622A\u56FE\",\"\u6E05\u7406\"];\r\n    private _canvas:HTMLCanvasElement;\r\n    private aimSp:Sprite;\r\n    private drawImage:Image;\r\n    private drawSp:Sprite;\r\n\tprivate monkeyTexture:Texture;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        //\u9700\u8981\u5728 Laya.LayaEnv.beforeInit \u4E2D\u63D0\u524D\u8C03\u7528 Laya.Config.preserveDrawingBuffer =true;\r\n        super.base();\r\n\r\n        Laya.loader.load(this.btnArr.concat(\"resources/res/apes/monkey3.png\")).then( ()=>{\r\n            this.onLoaded();\r\n        } );\r\n\r\n    }\r\n\r\n    private createButton(skin: string,name:string,cb:Function,index:number): Button {\r\n        var btn: Button = new Button(skin,name);\r\n        this.owner.addChild(btn);\r\n        btn.on(Event.CLICK,this,cb);\r\n        btn.size(120,30);\r\n        btn.labelSize = 16;\r\n        btn.sizeGrid = \"21,83,22,76\";\r\n        btn.stateNum = 1;\r\n        btn.labelColors = \"#ffffff\";        \r\n        btn.name = name;\r\n        btn.right = 10;\r\n        btn.top = 100 + index * (btn.height + 10);\r\n\t\treturn btn;\r\n    }\r\n\r\n    private onLoaded(){\r\n\r\n        for (let index = 0; index < this.btnArr.length; index++) {\r\n            this.createButton(this.btnArr[index],this.nameArr[index],this._onclick,index);\r\n        }\r\n        this._canvas = window.document.getElementById(\"layaCanvas\") as HTMLCanvasElement;\r\n        \r\n\r\n        this.aimSp = new Sprite();\r\n        this.aimSp.size(this.pageWidth/2,this.pageHeight/2);\r\n        this.owner.addChild(this.aimSp);\r\n        this.aimSp.graphics.drawRect(0,0,this.aimSp.width,this.aimSp.height,\"#333333\");\r\n\r\n        this.monkeyTexture = Laya.loader.getRes(\"resources/res/apes/monkey3.png\");\r\n        this.aimSp.graphics.drawTexture(this.monkeyTexture,0,0,this.monkeyTexture.width,this.monkeyTexture.height);\r\n\r\n        this.drawImage = new Image();\r\n        this.drawImage.size(this.pageWidth/2,this.pageHeight/2);\r\n        this.owner.addChild(this.drawImage);\r\n        this.drawImage.bottom = this.drawImage.right = 0;\r\n\r\n        this.drawSp = new Sprite();\r\n        this.owner.addChild(this.drawSp);\r\n        this.drawSp.size(this.pageWidth/2,this.pageHeight/2);\r\n        this.drawSp.y = this.pageHeight/2;\r\n        this.drawSp.graphics.drawRect(0,0,this.drawSp.width,this.drawSp.height,\"#ff0000\");\r\n    }\r\n\r\n    private _onclick(e:Event){\r\n        switch (e.target.name) {\r\n            case this.nameArr[0]:\r\n\r\n                var base64Url:string = this._canvas.toDataURL(\"image/png\",1);\r\n                this.drawImage.skin = base64Url;\r\n                console.log(base64Url);\r\n\r\n                break;\r\n            case this.nameArr[1]:\r\n\r\n                var ddrt = new RenderTexture2D(Browser.clientWidth*Browser.pixelRatio, Browser.clientHeight*Browser.pixelRatio, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.None);\r\n                Laya.stage.drawToTexture(Browser.clientWidth*Browser.pixelRatio, Browser.clientHeight*Browser.pixelRatio, 0, 0, ddrt);\r\n                var text:Texture = new Texture(ddrt);\r\n                this.drawSp.graphics.drawTexture(text,0,0,this.drawSp.width,this.drawSp.height);\r\n\r\n                // var htmlCanvas: Laya.HTMLCanvas = this.drawSp.drawToCanvas(720, 1280, 0, 0);\r\n                // var base64Url:string = htmlCanvas.toBase64(\"image/png\",1);\r\n                // console.log(base64Url);\r\n                \r\n                break;\r\n            case this.nameArr[2]:\r\n                this.drawImage.skin = null;\r\n                this.drawSp.graphics.clear();\r\n                this.drawSp.graphics.drawRect(0,0,this.drawSp.width,this.drawSp.height,\"#ff0000\");\r\n                break;\r\n        }\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Texture = Laya.Texture;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('dac515e7-e7e9-4cd1-9da2-be3ff5edb050', '../src/2D/Sprite/Sprite_SwitchTexture.ts')\r\nexport class Sprite_SwitchTexture extends BaseScript {\r\n\r\n    private monkey1Str: string = \"resources/res/apes/monkey1.png\";\r\n\tprivate monkey2Str: string = \"resources/res/apes/monkey2.png\";\r\n\tprivate monkey1Res: Texture;\r\n\tprivate monkey2Res: Texture;\r\n    private flag: boolean;\r\n    private ape: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.flag = true;\r\n\t\tLaya.loader.load([this.monkey1Str, this.monkey2Str]).then( ()=>{\r\n            this.onAssetsLoaded();\r\n        } );\r\n\t}\r\n\r\n\tonAssetsLoaded() {\r\n\t\tthis.monkey1Res = Laya.loader.getRes(this.monkey1Str),\r\n\t\tthis.monkey2Res = Laya.loader.getRes(this.monkey2Str);\r\n\t\tthis.ape = new Laya.Sprite();\r\n\t\tthis.owner.addChild(this.ape);\r\n\t\tthis.ape.pivot(55, 72);\r\n\t\tthis.ape.pos(this.pageWidth / 2, this.pageHeight / 2);\r\n\r\n\t\tthis.switchTexture();\r\n\r\n\t\tthis.ape.on(Laya.Event.CLICK, this, this.switchTexture);\r\n\t}\r\n\t\r\n\tswitchTexture() {\r\n\t\tlet monkey = (this.flag = !this.flag) ? this.monkey1Res : this.monkey2Res;\r\n\r\n\t\tthis.ape.graphics.clear();\r\n\t\tthis.ape.graphics.drawTexture(monkey, 0, 0);\r\n\r\n\t\tthis.ape.size(monkey.width, monkey.height);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('7637aa31-dad9-415a-bd87-059be135c04f', '../src/2D/Text/Text_AutoSize.ts')\r\nexport class Text_AutoSize extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\t// \u8BE5\u6587\u672C\u81EA\u52A8\u9002\u5E94\u5C3A\u5BF8\r\n\t\tvar autoSizeText: Text = this.createSampleText();\r\n\t\tautoSizeText.overflow = Text.VISIBLE;\r\n\t\tautoSizeText.y = 50;\r\n\r\n\t\t// \u8BE5\u6587\u672C\u88AB\u9650\u5236\u4E86\u5BBD\u5EA6\r\n\t\tvar widthLimitText: Text = this.createSampleText();\r\n\t\twidthLimitText.width = 100;\r\n\t\twidthLimitText.height = 70;\r\n\t\twidthLimitText.y = 180;\r\n\t\twidthLimitText.overflow = Text.HIDDEN;\r\n\r\n\t\t//\u8BE5\u6587\u672C\u88AB\u9650\u5236\u4E86\u9AD8\u5EA6 \r\n\t\tvar heightLimitText: Text = this.createSampleText();\r\n\t\theightLimitText.height = 20;\r\n\t\theightLimitText.y = 320;\r\n\t}\r\n\r\n\tprivate createSampleText(): Text {\r\n\t\tvar text: Text = new Text();\r\n\t\ttext.overflow = Text.HIDDEN;\r\n\r\n\t\ttext.color = \"#FFFFFF\";\r\n\t\ttext.font = \"Impact\";\r\n\t\ttext.fontSize = 20;\r\n\t\ttext.borderColor = \"#FFFF00\";\r\n\t\ttext.x = 80;\r\n\r\n\t\tthis.box2D.addChild(text);\r\n\t\ttext.text = \"A POWERFUL HTML5 ENGINE ON FLASH TECHNICAL\\n\" + \"A POWERFUL HTML5 ENGINE ON FLASH TECHNICAL\\n\" + \"A POWERFUL HTML5 ENGINE ON FLASH TECHNICAL\";\r\n\t\treturn text;\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\nimport BitmapFont = Laya.BitmapFont;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('f4e2bacf-0e7b-4cac-9278-13ce67fd9752', '../src/2D/Text/Text_BitmapFont.ts')\r\nexport class Text_BitmapFont extends BaseScript {\r\n\r\n    private fontName: string = \"diyFont\";\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.loadFont();\r\n\t}\r\n\r\n\tprivate loadFont(): void {\r\n\t\tLaya.loader.load(\"resources/res/bitmapFont/test.fnt\", Laya.Loader.FONT).then((res: BitmapFont) => {\r\n\t\t\tthis.onFontLoaded(res);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onFontLoaded(bitmapFont: BitmapFont): void {\r\n\t\t\r\n\t\tText.registerBitmapFont(this.fontName, bitmapFont);\r\n\r\n\t\tthis.createText(this.fontName);\r\n\t}\r\n\r\n\tprivate createText(font: string): void {\r\n\t\tvar txt: Text = new Text();\r\n\t\ttxt.width = 250;\r\n\t\ttxt.wordWrap = true;\r\n\t\ttxt.text = \"Do one thing at a time, and do well.\";\r\n\t\ttxt.font = font;\r\n\t\ttxt.leading = 5;\r\n\t\ttxt.x = this.pageWidth - txt.width >> 1;\r\n\t\ttxt.y = this.pageHeight - txt.height >> 1;\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('07534d14-3399-4525-9452-5ea65e8ab848', '../src/2D/Text/Text_ComplexStyle.ts')\r\nexport class Text_ComplexStyle extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createText();\r\n\t}\r\n\r\n\tprivate createText(): void {\r\n\t\tvar txt: Text = new Text();\r\n\t\t//\u7ED9\u6587\u672C\u7684text\u5C5E\u6027\u8D4B\u503C\r\n\t\ttxt.text = \"Layabox\u662F\u6027\u80FD\u6700\u5F3A\u7684HTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411Flash\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\";\r\n\t\t//\u8BBE\u7F6E\u5BBD\u5EA6\uFF0C\u9AD8\u5EA6\u81EA\u52A8\u5339\u914D\r\n\t\ttxt.width = 400;\r\n\t\t//\u81EA\u52A8\u6362\u884C\r\n\t\ttxt.wordWrap = true;\r\n\r\n\t\ttxt.align = \"center\";\r\n\t\ttxt.fontSize = 40;\r\n\t\ttxt.font = \"Microsoft YaHei\";\r\n\t\ttxt.color = \"#ff0000\";\r\n\t\ttxt.bold = true;\r\n\t\ttxt.leading = 5;\r\n\r\n\t\t//\u8BBE\u7F6E\u63CF\u8FB9\u5C5E\u6027\r\n\t\ttxt.stroke = 2;\r\n\t\ttxt.strokeColor = \"#ffffff\";\r\n\r\n\t\ttxt.borderColor = \"#00ff00\"\r\n\r\n\t\ttxt.x = (this.pageWidth - txt.textWidth) / 2;\r\n\t\ttxt.y = (this.pageHeight - txt.textHeight) / 2;\r\n\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Input = Laya.Input;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('377ed9c2-39f1-4be3-af65-29f085445173', '../src/2D/Text/Text_Editable.ts')\r\nexport class Text_Editable extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createInput();\r\n\t}\r\n\r\n\tprivate createInput(): void {\r\n\t\tvar inputText: Input = new Input();\r\n\r\n\t\tinputText.size(350, 100);\r\n\t\tinputText.x = this.pageWidth - inputText.width >> 1;\r\n\t\tinputText.y = this.pageHeight - inputText.height >> 1;\r\n\r\n\t\tinputText.text = \"\u8FD9\u6BB5\u6587\u672C\u4E0D\u53EF\u7F16\u8F91\uFF0C\u4F46\u53EF\u590D\u5236\";\r\n\t\tinputText.editable = false;\r\n\r\n\t\t// \u8BBE\u7F6E\u5B57\u4F53\u6837\u5F0F\r\n\t\tinputText.bold = true;\r\n\t\tinputText.bgColor = \"#666666\";\r\n\t\tinputText.color = \"#ffffff\";\r\n\t\tinputText.fontSize = 20;\r\n\r\n\t\tthis.box2D.addChild(inputText);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('69205946-36a4-446a-a53a-337a95d28135', '../src/2D/Text/Text_HTML.ts')\r\nexport class Text_HTML extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createParagraph();\r\n\t}\r\n\r\n\tprivate createParagraph(): void {\r\n\t\tvar t = new Laya.Text();\r\n\t\tt.html = true;\r\n\t\tt.fontSize = 50;\r\n\t\tt.zOrder = 90000;\r\n\t\tt.text = '<font color=#e3d26a>\u4F7F\u7528</font><br/>';\r\n\t\tt.text += '<font color=#409ed7><b>\u6587\u672C\u7684</b>HTML</font><br/>';\r\n        t.text += '<font color=#10d269><i>\u521B\u5EFA\u7684</i></font><br/>';\r\n        t.text += '<font color=#dfbfc9><u>HTML\u5BCC\u6587\u672C</u></font>';\r\n\t\tthis.box2D.addChild(t);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Input = Laya.Input;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('41608eb0-8f61-40e4-bbb9-da03a8b26e24', '../src/2D/Text/Text_InputMultiline.ts')\r\nexport class Text_InputMultiline extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createInput();\r\n\t}\r\n\r\n\tprivate createInput(): void {\r\n\t\tvar inputText: Input = new Input();\r\n\r\n\t\t// \u79FB\u52A8\u7AEF\u8F93\u5165\u63D0\u793A\u7B26\r\n\t\tinputText.prompt = \"Type some word...\";\r\n\r\n\t\t//\u591A\u884C\u8F93\u5165\r\n\t\tinputText.multiline = true;\r\n\t\tinputText.wordWrap = true;\r\n\r\n\t\tinputText.size(350, 100);\r\n\t\tinputText.x = this.pageWidth - inputText.width >> 1;\r\n\t\tinputText.y = this.pageHeight - inputText.height >> 1;\r\n\t\tinputText.padding = [2, 2, 2, 2];\r\n\r\n\t\tinputText.bgColor = \"#666666\";\r\n\t\tinputText.color = \"#ffffff\";\r\n\t\tinputText.fontSize = 20;\r\n\r\n\t\tthis.box2D.addChild(inputText);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Input = Laya.Input;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('180d8844-d5a7-46e6-8d9b-0f882835324a', '../src/2D/Text/Text_InputSingleline.ts')\r\nexport class Text_InputSingleline extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createInput();\r\n\t}\r\n\r\n\tprivate createInput(): void {\r\n\t\tvar inputText: Input = new Input();\r\n\r\n\t\tinputText.size(350, 100);\r\n\t\tinputText.x = this.pageWidth - inputText.width >> 1;\r\n\t\tinputText.y = this.pageHeight - inputText.height >> 1;\r\n\r\n\t\t// \u79FB\u52A8\u7AEF\u8F93\u5165\u63D0\u793A\u7B26\r\n\t\tinputText.prompt = \"Type some word...\";\r\n\r\n\t\t// \u8BBE\u7F6E\u5B57\u4F53\u6837\u5F0F\r\n\t\tinputText.bold = true;\r\n\t\tinputText.bgColor = \"#666666\";\r\n\t\tinputText.color = \"#ffffff\";\r\n\t\tinputText.fontSize = 20;\r\n\r\n\t\tthis.box2D.addChild(inputText);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Input = Laya.Input;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('5fc3f7f8-2fca-4d92-ad6b-d3721b169668', '../src/2D/Text/Text_MaxChars.ts')\r\nexport class Text_MaxChars extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createInput();\r\n\t}\r\n\r\n\tprivate createInput(): void {\r\n\t\tvar inputText: Input = new Input();\r\n\r\n\t\tinputText.size(350, 100);\r\n\t\tinputText.x = this.pageWidth - inputText.width >> 1;\r\n\t\tinputText.y = this.pageHeight - inputText.height >> 1;\r\n\r\n\t\t// \u8BBE\u7F6E\u5B57\u4F53\u6837\u5F0F\r\n\t\tinputText.bold = true;\r\n\t\tinputText.bgColor = \"#666666\";\r\n\t\tinputText.color = \"#ffffff\";\r\n\t\tinputText.fontSize = 20;\r\n\r\n\t\tinputText.maxChars = 5;\r\n\r\n\t\tthis.box2D.addChild(inputText);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('20ea3e4f-cf7b-49f1-b427-189400071843', '../src/2D/Text/Text_Overflow.ts')\r\nexport class Text_Overflow extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createTexts();\r\n\t}\r\n\r\n\tprivate createTexts(): void {\r\n\t\tvar t1: Text = this.createText();\r\n\t\tt1.overflow = Text.VISIBLE;\r\n\t\tt1.pos(10, 10);\r\n\r\n\t\tvar t2: Text = this.createText();\r\n\t\tt2.overflow = Text.SCROLL;\r\n\t\tt2.pos(10, 110);\r\n\r\n\t\tvar t3: Text = this.createText();\r\n\t\tt3.overflow = Text.HIDDEN;\r\n\t\tt3.pos(10, 210);\r\n\t}\r\n\r\n\tprivate createText(): Text {\r\n\t\tvar txt: Text = new Text();\r\n\r\n\t\ttxt.text =\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\";\r\n\r\n\t\ttxt.borderColor = \"#FFFF00\";\r\n\r\n\t\ttxt.size(300, 50);\r\n\t\ttxt.fontSize = 20;\r\n\t\ttxt.color = \"#ffffff\";\r\n\r\n\t\tthis.box2D.addChild(txt);\r\n\r\n\t\treturn txt;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\nimport Input = Laya.Input;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('39106029-9ea6-4607-942f-68d6e10e4e5c', '../src/2D/Text/Text_Restrict.ts')\r\nexport class Text_Restrict extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createTexts();\r\n\t}\r\n\r\n\tprivate createTexts(): void {\r\n\t\tthis.createLabel(\"\u53EA\u5141\u8BB8\u8F93\u5165\u6570\u5B57\uFF1A\").pos(50, 20);\r\n\t\tvar input: Input = this.createInput();\r\n\t\tinput.pos(50, 50);\r\n\t\tinput.restrict = \"0-9\";\r\n\r\n\t\tthis.createLabel(\"\u53EA\u5141\u8BB8\u8F93\u5165\u5B57\u6BCD\uFF1A\").pos(50, 100);\r\n\t\tinput = this.createInput();\r\n\t\tinput.pos(50, 130);\r\n\t\tinput.restrict = \"a-zA-Z\";\r\n\r\n\t\tthis.createLabel(\"\u53EA\u5141\u8BB8\u8F93\u5165\u4E2D\u6587\u5B57\u7B26\uFF1A\").pos(50, 180);\r\n\t\tinput = this.createInput();\r\n\t\tinput.pos(50, 210);\r\n\t\tinput.restrict = \"\\u4e00-\\u9fa5\";\r\n\t}\r\n\r\n\tprivate createLabel(text: string): Text {\r\n\t\tvar label: Text = new Text();\r\n\t\tlabel.text = text;\r\n\t\tlabel.color = \"white\";\r\n\t\tlabel.fontSize = 20;\r\n\t\tthis.box2D.addChild(label);\r\n\t\treturn label;\r\n\t}\r\n\r\n\tprivate createInput(): Input {\r\n\t\tvar input: Input = new Input();\r\n\t\tinput.size(200, 30);\r\n\r\n\t\tinput.borderColor = \"#FFFF00\";\r\n\t\tinput.bold = true;\r\n\t\tinput.fontSize = 20;\r\n\t\tinput.color = \"#FFFFFF\";\r\n\t\tinput.padding = [0, 4, 0, 4];\r\n\r\n\t\tthis.box2D.addChild(input);\r\n\t\treturn input;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('64bf6e22-81b3-42c1-a25c-646966e07a92', '../src/2D/Text/Text_Scroll.ts')\r\nexport class Text_Scroll extends BaseScript {\r\n\tprivate txt: Text;\r\n\tprivate prevX: number = 0;\r\n\tprivate prevY: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createText();\r\n\t}\r\n\r\n\tprivate createText(): void {\r\n\t\tthis.txt = new Text();\r\n\t\tthis.txt.overflow = Text.SCROLL;\r\n\t\tthis.txt.text =\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\\n\" +\r\n\t\t\t\"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\";\r\n\r\n\t\tthis.txt.size(200, 100);\r\n\t\tthis.txt.x = this.pageWidth - this.txt.width >> 1;\r\n\t\tthis.txt.y = this.pageHeight - this.txt.height >> 1;\r\n\r\n\t\tthis.txt.borderColor = \"#FFFF00\";\r\n\r\n\t\tthis.txt.fontSize = 20;\r\n\t\tthis.txt.color = \"#ffffff\";\r\n\r\n\t\tthis.box2D.addChild(this.txt);\r\n\r\n\t\tthis.txt.on(Event.MOUSE_DOWN, this, this.startScrollText);\r\n\t}\r\n\r\n\t/* \u5F00\u59CB\u6EDA\u52A8\u6587\u672C */\r\n\tprivate startScrollText(e: Event): void {\r\n\t\tthis.prevX = this.txt.mouseX;\r\n\t\tthis.prevY = this.txt.mouseY;\r\n\r\n\t\tthis.box2D.on(Event.MOUSE_MOVE, this, this.scrollText);\r\n\t\tthis.box2D.on(Event.MOUSE_UP, this, this.finishScrollText);\r\n\t}\r\n\r\n\t/* \u505C\u6B62\u6EDA\u52A8\u6587\u672C */\r\n\tprivate finishScrollText(e: Event): void {\r\n\t\tthis.box2D.off(Event.MOUSE_MOVE, this, this.scrollText);\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.finishScrollText);\r\n\t}\r\n\r\n\t/* \u9F20\u6807\u6EDA\u52A8\u6587\u672C */\r\n\tprivate scrollText(e: Event): void {\r\n\t\tvar nowX: number = this.txt.mouseX;\r\n\t\tvar nowY: number = this.txt.mouseY;\r\n\r\n\t\tthis.txt.scrollX += this.prevX - nowX;\r\n\t\tthis.txt.scrollY += this.prevY - nowY;\r\n\r\n\t\tthis.prevX = nowX;\r\n\t\tthis.prevY = nowY;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('cde6d5b6-0518-414c-a63f-93d65985ead2', '../src/2D/Text/Text_UBB.ts')\r\nexport class Text_UBB extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createParagraph();\r\n\t}\r\n\r\n\tprivate createParagraph(): void {\r\n\t\tvar t = new Laya.Text();\r\n\t\tt.ubb = true;\r\n\t\tt.fontSize = 50;\r\n\t\tt.zOrder = 90000;\r\n\t\tt.text = '[color=#e3d26a]\u4F7F\u7528[/color]<br/>';\r\n\t\tt.text +='[color=#0bbd71]U[/color][color=#ff133c][u]B[/u][color][color=#409ed7][b]B[/b][/color]<br/>';\r\n\t\tt.text +='[color=#6ad2e3]\u521B\u5EFA\u7684[/color]<br/>';\r\n\t\tt.text +='[color=#d26ae3]UBB\u6587\u672C[/color]<br/>';\r\n\t\tthis.box2D.addChild(t);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('63c38139-0fef-4bc6-b483-32a2c735aa0d', '../src/2D/Text/Text_Underline.ts')\r\nexport class Text_Underline extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createTexts();\r\n\t}\r\n\r\n\tprivate createTexts(): void {\r\n\t\tthis.createText('left', 1, null, 100, 10);\r\n\t\tthis.createText('center', 2, \"#00BFFF\", 155, 150);\r\n\t\tthis.createText('right', 3, \"#FF7F50\", 210, 290);\r\n\t}\r\n\r\n\tprivate createText(align: string, underlineWidth: number, underlineColor: string, x: number, y: number): Text {\r\n\t\tvar txt: Text = new Text();\r\n\r\n\t\ttxt.text = \"Layabox\\n\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\\n\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\\n\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\";\r\n\r\n\t\ttxt.size(300, 50);\r\n\t\ttxt.fontSize = 20;\r\n\t\ttxt.color = \"#ffffff\";\r\n\t\ttxt.align = align;\r\n\r\n\t\t// \u8BBE\u7F6E\u4E0B\u5212\u7EBF\r\n\t\ttxt.underline = true;\r\n\t\ttxt.underlineColor = underlineColor;\r\n\r\n\t\ttxt.pos(x, y);\r\n\r\n\t\tthis.box2D.addChild(txt);\r\n\r\n\t\treturn txt;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('eb21fcf9-4f9b-44b9-8693-a1c6d99d55c6', '../src/2D/Text/Text_WordWrap.ts')\r\nexport class Text_WordWrap extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createText();\r\n\t}\r\n\r\n\tprivate createText(): void {\r\n\t\tvar txt: Text = new Text();\r\n\r\n\t\ttxt.text = \"Layabox\u662FHTML5\u5F15\u64CE\u6280\u672F\u63D0\u4F9B\u5546\u4E0E\u4F18\u79C0\u7684\u6E38\u620F\u53D1\u884C\u5546\uFF0C\u9762\u5411AS/JS/TS\u5F00\u53D1\u8005\u63D0\u4F9BHTML5\u5F00\u53D1\u6280\u672F\u65B9\u6848\uFF01\";\r\n\r\n\t\ttxt.width = 300;\r\n\r\n\t\ttxt.fontSize = 40;\r\n\t\ttxt.color = \"#ffffff\";\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u4E3A\u591A\u884C\u6587\u672C\r\n\t\ttxt.wordWrap = true;\r\n\r\n\t\ttxt.x = this.pageWidth - txt.width >> 1;\r\n\t\ttxt.y = this.pageHeight - txt.height >> 1;\r\n\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Handler = Laya.Handler;\r\nimport Rectangle = Laya.Rectangle;\r\nimport TiledMap = Laya.TiledMap;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('64708305-a2d1-438a-afd9-2cfb5f20370c', '../src/2D/TiledMap/TiledMap_AnimationTile.ts')\r\nexport class TiledMap_AnimationTile extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    private tiledMap: TiledMap;\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createMap();\r\n\t}\r\n\r\n\tprivate createMap(): void {\r\n\t\tthis.tiledMap = new TiledMap();\r\n\t\tthis.tiledMap.createMap(\"resources/res/tiledMap/orthogonal-test-movelayer.json\", new Rectangle(0, 0, this.pageWidth, this.pageHeight), Handler.create(this, this.onLoaded));\r\n\r\n\t}\r\n\r\n\tprivate onLoaded(): void {\r\n\t\tthis.tiledMap.mapSprite().removeSelf();\r\n        let map = this.tiledMap.mapSprite();\r\n\t\tthis.box2D.addChild(map);\r\n\t}\r\n\r\n\tdispose(): void {\r\n\t\tif (this.tiledMap) {\r\n\t\t\tthis.tiledMap.mapSprite().removeChildren();\r\n\t\t\tthis.tiledMap.destroy();\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Rectangle = Laya.Rectangle;\r\nimport Point = Laya.Point;\r\nimport Handler = Laya.Handler;\r\nimport MapLayer = Laya.MapLayer;\r\nimport TiledMap = Laya.TiledMap;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('36da897b-d4b1-430b-9e46-0d4640e6071a', '../src/2D/TiledMap/TiledMap_IsometricWorld.ts')\r\nexport class TiledMap_IsometricWorld extends BaseScript {\r\n\r\n\tprivate tiledMap: TiledMap;\r\n\tprivate layer: MapLayer;\r\n\tprivate sprite: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createMap();\r\n\r\n\t\tthis.box2D.on(\"click\", this, this.onStageClick);\r\n\t}\r\n\r\n\tprivate createMap(): void {\r\n\t\tthis.tiledMap = new TiledMap();\r\n\t\tthis.tiledMap.createMap(\"resources/res/tiledMap/isometric_grass_and_water.json\", new Rectangle(0, 0, Index.pageWidth, Index.pageHeight), Handler.create(this, this.mapLoaded), null, new Point(1600, 800));\r\n\t}\r\n\r\n\tprivate onStageClick(e: any = null): void {\r\n\t\tvar p: Point = new Point(0, 0);\r\n\t\tif (this.layer) {\r\n\t\t\tthis.layer.getTilePositionByScreenPos(e.target.mouseX, e.target.mouseY, p);\r\n\t\t\tthis.layer.getScreenPositionByTilePos(Math.floor(p.x), Math.floor(p.y), p);\r\n\t\t\tthis.sprite.pos(p.x, p.y);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate mapLoaded(e: any = null): void {\r\n\t\tthis.layer = this.tiledMap.getLayerByIndex(0);\r\n\r\n\t\tvar radiusX: number = 32;\r\n\t\tvar radiusY: number = Math.tan(180 / Math.PI * 30) * radiusX;\r\n\t\tvar color: string = \"#FF7F50\";\r\n\r\n\t\tthis.sprite = new Sprite();\r\n\t\tthis.sprite.graphics.drawLine(0, 0, -radiusX, radiusY, color);\r\n\t\tthis.sprite.graphics.drawLine(0, 0, radiusX, radiusY, color);\r\n\t\tthis.sprite.graphics.drawLine(-radiusX, radiusY, 0, radiusY * 2, color);\r\n\t\tthis.sprite.graphics.drawLine(radiusX, radiusY, 0, radiusY * 2, color);\r\n\t\tthis.box2D.addChild(this.sprite);\r\n\t\tthis.sprite.zOrder = 99999;\r\n\t\tthis.tiledMap.mapSprite().removeSelf();\r\n        let map = this.tiledMap.mapSprite();\r\n        map.x -= (1600-this.pageWidth)/2;\r\n\t\tthis.box2D.addChild(map);\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tthis.box2D.off(\"click\", this, this.onStageClick);\r\n\t\tif (this.tiledMap) {\r\n\t\t\tthis.tiledMap.mapSprite().removeChildren();\r\n\t\t\tthis.tiledMap.destroy();\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Rectangle = Laya.Rectangle;\r\nimport Handler = Laya.Handler;\r\nimport TiledMap = Laya.TiledMap;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('a324d7b5-9adb-4b34-9170-139eb6f6f506', '../src/2D/TiledMap/TiledMap_PerspectiveWall.ts')\r\nexport class TiledMap_PerspectiveWall extends BaseScript {\r\n\r\n\tprivate tiledMap: TiledMap;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.createMap();\r\n\t}\r\n\r\n\tprivate createMap(): void {\r\n\t\tthis.tiledMap = new TiledMap();\r\n\t\tthis.tiledMap.createMap(\"resources/res/tiledMap/perspective_walls.json\", new Rectangle(0, 0, this.pageWidth, this.pageHeight), Handler.create(this, this.onLoaded));\r\n\t}\r\n\r\n\tprivate onLoaded(): void {\r\n\t\tthis.tiledMap.mapSprite().removeSelf();\r\n\t\tthis.box2D.addChild(this.tiledMap.mapSprite());\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.tiledMap) {\r\n\t\t\tthis.tiledMap.mapSprite().removeChildren();\r\n\t\t\tthis.tiledMap.destroy();\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Event = Laya.Event;\r\nimport Rectangle = Laya.Rectangle;\r\nimport Handler = Laya.Handler;\r\nimport TiledMap = Laya.TiledMap;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('05e90bf2-8094-404e-92ef-4f13b11f62b8', '../src/2D/TiledMap/TiledMap_SimpleDemo.ts')\r\nexport class TiledMap_SimpleDemo extends BaseScript {\r\n\r\n    private tiledMap: TiledMap;\r\n\tprivate mLastMouseX: number = 0;\r\n\tprivate mLastMouseY: number = 0;\r\n\r\n\tprivate mX: number = 0;\r\n\tprivate mY: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.createMap();\r\n\r\n\t\tthis.box2D.on(Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tthis.box2D.on(Event.MOUSE_UP, this, this.mouseUp);\r\n\t}\r\n\r\n\t//\u521B\u5EFA\u5730\u56FE\r\n\tprivate createMap(): void {\r\n\t\t//\u521B\u5EFA\u5730\u56FE\u5BF9\u8C61\r\n\t\tthis.tiledMap = new TiledMap();\r\n\r\n\t\tthis.mX = this.mY = 0;\r\n\t\t//\u521B\u5EFA\u5730\u56FE\uFF0C\u9002\u5F53\u7684\u65F6\u5019\u8C03\u7528destroy\u9500\u6BC1\u5730\u56FE\r\n\t\tthis.tiledMap.createMap(\"resources/res/tiledMap/desert.json\", new Rectangle(0, 0, this.pageWidth, this.pageHeight), new Handler(this, this.completeHandler));\r\n\t}\r\n\r\n\tprivate onLoaded(): void {\r\n\t\tthis.tiledMap.mapSprite().removeSelf();\r\n\t\tthis.box2D.addChild(this.tiledMap.mapSprite());\r\n\t}\r\n\r\n\t/**\r\n\t * \u5730\u56FE\u52A0\u8F7D\u5B8C\u6210\u7684\u56DE\u8C03\r\n\t */\r\n\tprivate completeHandler(e: any = null): void {\r\n\t\tthis.box2D.on(Event.RESIZE, this, this.resize);\r\n\t\tthis.resize();\r\n\t\tthis.onLoaded();\r\n\t}\r\n\r\n\t//\u9F20\u6807\u6309\u4E0B\u62D6\u52A8\u5730\u56FE\r\n\tprivate mouseDown(e: any = null): void {\r\n\t\tthis.mLastMouseX = e.target.mouseX;\r\n\t\tthis.mLastMouseY = e.target.mouseY;\r\n\t\tthis.box2D.on(Event.MOUSE_MOVE, this, this.mouseMove);\r\n\t}\r\n\r\n\tprivate mouseMove(e: any = null): void {\r\n\t\t//\u79FB\u52A8\u5730\u56FE\u89C6\u53E3\r\n\t\tthis.tiledMap.moveViewPort(this.mX - (e.target.mouseX - this.mLastMouseX), this.mY - (e.target.mouseY - this.mLastMouseY));\r\n\t}\r\n\r\n\tprivate mouseUp(e: any = null): void {\r\n\t\tthis.mX = this.mX - (e.target.mouseX - this.mLastMouseX);\r\n\t\tthis.mY = this.mY - (e.target.mouseY - this.mLastMouseY);\r\n\t\tthis.box2D.off(Event.MOUSE_MOVE, this, this.mouseMove);\r\n\t}\r\n\r\n\t// \u7A97\u53E3\u5927\u5C0F\u6539\u53D8\uFF0C\u628A\u5730\u56FE\u7684\u89C6\u53E3\u533A\u57DF\u91CD\u8BBE\u4E0B\r\n\tprivate resize(e: any = null): void {\r\n\t\t//\u6539\u53D8\u5730\u56FE\u89C6\u53E3\u5927\u5C0F\r\n\t\tthis.tiledMap.changeViewPort(this.mX, this.mY, this.pageWidth, this.pageHeight);\r\n\t}\r\n\r\n\tdispose(): void {\r\n\t\tthis.box2D.off(Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tthis.box2D.off(Event.MOUSE_UP, this, this.mouseUp);\r\n\t\tthis.box2D.off(Event.RESIZE, this, this.resize);\r\n\t\tthis.box2D.off(Event.MOUSE_MOVE, this, this.mouseMove);\r\n\t\tif (this.tiledMap) {\r\n\t\t\tthis.tiledMap.destroy();\r\n\t\t}\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8015ee44-a6c5-40c2-9aa1-5c1c2ac1bf28', '../src/2D/Timer/Timer_CallLater.ts')\r\nexport class Timer_CallLater extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.demonstrate();\r\n\t}\r\n\r\n\tprivate demonstrate(): void {\r\n\t\tfor (var i: number = 0; i < 10; i++) {\r\n\t\t\tLaya.timer.callLater(this, this.onCallLater);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate onCallLater(e: any = null): void {\r\n\t\tconsole.log(\"onCallLater triggered\");\r\n\r\n\t\tvar text: Text = new Text();\r\n\t\ttext.font = \"SimHei\";\r\n\t\ttext.fontSize = 30;\r\n\t\ttext.color = \"#FFFFFF\";\r\n\t\ttext.text = \"\u6253\u5F00\u63A7\u5236\u53F0\u53EF\u89C1\u8BE5\u51FD\u6570\u4EC5\u89E6\u53D1\u4E86\u4E00\u6B21\";\r\n\t\ttext.size(this.pageWidth, this.pageHeight);\r\n\t\ttext.wordWrap = true;\r\n\t\ttext.valign = \"middle\";\r\n\t\ttext.align = \"center\";\r\n\t\tthis.box2D.addChild(text);\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d938c758-9e83-434b-b44d-d738431ec10e', '../src/2D/Timer/Timer_DelayExcute.ts')\r\nexport class Timer_DelayExcute extends BaseScript {\r\n\r\n\tprivate button1: Sprite;\r\n\tprivate button2: Sprite;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar vGap: number = 100;\r\n\r\n\t\tthis.button1 = this.createButton(\"\u70B9\u62113\u79D2\u4E4B\u540E alpha - 0.5\");\r\n\t\tthis.button1.x = (this.pageWidth - this.button1.width) / 2;\r\n\t\tthis.button1.y = (this.pageHeight - this.button1.height - vGap) / 2;\r\n\t\tthis.box2D.addChild(this.button1);\r\n\t\tthis.button1.on(Event.CLICK, this, this.onDecreaseAlpha1);\r\n\r\n\t\tthis.button2 = this.createButton(\"\u70B9\u621160\u5E27\u4E4B\u540E alpha - 0.5\");\r\n\t\tthis.button2.pos(this.button1.x, this.button1.y + vGap);\r\n\t\tthis.box2D.addChild(this.button2);\r\n\t\tthis.button2.on(Event.CLICK, this, this.onDecreaseAlpha2);\r\n\t}\r\n\r\n\tprivate createButton(label: string): Sprite {\r\n\t\tvar w: number = 300, h: number = 60;\r\n\r\n\t\tvar button: Sprite = new Sprite();\r\n\t\tbutton.graphics.drawRect(0, 0, w, h, \"#FF7F50\");\r\n\t\tbutton.size(w, h);\r\n\t\tbutton.graphics.fillText(label, w / 2, 17, \"20px simHei\", \"#ffffff\", \"center\");\r\n\t\treturn button;\r\n\t}\r\n\r\n\tprivate onDecreaseAlpha1(e: Event = null): void {\r\n\t\t//\u79FB\u9664\u9F20\u6807\u5355\u51FB\u4E8B\u4EF6\r\n\t\tthis.button1.off(Event.CLICK, this, this.onDecreaseAlpha1);\r\n\t\t//\u5B9A\u65F6\u6267\u884C\u4E00\u6B21(\u95F4\u9694\u65F6\u95F4)\r\n\t\tLaya.timer.once(3000, this, this.onComplete1);\r\n\t}\r\n\r\n\tprivate onDecreaseAlpha2(e: Event = null): void {\r\n\t\t//\u79FB\u9664\u9F20\u6807\u5355\u51FB\u4E8B\u4EF6\r\n\t\tthis.button2.off(Event.CLICK, this, this.onDecreaseAlpha2);\r\n\t\t//\u5B9A\u65F6\u6267\u884C\u4E00\u6B21(\u57FA\u4E8E\u5E27\u7387)\r\n\t\tLaya.timer.frameOnce(60, this, this.onComplete2);\r\n\t}\r\n\r\n\tprivate onComplete1(): void {\r\n\t\t//spBtn1\u7684\u900F\u660E\u5EA6\u51CF\u5C110.5\r\n\t\tthis.button1.alpha -= 0.5;\r\n\t}\r\n\r\n\tprivate onComplete2(): void {\r\n\t\t//spBtn2\u7684\u900F\u660E\u5EA6\u51CF\u5C110.5\r\n\t\tthis.button2.alpha -= 0.5;\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clearAll(this);\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('4f4156a7-8544-449e-b9ed-0970bded88d8', '../src/2D/Timer/Timer_Interval.ts')\r\nexport class Timer_Interval extends BaseScript {\r\n\r\n    private rotateTimeBasedText: Text;\r\n\tprivate rotateFrameRateBasedText: Text;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar vGap: number = 200;\r\n\r\n\t\tthis.rotateTimeBasedText = this.createText(\"\u57FA\u4E8E\u65F6\u95F4\u65CB\u8F6C\", this.pageWidth / 2, ( this.pageHeight - vGap) / 2);\r\n\t\tthis.rotateFrameRateBasedText = this.createText(\"\u57FA\u4E8E\u5E27\u9891\u65CB\u8F6C\", this.rotateTimeBasedText.x, this.rotateTimeBasedText.y + vGap);\r\n\r\n\t\tLaya.timer.loop(200, this, this.animateTimeBased);\r\n\t\tLaya.timer.frameLoop(2, this, this.animateFrameRateBased);\r\n\t}\r\n\r\n\tprivate createText(text: string, x: number, y: number): Text {\r\n\t\tvar t: Text = new Text();\r\n\t\tt.text = text;\r\n\t\tt.fontSize = 30;\r\n\t\tt.color = \"white\";\r\n\t\tt.bold = true;\r\n\t\tt.pivot(t.width / 2, t.height / 2);\r\n\t\tt.pos(x, y);\r\n\t\tthis.box2D.addChild(t);\r\n\r\n\t\treturn t;\r\n\t}\r\n\r\n\tprivate animateTimeBased(): void {\r\n\t\tthis.rotateTimeBasedText.rotation += 1;\r\n\t}\r\n\r\n\tprivate animateFrameRateBased(): void {\r\n\t\tthis.rotateFrameRateBasedText.rotation += 1;\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.animateTimeBased);\r\n\t\tLaya.timer.clear(this, this.animateFrameRateBased);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Label = Laya.Label;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Input = Laya.Input;\r\nimport List = Laya.List;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\nimport Box = Laya.Box;\r\nimport Text = Laya.Text;\r\nimport Ease = Laya.Ease;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0ded21b8-caed-459a-852f-6f3777890a79', '../src/2D/Tween/Tween_EaseFunctionsDemo.ts')\r\nexport class Tween_EaseFunctionsDemo extends BaseScript {\r\n\r\n\tprivate character: Sprite;\r\n\tprivate duration: number = 2000;\r\n\tprivate tween: Tween;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\t\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createCharacter();\r\n\t\tthis.createEaseFunctionList();\r\n\t\tthis.createDurationCrontroller();\r\n\t}\r\n\r\n\tprivate createCharacter(): void {\r\n\t\tthis.character = new Sprite();\r\n\t\tthis.character.loadImage(\"resources/res/cartoonCharacters/1.png\");\r\n\t\tthis.character.pos(100, 50);\r\n\t\tthis.box2D.addChild(this.character);\r\n\t}\r\n\r\n\tprivate createEaseFunctionList(): void {\r\n\t\tvar easeFunctionsList: List = new List();\r\n\r\n\t\teaseFunctionsList.itemRender = ListItemRender;\r\n\t\teaseFunctionsList.pos(5, 5);\r\n\r\n\t\teaseFunctionsList.repeatX = 1;\r\n\t\teaseFunctionsList.repeatY = 20;\r\n\r\n\t\teaseFunctionsList.vScrollBarSkin = '';\r\n\r\n\t\teaseFunctionsList.selectEnable = true;\r\n\t\teaseFunctionsList.selectHandler = new Handler(this, this.onEaseFunctionChange, [easeFunctionsList]);\r\n\t\teaseFunctionsList.renderHandler = new Handler(this, this.renderList);\r\n\t\tthis.box2D.addChild(easeFunctionsList);\r\n\r\n\t\tvar data: any[] = [];\r\n\t\tdata.push('backIn', 'backOut', 'backInOut');\r\n\t\tdata.push('bounceIn', 'bounceOut', 'bounceInOut');\r\n\t\tdata.push('circIn', 'circOut', 'circInOut');\r\n\t\tdata.push('cubicIn', 'cubicOut', 'cubicInOut');\r\n\t\tdata.push('elasticIn', 'elasticOut', 'elasticInOut');\r\n\t\tdata.push('expoIn', 'expoOut', 'expoInOut');\r\n\t\tdata.push('linearIn', 'linearOut', 'linearInOut');\r\n\t\tdata.push('linearNone');\r\n\t\tdata.push('QuadIn', 'QuadOut', 'QuadInOut');\r\n\t\tdata.push('quartIn', 'quartOut', 'quartInOut');\r\n\t\tdata.push('quintIn', 'quintOut', 'quintInOut');\r\n\t\tdata.push('sineIn', 'sineOut', 'sineInOut');\r\n\t\tdata.push('strongIn', 'strongOut', 'strongInOut');\r\n\r\n\t\teaseFunctionsList.array = data;\r\n\t}\r\n\r\n\tprivate renderList(item: ListItemRender, e: any = null): void {\r\n\t\titem.setLabel(item.dataSource);\r\n\t}\r\n\r\n\tprivate onEaseFunctionChange(list: List, e: any = null): void {\r\n\t\tthis.character.pos(100, 50);\r\n\r\n\t\tthis.tween && this.tween.clear();\r\n\t\t//@ts-ignore\r\n\t\tthis.tween = Tween.to(this.character, { \"x\": 350, \"y\": 250 }, this.duration, Laya.Ease[list.selectedItem] );\r\n\t}\r\n\r\n\tprivate createDurationCrontroller(): void {\r\n\t\tvar durationInput: Input = this.createInputWidthLabel(\"Duration:\", '2000', 400, 10);\r\n\t\tdurationInput.on(Event.INPUT, this,  (): void => {\r\n\t\t\tthis.duration = parseInt(durationInput.text);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate createInputWidthLabel(label: string, prompt: string, x: number, y: number): Input {\r\n\t\tvar text: Text = new Text();\r\n\t\ttext.text = label;\r\n\t\ttext.color = \"white\";\r\n\t\tthis.box2D.addChild(text);\r\n\t\ttext.pos(x, y);\r\n\r\n\t\tvar input: Input = new Input();\r\n\t\tinput.size(50, 20);\r\n\t\tinput.text = prompt;\r\n\t\tinput.align = 'center';\r\n\t\tthis.box2D.addChild(input);\r\n\t\tinput.color = \"#FFFFFF\";\r\n\t\tinput.borderColor = \"#FFFFFF\";\r\n\t\tinput.pos(text.x + text.width + 10, text.y - 3);\r\n\r\n\t\treturn input\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.tween) {\r\n\t\t\tthis.tween.clear();\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\n\r\nclass ListItemRender extends Box {\r\n\tprivate label: Label;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.size(100, 20);\r\n\r\n\t\tthis.label = new Label();\r\n\t\tthis.label.fontSize = 12;\r\n\t\tthis.label.color = \"#FFFFFF\";\r\n\t\tthis.addChild(this.label);\r\n\t}\r\n\r\n\tsetLabel(value: string): void {\r\n\t\tthis.label.text = value;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Ease = Laya.Ease;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\nimport Text = Laya.Text;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('a52ef21b-df96-438e-9f53-765de9ce76e6', '../src/2D/Tween/Tween_Letters.ts')\r\nexport class Tween_Letters extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar w: number = 400;\r\n\t\tvar offset: number = this.pageWidth - w >> 1;\r\n\t\tvar endY: number = this.pageHeight / 2 - 50;\r\n\t\tvar demoString: string = \"LayaBox\";\r\n\r\n\t\tfor (var i: number = 0, len: number = demoString.length; i < len; ++i) {\r\n\t\t\tvar letterText: Text = this.createLetter(demoString.charAt(i));\r\n\t\t\tletterText.x = w / len * i + offset;\r\n\r\n\t\t\tTween.to(letterText, { \"y\": endY }, 1000, Ease.elasticOut, null, i * 1000);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createLetter(char: string): Text {\r\n\t\tvar letter: Text = new Text();\r\n\t\tletter.text = char;\r\n\t\tletter.color = \"#FFFFFF\";\r\n\t\tletter.font = \"Impact\";\r\n\t\tletter.fontSize = 110;\r\n\t\tthis.box2D.addChild(letter);\r\n\r\n\t\treturn letter;\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport Skeleton = Laya.Skeleton;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\nimport EventData = Laya.EventData;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c38a5109-eee8-4781-b452-5c954d25542e', '../src/2D/Tween/Tween_SimpleSample.ts')\r\nexport class Tween_SimpleSample extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar terminalX: number = 200;\r\n\r\n\t\tvar characterA: Sprite = this.createCharacter(\"resources/res/cartoonCharacters/1.png\");\r\n\t\tcharacterA.pivot(46.5, 50);\r\n\t\tcharacterA.y = 100;\r\n\r\n\t\tvar characterB: Sprite = this.createCharacter(\"resources/res/cartoonCharacters/2.png\");\r\n\t\tcharacterB.pivot(34, 50);\r\n\t\tcharacterB.y = 250;\r\n\r\n\t\tthis.box2D.graphics.drawLine(terminalX, 0, terminalX, this.pageHeight, \"#FFFFFF\");\r\n\r\n\t\t// characterA\u4F7F\u7528Tween.to\u7F13\u52A8\r\n\t\tTween.to(characterA, { \"x\": terminalX }, 1000);\r\n\t\t// characterB\u4F7F\u7528Tween.from\u7F13\u52A8\r\n\t\tcharacterB.x = terminalX;\r\n\t\tTween.from(characterB, { \"x\": 0 }, 1000);\r\n\t}\r\n\r\n\tprivate createCharacter(skin: string): Sprite {\r\n\t\tvar character: Sprite = new Sprite();\r\n\t\tcharacter.loadImage(skin);\r\n\t\tthis.box2D.addChild(character);\r\n\r\n\t\treturn character;\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tthis.box2D.graphics.clear();\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Animation = Laya.Animation;\r\nimport Sprite = Laya.Sprite;\r\nimport Event = Laya.Event;\r\nimport Templet = Laya.Templet;\r\nimport TimeLine = Laya.TimeLine;\r\nimport Handler = Laya.Handler;\r\nimport Tween = Laya.Tween;\r\nimport Keyboard = Laya.Keyboard;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d1768db0-3ab6-470a-9675-f0f2b83dc6fb', '../src/2D/Tween/Tween_TimeLine.ts')\r\nexport class Tween_TimeLine extends BaseScript {\r\n\r\n\tprivate target: Sprite;\r\n\tprivate timeLine: TimeLine = new TimeLine();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createApe();\r\n\t\tthis.createTimerLine();\r\n\t\tthis.box2D.on(Event.KEY_DOWN, this, this.keyDown);\r\n\t}\r\n\tprivate createApe(): void {\r\n\t\tthis.target = new Sprite();\r\n\t\tthis.target.loadImage(\"resources/res/apes/monkey2.png\");\r\n\t\tthis.box2D.addChild(this.target);\r\n\t\tthis.target.pivot(55, 72);\r\n\t\tthis.target.pos(100, 100);\r\n\t}\r\n\r\n\tprivate createTimerLine(): void {\r\n\r\n\t\tthis.timeLine.addLabel(\"turnRight\", 0).to(this.target, { 'x': 450, 'y': 100, 'scaleX': 0.5, 'scaleY': 0.5 }, 2000, null, 0).\r\n\t\taddLabel(\"turnDown\", 0).to(this.target, { 'x': 450, 'y': 300, 'scaleX': 0.2, 'scaleY': 1, 'alpha': 1 }, 2000, null, 0).\r\n\t\taddLabel(\"turnLeft\", 0).to(this.target, { 'x': 100, 'y': 300, 'scaleX': 1, 'scaleY': 0.2, 'alpha': 0.1 }, 2000, null, 0).\r\n\t\taddLabel(\"turnUp\", 0).to(this.target, { 'x': 100, 'y': 100, 'scaleX': 1, 'scaleY': 1, 'alpha': 1 }, 2000, null, 0);\r\n\t\tthis.timeLine.play(0, true);\r\n\t\tthis.timeLine.on(Event.COMPLETE, this, this.onComplete);\r\n\t\tthis.timeLine.on(Event.LABEL, this, this.onLabel);\r\n\t}\r\n\tprivate onComplete(): void {\r\n\t\tconsole.log(\"timeLine complete!!!!\");\r\n\t}\r\n\tprivate onLabel(label: string): void {\r\n\t\tconsole.log(\"LabelName:\" + label);\r\n\t}\r\n\tprivate keyDown(e: Event): void {\r\n\t\tswitch (e.keyCode) {\r\n\t\t\tcase Keyboard.LEFT:\r\n\t\t\t\tthis.timeLine.play(\"turnLeft\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Keyboard.RIGHT:\r\n\t\t\t\tthis.timeLine.play(\"turnRight\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Keyboard.UP:\r\n\t\t\t\tthis.timeLine.play(\"turnUp\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Keyboard.DOWN:\r\n\t\t\t\tthis.timeLine.play(\"turnDown\");\r\n\t\t\t\tbreak;\r\n\t\t\tcase Keyboard.P:\r\n\t\t\t\tthis.timeLine.pause();\r\n\t\t\t\tbreak;\r\n\t\t\tcase Keyboard.R:\r\n\t\t\t\tthis.timeLine.resume();\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tthis.box2D.off(Event.KEY_DOWN, this, this.keyDown);\r\n\t\tif(this.timeLine)\r\n\t\t{\r\n\t\t\tthis.timeLine.on(Event.COMPLETE, this, this.onComplete);\r\n\t\t\tthis.timeLine.on(Event.LABEL, this, this.onLabel);\r\n\t\t\tthis.timeLine.destroy();\r\n\t\t\tthis.timeLine = null;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Button = Laya.Button;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0b46ea86-786c-4c5a-9fd6-062333649321', '../src/2D/UI/UI_Button.ts')\r\nexport class UI_Button extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\tprivate COLUMNS: number = 2;\r\n\tprivate BUTTON_WIDTH: number = 147;\r\n\tprivate BUTTON_HEIGHT: number = 165 / 3;\r\n\tprivate HORIZONTAL_SPACING: number = 200;\r\n\tprivate VERTICAL_SPACING: number = 100;\r\n\r\n\tprivate xOffset: number;\r\n\tprivate yOffset: number;\r\n\r\n\tprivate skins: any[];\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.skins = [\"resources/res/ui/button-1.png\", \"resources/res/ui/button-2.png\", \"resources/res/ui/button-3.png\",\r\n\t\t\t\"resources/res/ui/button-4.png\", \"resources/res/ui/button-5.png\", \"resources/res/ui/button-6.png\"];\r\n\r\n\t\t// \u8BA1\u7B97\u5C06Button\u81F3\u4E8E\u821E\u53F0\u4E2D\u5FC3\u7684\u504F\u79FB\u91CF\r\n\t\tthis.xOffset = (this.pageWidth - this.HORIZONTAL_SPACING * (this.COLUMNS - 1) - this.BUTTON_WIDTH) / 2;\r\n\t\tthis.yOffset = (this.pageHeight - this.VERTICAL_SPACING * (this.skins.length / this.COLUMNS - 1) - this.BUTTON_HEIGHT) / 2;\r\n\r\n\t\tLaya.loader.load(this.skins).then( ()=>{\r\n            this.onUIAssetsLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onUIAssetsLoaded(e: any = null): void {\r\n\t\tfor (var i: number = 0, len: number = this.skins.length; i < len; ++i) {\r\n\t\t\tvar btn: Button = this.createButton(this.skins[i]);\r\n\t\t\tvar x: number = i % this.COLUMNS * this.HORIZONTAL_SPACING + this.xOffset;\r\n\t\t\tvar y: number = (i / this.COLUMNS | 0) * this.VERTICAL_SPACING + this.yOffset;\r\n\t\t\tbtn.pos(x, y);\r\n\t\t\tconsole.log(x, y);\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createButton(skin: string): Button {\r\n\t\tvar btn: Button = new Button(skin);\r\n\t\tthis.box2D.addChild(btn);\r\n\t\treturn btn;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport CheckBox = Laya.CheckBox;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('e4f64c8b-f814-4958-a2ff-ba1a0363c2fc', '../src/2D/UI/UI_CheckBox.ts')\r\nexport class UI_CheckBox extends BaseScript {\r\n\r\n\tprivate COL_AMOUNT: number = 2;\r\n\tprivate ROW_AMOUNT: number = 3;\r\n\tprivate HORIZONTAL_SPACING: number = 200;\r\n\tprivate VERTICAL_SPACING: number = 100;\r\n\tprivate X_OFFSET: number = 100;\r\n\tprivate Y_OFFSET: number = 50;\r\n\r\n\tprivate skins: any[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.skins = [\"resources/res/ui/checkbox (1).png\", \"resources/res/ui/checkbox (2).png\", \"resources/res/ui/checkbox (3).png\", \"resources/res/ui/checkbox (4).png\", \"resources/res/ui/checkbox (5).png\", \"resources/res/ui/checkbox (6).png\"];\r\n\r\n\t\tLaya.loader.load(this.skins).then( ()=>{\r\n            this.onCheckBoxSkinLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onCheckBoxSkinLoaded(e: any = null): void {\r\n\t\tvar cb: CheckBox;\r\n\t\tfor (var i: number = 0; i < this.COL_AMOUNT; ++i) {\r\n\t\t\tfor (var j: number = 0; j < this.ROW_AMOUNT; ++j) {\r\n\t\t\t\tcb = this.createCheckBox(this.skins[i * this.ROW_AMOUNT + j]);\r\n\t\t\t\tcb.selected = true;\r\n\r\n\t\t\t\tcb.x = this.HORIZONTAL_SPACING * i + this.X_OFFSET;\r\n\t\t\t\tcb.y += this.VERTICAL_SPACING * j + this.Y_OFFSET;\r\n\r\n\t\t\t\t// \u7ED9\u5DE6\u8FB9\u7684\u4E09\u4E2ACheckBox\u6DFB\u52A0\u4E8B\u4EF6\u4F7F\u5176\u80FD\u591F\u5207\u6362\u6807\u7B7E\r\n\t\t\t\tif (i == 0) {\r\n\t\t\t\t\tcb.y += 20;\r\n\t\t\t\t\tcb.on(\"change\", this, this.updateLabel, [cb]);\r\n\t\t\t\t\tthis.updateLabel(cb);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createCheckBox(skin: string): CheckBox {\r\n\t\tvar cb: CheckBox = new CheckBox(skin);\r\n\t\tthis.box2D.addChild(cb);\r\n\r\n\t\tcb.labelColors = \"white\";\r\n\t\tcb.labelSize = 20;\r\n\t\tcb.labelFont = \"Microsoft YaHei\";\r\n\t\tcb.labelPadding = \"3,0,0,5\";\r\n\r\n\t\treturn cb;\r\n\t}\r\n\r\n\tprivate updateLabel(checkBox: CheckBox): void {\r\n\t\tcheckBox.label = checkBox.selected ? \"\u5DF2\u9009\u4E2D\" : \"\u672A\u9009\u4E2D\";\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Image = Laya.Image;\r\nimport Button = Laya.Button;\r\nimport Clip = Laya.Clip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('5039f284-c862-4adf-bc29-0dabf734cba8', '../src/2D/UI/UI_Clip.ts')\r\nexport class UI_Clip extends BaseScript {\r\n\r\n\tprivate buttonSkin: string = \"resources/res/ui/button-7.png\";\r\n\tprivate clipSkin: string = \"resources/res/ui/num0-9.png\";\r\n\tprivate bgSkin: string = \"resources/res/ui/coutDown.png\";\r\n\r\n\tprivate counter: Clip;\r\n\tprivate currFrame: number;\r\n\tprivate controller: Button;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\r\n\t\tLaya.loader.load([this.buttonSkin, this.clipSkin, this.bgSkin]).then( ()=>{\r\n            this.onSkinLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onSkinLoaded(e: any = null): void {\r\n\t\tthis.showBg();\r\n\t\tthis.createTimerAnimation();\r\n\t\tthis.showTotalSeconds();\r\n\t\tthis.createController();\r\n\t}\r\n\r\n\tprivate showBg(): void {\r\n\t\tvar bg: Image = new Image(this.bgSkin);\r\n\t\tbg.size(224 , 302);\r\n\t\tbg.pos(this.pageWidth - bg.width >> 1, this.pageHeight - bg.height >> 1);\r\n\t\tthis.box2D.addChild(bg);\r\n\t}\r\n\r\n\tprivate createTimerAnimation(): void {\r\n\t\tthis.counter = new Clip(this.clipSkin, 10, 1);\r\n\t\tthis.counter.autoPlay = true;\r\n\t\tthis.counter.interval = 1000;\r\n\r\n\t\tthis.counter.x = (this.pageWidth - this.counter.width) / 2 - 35;\r\n\t\tthis.counter.y = (this.pageHeight - this.counter.height) / 2 - 40;\r\n\r\n\t\tthis.box2D.addChild(this.counter);\r\n\t}\r\n\r\n\tprivate showTotalSeconds(): void {\r\n\t\tvar clip: Clip = new Clip(this.clipSkin, 10, 1);\r\n\t\tclip.index = clip.clipX - 1;\r\n\t\tclip.pos(this.counter.x + 60, this.counter.y);\r\n\t\tthis.box2D.addChild(clip);\r\n\t}\r\n\r\n\tprivate createController(): void {\r\n\t\tthis.controller = new Button(this.buttonSkin, \"\u6682\u505C\");\r\n\t\tthis.controller.labelBold = true;\r\n\t\tthis.controller.labelColors = \"#FFFFFF,#FFFFFF,#FFFFFF,#FFFFFF\";\r\n\t\tthis.controller.size(84, 30);\r\n\r\n\t\tthis.controller.on('click', this, this.onClipSwitchState);\r\n\r\n\t\tthis.controller.x = (this.pageWidth - this.controller.width) / 2;\r\n\t\tthis.controller.y = (this.pageHeight - this.controller.height) / 2 + 110;\r\n\t\tthis.box2D.addChild(this.controller);\r\n\t}\r\n\r\n\tprivate onClipSwitchState(e: any = null): void {\r\n\t\tif (this.counter.isPlaying) {\r\n\t\t\tthis.counter.stop();\r\n\t\t\tthis.currFrame = this.counter.index;\r\n\t\t\tthis.controller.label = \"\u64AD\u653E\";\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.counter.play();\r\n\t\t\tthis.counter.index = this.currFrame;\r\n\t\t\tthis.controller.label = \"\u6682\u505C\";\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport ColorPicker = Laya.ColorPicker;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('26af1428-e015-4af4-9277-bb198c86e4d4', '../src/2D/UI/UI_ColorPicker.ts')\r\nexport class UI_ColorPicker extends BaseScript {\r\n\r\n\tprivate skin: string = \"resources/res/ui/colorPicker.png\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.skin).then( ()=>{\r\n            this.onColorPickerSkinLoaded();\r\n        } );\r\n\t}\r\n\r\n\tprivate onColorPickerSkinLoaded(e: any = null): void {\r\n\t\tvar colorPicker: ColorPicker = new ColorPicker();\r\n\t\tcolorPicker.selectedColor = \"#ff0033\";\r\n\t\tcolorPicker.skin = this.skin;\r\n\r\n\t\tcolorPicker.pos(100, 100);\r\n\t\tcolorPicker.changeHandler = new Handler(this, this.onChangeColor, [colorPicker]);\r\n\t\tthis.box2D.addChild(colorPicker);\r\n\r\n\t\tthis.onChangeColor(colorPicker);\r\n\t}\r\n\r\n\tprivate onChangeColor(colorPicker: ColorPicker, e: any = null): void {\r\n\t\tconsole.log(colorPicker.selectedColor);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport ComboBox = Laya.ComboBox;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6e79e33f-0a03-4cde-9adf-0e06ecb659c9', '../src/2D/UI/UI_ComboBox.ts')\r\nexport class UI_ComboBox extends BaseScript {\r\n\tprivate skin: string = \"resources/res/ui/combobox.png\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.skin).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tvar cb: ComboBox = this.createComboBox(this.skin);\r\n\t\tcb.autoSize = true;\r\n\t\tcb.pos((this.pageWidth - cb.width) / 2, 100);\r\n\t\tcb.autoSize = false;\r\n\t}\r\n\r\n\tprivate createComboBox(skin: string): ComboBox {\r\n\t\tvar comboBox: ComboBox = new ComboBox(skin, \"item0,item1,item2,item3,item4,item5\");\r\n\t\tcomboBox.labelSize = 30;\r\n\t\tcomboBox.itemSize = 25;\r\n\t\tcomboBox.selectHandler = new Handler(this, this.onSelect, [comboBox]);\r\n\t\tthis.box2D.addChild(comboBox);\r\n\r\n\t\treturn comboBox;\r\n\t}\r\n\r\n\tprivate onSelect(cb: ComboBox, e: any = null): void {\r\n\t\tconsole.log(\"\u9009\u4E2D\u4E86\uFF1A \" + cb.selectedLabel);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Dialog = Laya.Dialog;\r\nimport Image = Laya.Image;\r\nimport Button = Laya.Button;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6eb2789d-4f8f-449b-a054-057e0ab651ca', '../src/2D/UI/UI_Dialog.ts')\r\nexport class UI_Dialog extends BaseScript {\r\n\r\n    private DIALOG_WIDTH: number = 220;\r\n\tprivate DIALOG_HEIGHT: number = 275;\r\n\tprivate CLOSE_BTN_WIDTH: number = 43;\r\n\tprivate CLOSE_BTN_PADDING: number = 5;\r\n\r\n\tprivate assets: any[];\r\n    private dialog: Dialog;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.assets = [\"resources/res/ui/dialog (1).png\", \"resources/res/ui/close.png\"];\r\n\t\tLaya.loader.load(this.assets).then( ()=>{\r\n            this.onSkinLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\t\r\n\tprivate onSkinLoadComplete(e: any = null): void {\r\n\t\tthis.dialog = new Dialog();\r\n\r\n\t\tvar bg: Image = new Image(this.assets[0]);\r\n\t\tthis.dialog.addChild(bg);\r\n\r\n\t\tvar button: Button = new Button(this.assets[1]);\r\n\t\tbutton.name = Dialog.CLOSE;\r\n\t\tbutton.pos(this.DIALOG_WIDTH - this.CLOSE_BTN_WIDTH - this.CLOSE_BTN_PADDING, this.CLOSE_BTN_PADDING);\r\n\t\tthis.dialog.addChild(button);\r\n\r\n\t\tthis.dialog.dragArea = \"0,0,\" + this.DIALOG_WIDTH + \",\" + this.DIALOG_HEIGHT;\r\n\t\tthis.dialog.show();\r\n\t}\r\n\r\n\tonDestroy(): void {\r\n\t\tif (this.dialog) {\r\n\t\t\tthis.dialog.close();\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport FontClip = Laya.FontClip;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('147094c0-1c15-46c1-98a4-b09d1fefac2c', '../src/2D/UI/UI_FontClip.ts')\r\nexport class UI_FontClip extends BaseScript {\r\n\r\n    private TestClipNum: string = \"resources/res/ui/fontClip_num.png\";\r\n    private _ClipNum: string = \"resources/res/ui/fontClip_num.png\";\r\n    private _ClipNum1: string = \"resources/res/ui/fontClip_num.png\";\r\n    private TestFontClip: string = \"resources/res/ui/fontClip.png\";\r\n    private _FontClip: string = \"resources/res/ui/fontClip.png\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n        Laya.loader.load([this.TestClipNum, this.TestFontClip, this._ClipNum, this._FontClip, this._ClipNum1]).then( ()=>{\r\n            this.ShowContent();\r\n        } );\r\n    }\r\n    \r\n    private ShowContent(): void {\r\n        var clipnum: FontClip = new FontClip(this._ClipNum);\r\n        var fontClip: FontClip = new FontClip(this._FontClip);\r\n        var testFontClip: FontClip = new FontClip(this.TestFontClip);\r\n        var testClipNum: FontClip = new FontClip(this.TestClipNum);\r\n        var clipnum1: FontClip = new FontClip(this._ClipNum1);\r\n\r\n        clipnum.pos(240, 400);\r\n        clipnum.size(250, 50);\r\n        clipnum.sheet = \"0123456789\";\r\n        clipnum.value = \"114499\";\r\n        clipnum.spaceY = 10;\r\n\r\n        testClipNum.pos(200, 300);\r\n        testClipNum.sheet = \"0123456789\";\r\n        testClipNum.value = \"0123456789\";\r\n\r\n        clipnum1.pos(150, 100);\r\n        clipnum1.direction = \"vertical\";\r\n        clipnum1.sheet = \"0123456789\";\r\n        clipnum1.value = \"223388\";\r\n\r\n        fontClip.pos(240, 200);\r\n        fontClip.sheet = \"\u9F20\u725B\u864E\u5154\u9F99\u86C7\u9A6C\u7F8A \u7334\u9E21\u72D7\u732A\u5E74\u5FEB\u4E50\";\r\n        fontClip.value = \"\u732A\u5E74\u5FEB\u4E50\";\r\n        fontClip.spaceY = 10;\r\n\r\n        testFontClip.pos(200, 100);\r\n        testFontClip.sheet = \"\u9F20\u725B\u864E\u5154\u9F99\u86C7\u9A6C\u7F8A\u7334\u9E21\u72D7\u732A\u5E74\u5FEB\u4E50\";\r\n        testFontClip.value = \"\u9F20\u725B\u864E\u5154\u9F99\u86C7\u9A6C\u7F8A\u7334\u9E21\u72D7\u732A\u5E74\u5FEB\u4E50\";\r\n        testFontClip.spaceY = 10;\r\n\r\n        this.box2D.addChild(clipnum);\r\n        this.box2D.addChild(fontClip);\r\n        this.box2D.addChild(testFontClip);\r\n        this.box2D.addChild(testClipNum);\r\n        this.box2D.addChild(clipnum1);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Image = Laya.Image;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('fbbe4b6b-30df-4768-8206-a4dfe5b4bac5', '../src/2D/UI/UI_Image.ts')\r\nexport class UI_Image extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar dialog: Image = new Image(\"resources/res/ui/dialog (3).png\");\r\n\t\tdialog.pos(165, 62.5);\r\n\t\tthis.box2D.addChild(dialog);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport TextInput = Laya.TextInput;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('3a772291-31a0-4a47-b2ec-cc5ca8ca1146', '../src/2D/UI/UI_Input.ts')\r\nexport class UI_Input extends BaseScript {\r\n\r\n    private SPACING: number = 100;\r\n\tprivate INPUT_WIDTH: number = 300;\r\n\tprivate INPUT_HEIGHT: number = 50;\r\n\tprivate Y_OFFSET: number = 50;\r\n\tprivate skins: any[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.skins = [\"resources/res/ui/input (1).png\", \"resources/res/ui/input (2).png\", \"resources/res/ui/input (3).png\", \"resources/res/ui/input (4).png\"];\r\n\t\tLaya.loader.load(this.skins).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tfor (var i: number = 0; i < this.skins.length; ++i) {\r\n\t\t\tvar input: TextInput = this.createInput(this.skins[i]);\r\n\t\t\tinput.prompt = 'Type:';\r\n\t\t\tinput.x = (this.pageWidth - input.width) / 2;\r\n\t\t\tinput.y = i * this.SPACING + this.Y_OFFSET;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createInput(skin: string): TextInput {\r\n\t\tvar ti: TextInput = new TextInput();\r\n\r\n\t\tti.skin = skin;\r\n\t\tti.size(300, 50);\r\n\t\tti.sizeGrid = \"0,40,0,40\";\r\n\t\tti.font = \"Arial\";\r\n\t\tti.fontSize = 30;\r\n\t\tti.bold = true;\r\n\t\tti.color = \"#606368\";\r\n\r\n\t\tthis.box2D.addChild(ti);\r\n\r\n\t\treturn ti;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Label = Laya.Label;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ff6e48bf-3722-4d14-a48b-c2f2295424f6', '../src/2D/UI/UI_Label.ts')\r\nexport class UI_Label extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tthis.createLabel(\"#FFFFFF\", null).pos(30, 50);\r\n\t\tthis.createLabel(\"#00FFFF\", null).pos(290, 50);\r\n\t\tthis.createLabel(\"#FFFF00\", \"#FFFFFF\").pos(30, 100);\r\n\t\tthis.createLabel(\"#000000\", \"#FFFFFF\").pos(290, 100);\r\n\t\tthis.createLabel(\"#FFFFFF\", \"#00FFFF\").pos(30, 150);\r\n\t\tthis.createLabel(\"#0080FF\", \"#00FFFF\").pos(290, 150);\r\n\t}\r\n\r\n\tprivate createLabel(color: string, strokeColor: string): Label {\r\n\t\tconst STROKE_WIDTH: number = 4;\r\n\r\n\t\tvar label: Label = new Label();\r\n\t\tlabel.font = \"Microsoft YaHei\";\r\n\t\tlabel.text = \"SAMPLE DEMO\";\r\n\t\tlabel.fontSize = 30;\r\n\t\tlabel.color = color;\r\n\r\n\t\tif (strokeColor) {\r\n\t\t\tlabel.stroke = STROKE_WIDTH;\r\n\t\t\tlabel.strokeColor = strokeColor;\r\n\t\t}\r\n\r\n\t\tthis.box2D.addChild(label);\r\n\r\n\t\treturn label;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport List = Laya.List;\r\nimport Event = Laya.Event;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6dd768a8-4397-4d82-8148-22d00bf4baec', '../src/2D/UI/UI_List.ts')\r\nexport class UI_List extends BaseScript {\r\n\r\n\tprivate _list: List;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\t\r\n\tprivate setup(): void {\r\n\t\tvar list: List = new List();\r\n\r\n\t\tlist.itemRender = Item;\r\n\t\tlist.repeatX = 1;\r\n\t\tlist.repeatY = 4;\r\n\r\n\t\tlist.x = (this.pageWidth - Item.WID) / 2;\r\n\t\tlist.y = (this.pageHeight - Item.HEI * list.repeatY) / 2;\r\n\r\n\t\t// \u8BBE\u7F6EList\u7684\u5782\u76F4\u6EDA\u52A8\r\n\t\tlist.scrollType = Laya.ScrollType.Vertical;\r\n\t\t// \u8BBE\u7F6EList\u7684\u5782\u76F4\u6EDA\u52A8\u76AE\u80A4\uFF0C\u4E0D\u8BBE\u7F6E\u6216\u8005\"\"\u5C31\u6CA1\u6709\u6EDA\u52A8\u6761\u76AE\u80A4\r\n\t\tlist.vScrollBarSkin = \"\";\r\n\t\t// \u662F\u5426\u5F00\u542F\u6A61\u76AE\u7B4B\u6548\u679C\r\n\t\tlist.elasticEnabled = true;\r\n\t\t// \u8BBE\u7F6E\u6A61\u76AE\u7B4B\u56DE\u5F39\u65F6\u95F4\u3002\u5355\u4F4D\u4E3A\u6BEB\u79D2\u3002\r\n\t\tlist.scrollBar.elasticBackTime = 300;\r\n\t\t// \u8BBE\u7F6E\u6A61\u76AE\u7B4B\u6781\u9650\u8DDD\u79BB\u3002\r\n\t\tlist.scrollBar.elasticDistance = 50;\r\n\t\tlist.selectEnable = true;\r\n\t\tlist.selectHandler = new Laya.Handler(this, this.onSelect);\r\n\r\n\t\tlist.renderHandler = new Laya.Handler(this, this.updateItem);\r\n\t\tthis.box2D.addChild(list);\r\n\r\n\t\t// \u8BBE\u7F6E\u6570\u636E\u9879\u4E3A\u5BF9\u5E94\u56FE\u7247\u7684\u8DEF\u5F84\r\n\t\tvar data: any[] = [];\r\n\t\tfor (var i: number = 0; i < 10; ++i) {\r\n\t\t\tdata.push(\"resources/res/ui/listskins/1.jpg\");\r\n\t\t\tdata.push(\"resources/res/ui/listskins/2.jpg\");\r\n\t\t\tdata.push(\"resources/res/ui/listskins/3.jpg\");\r\n\t\t\tdata.push(\"resources/res/ui/listskins/4.jpg\");\r\n\t\t\tdata.push(\"resources/res/ui/listskins/5.jpg\");\r\n\t\t}\r\n\t\tlist.array = data;\r\n\t\tthis._list = list;\r\n\t}\r\n\r\n\tprivate _itemHeight: number;\r\n\tprivate _oldY: number;\r\n\tprivate onMuseHandler(type: Event, index: number): void {\r\n\t\tconsole.log(\"type:\" + type.type + \"ddd--\" + this._list.scrollBar.value + \"---index:\" + index);\r\n\t\tvar curX: number, curY: number;\r\n\t\tif (type.type == \"mousedown\") {\r\n\t\t\tthis._oldY = Laya.stage.mouseY;\r\n\t\t\tlet itemBox = this._list.getCell(index);\r\n\t\t\tthis._itemHeight = itemBox.height;\r\n\t\t} else if (type.type == \"mouseout\") {\r\n\t\t\tcurY = Laya.stage.mouseY;\r\n\t\t\tvar chazhiY: number = Math.abs(curY - this._oldY);\r\n\t\t\tvar tempIndex: number = Math.ceil(chazhiY / this._itemHeight);\r\n\t\t\tconsole.log(\"----------tempIndex:\" + tempIndex + \"---_itemHeight:\" + this._itemHeight + \"---chazhiY:\" + chazhiY);\r\n\t\t\tvar newIndex: number;\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\tprivate updateItem(cell: Item, index: number): void {\r\n\t\tcell.setImg(cell.dataSource);\r\n\t}\r\n\r\n\tprivate onSelect(index: number): void {\r\n\t\tconsole.log(\"\u5F53\u524D\u9009\u62E9\u7684\u7D22\u5F15\uFF1A\" + index);\r\n\t}\r\n}\r\n\r\n\r\n\r\nclass Item extends Laya.Box {\r\n\tstatic WID: number = 373;\r\n\tstatic HEI: number = 85;\r\n\r\n\tprivate img: Laya.Image;\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.size(Item.WID, Item.HEI);\r\n\t\tthis.img = new Laya.Image();\r\n\t\tthis.addChild(this.img);\r\n\t}\r\n\r\n\tsetImg(src: string): void {\r\n\t\tthis.img.skin = src;\r\n\t}\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Panel = Laya.Panel;\r\nimport Image = Laya.Image;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d2b13fdb-ca9d-4c88-9728-1ca865c9f9b6', '../src/2D/UI/UI_Panel.ts')\r\nexport class UI_Panel extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.setup();\r\n\t}\r\n\r\n\tprivate setup(): void {\r\n\t\tvar panel: Panel = new Panel();\r\n\t\tpanel.hScrollBarSkin = \"resources/res/ui/hscroll.png\";\r\n\t\tpanel.hScrollBar.hide = true;\r\n\t\tpanel.size(600, 275);\r\n\t\tpanel.x = (this.pageWidth - panel.width) / 2;\r\n\t\tpanel.y = (this.pageHeight - panel.height) / 2;\r\n\t\tthis.box2D.addChild(panel);\r\n\r\n\t\tvar img: Image;\r\n\t\tfor (var i: number = 0; i < 4; i++) {\r\n\t\t\timg = new Image(\"resources/res/ui/dialog (1).png\");\r\n\t\t\timg.x = i * 250;\r\n\t\t\tpanel.addChild(img);\r\n\t\t}\r\n\t}\r\n\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport ProgressBar = Laya.ProgressBar;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c21a89ee-ebd6-49e1-a11a-6307700020ee', '../src/2D/UI/UI_ProgressBar.ts')\r\nexport class UI_ProgressBar extends BaseScript {\r\n\r\n    private progressBar: ProgressBar;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load([\"resources/res/ui/progressBar.png\", \"resources/res/ui/progressBar$bar.png\"]).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tthis.progressBar = new ProgressBar(\"resources/res/ui/progressBar.png\");\r\n\r\n\t\tthis.progressBar.width = 400;\r\n\r\n\t\tthis.progressBar.x = (this.pageWidth - this.progressBar.width) / 2;\r\n\t\tthis.progressBar.y = this.pageHeight / 2;\r\n\r\n\t\tthis.progressBar.sizeGrid = \"5,5,5,5\";\r\n\t\tthis.progressBar.changeHandler = new Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(this.progressBar);\r\n\r\n\t\tLaya.timer.loop(100, this, this.changeValue);\r\n\t}\r\n\r\n\tprivate changeValue(): void {\r\n\r\n\t\tif (this.progressBar.value >= 1)\r\n\t\t\tthis.progressBar.value = 0;\r\n\t\tthis.progressBar.value += 0.05;\r\n\t}\r\n\r\n\tprivate onChange(value: number): void {\r\n\t\tconsole.log(\"\u8FDB\u5EA6\uFF1A\" + Math.floor(value * 100) + \"%\");\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport RadioGroup = Laya.RadioGroup;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('a662a2ec-427c-49ca-86d1-73be27b23d88', '../src/2D/UI/UI_RadioGroup.ts')\r\nexport class UI_RadioGroup extends BaseScript {\r\n\r\n\tprivate SPACING: number = 150;\r\n\tprivate X_OFFSET: number = 200;\r\n\tprivate Y_OFFSET: number = 80;\r\n\r\n\tprivate skins: any[];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tthis.skins = [\"resources/res/ui/radioButton (1).png\", \"resources/res/ui/radioButton (2).png\", \"resources/res/ui/radioButton (3).png\"];\r\n\t\tLaya.loader.load(this.skins).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tfor (var i: number = 0; i < this.skins.length; ++i) {\r\n\t\t\tvar rg: RadioGroup = this.createRadioGroup(this.skins[i]);\r\n\t\t\trg.selectedIndex = i;\r\n\t\t\trg.x = i * this.SPACING + this.X_OFFSET;\r\n\t\t\trg.y = this.Y_OFFSET;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate createRadioGroup(skin: string): RadioGroup {\r\n\t\tvar rg: RadioGroup = new RadioGroup();\r\n\t\trg.skin = skin;\r\n\r\n\t\trg.space = 70;\r\n\t\trg.direction = \"v\";\r\n\r\n\t\trg.labels = \"Item1, Item2, Item3\";\r\n\t\trg.labelColors = \"#787878,#d3d3d3,#FFFFFF\";\r\n\t\trg.labelSize = 20;\r\n\t\trg.labelBold = true;\r\n\t\trg.labelPadding = \"5,0,0,5\";\r\n\r\n\t\trg.selectHandler = new Laya.Handler(this, this.onSelectChange);\r\n\t\tthis.box2D.addChild(rg);\r\n\r\n\t\treturn rg;\r\n\t}\r\n\r\n\tprivate onSelectChange(index: number): void {\r\n\t\tconsole.log(\"\u4F60\u9009\u62E9\u4E86\u7B2C \" + (index + 1) + \" \u9879\");\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport HScrollBar = Laya.HScrollBar;\r\nimport VScrollBar = Laya.VScrollBar;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('1d1ff0e3-a8b2-4595-b8fc-d4fa6b2d3b4a', '../src/2D/UI/UI_ScrollBar.ts')\r\nexport class UI_ScrollBar extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tvar skins: any[] = [];\r\n\t\tskins.push(\"resources/res/ui/hscroll.png\", \"resources/res/ui/hscroll$bar.png\", \"resources/res/ui/hscroll$down.png\", \"resources/res/ui/hscroll$up.png\");\r\n\t\tskins.push(\"resources/res/ui/vscroll.png\", \"resources/res/ui/vscroll$bar.png\", \"resources/res/ui/vscroll$down.png\", \"resources/res/ui/vscroll$up.png\");\r\n\t\tLaya.loader.load(skins).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tthis.placeHScroller();\r\n\t\tthis.placeVScroller();\r\n\t}\r\n\r\n\tprivate placeHScroller(): void {\r\n\t\tvar hs: HScrollBar = new HScrollBar();\r\n\t\ths.skin = \"resources/res/ui/hscroll.png\";\r\n\t\ths.width = 300;\r\n\t\ths.pos(50, 170);\r\n\r\n\t\ths.min = 0;\r\n\t\ths.max = 100;\r\n\r\n\t\ths.changeHandler = new Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(hs);\r\n\t}\r\n\r\n\tprivate placeVScroller(): void {\r\n\t\tvar vs: VScrollBar = new VScrollBar();\r\n\t\tvs.skin = \"resources/res/ui/vscroll.png\";\r\n\t\tvs.height = 300;\r\n\t\tvs.pos(400, 50);\r\n\r\n\t\tvs.min = 0;\r\n\t\tvs.max = 100;\r\n\r\n\t\tvs.changeHandler = new Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(vs);\r\n\t}\r\n\r\n\tprivate onChange(value: number): void {\r\n\t\tconsole.log(\"\u6EDA\u52A8\u6761\u7684\u4F4D\u7F6E\uFF1A value=\" + value);\r\n\t}\r\n\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport HSlider = Laya.HSlider;\r\nimport VSlider = Laya.VSlider;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('65a9e444-8f55-40b8-a41f-0ad4418eab7d', '../src/2D/UI/UI_Slider.ts')\r\nexport class UI_Slider extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tvar skins: any[] = [];\r\n\t\tskins.push(\"resources/res/ui/hslider.png\", \"resources/res/ui/hslider$bar.png\");\r\n\t\tskins.push(\"resources/res/ui/vslider.png\", \"resources/res/ui/vslider$bar.png\");\r\n\t\tLaya.loader.load(skins, Handler.create(this, this.onLoadComplete));\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tthis.placeHSlider();\r\n\t\tthis.placeVSlider();\r\n\t}\r\n\r\n\tprivate placeHSlider(): void {\r\n\t\tvar hs: HSlider = new HSlider();\r\n\t\ths.skin = \"resources/res/ui/hslider.png\";\r\n\r\n\t\ths.width = 300;\r\n\t\ths.pos(50, 170);\r\n\t\ths.min = 0;\r\n\t\ths.max = 100;\r\n\t\ths.value = 50;\r\n\t\ths.tick = 1;\r\n\r\n\t\ths.changeHandler = new Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(hs);\r\n\t}\r\n\r\n\tprivate placeVSlider(): void {\r\n\t\tvar vs: VSlider = new VSlider();\r\n\r\n\t\tvs.skin = \"resources/res/ui/vslider.png\";\r\n\r\n\t\tvs.height = 300;\r\n\t\tvs.pos(400, 50);\r\n\t\tvs.min = 0;\r\n\t\tvs.max = 100;\r\n\t\tvs.value = 50;\r\n\t\tvs.tick = 1;\r\n\r\n\t\tvs.changeHandler = new Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(vs);\r\n\t}\r\n\r\n\tprivate onChange(value: number): void {\r\n\t\tconsole.log(\"\u6ED1\u5757\u7684\u4F4D\u7F6E\uFF1A\" + value);\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Tab = Laya.Tab;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d0973bda-cd73-46f1-9970-92451a8979a6', '../src/2D/UI/UI_Tab.ts')\r\nexport class UI_Tab extends BaseScript {\r\n\r\n    private skins: any[] = [\"resources/res/ui/tab1.png\", \"resources/res/ui/tab2.png\"];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.skins).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tvar tabA: Tab = this.createTab(this.skins[0]);\r\n\t\ttabA.pos(40, 120);\r\n\t\ttabA.labelColors = \"#000000,#d3d3d3,#333333\";\r\n\r\n\t\tvar tabB: Tab = this.createTab(this.skins[1]);\r\n\t\ttabB.pos(40, 220);\r\n\t\ttabB.labelColors = \"#FFFFFF,#8FB299,#FFFFFF\";\r\n\t}\r\n\r\n\tprivate createTab(skin: string): Tab {\r\n\t\tvar tab: Tab = new Tab();\r\n\t\ttab.skin = skin;\r\n\r\n\t\ttab.labelBold = true;\r\n\t\ttab.labelSize = 20;\r\n\t\ttab.labelStrokeColor = \"#000000\";\r\n\r\n\t\ttab.labels = \"Tab Control 1,Tab Control 2,Tab Control 3\";\r\n\t\ttab.labelPadding = \"0,0,0,0\";\r\n\r\n\t\ttab.selectedIndex = 1;\r\n\r\n\t\tthis.onSelect(tab.selectedIndex);\r\n\t\ttab.selectHandler = new Handler(this, this.onSelect);\r\n\r\n\t\tthis.box2D.addChild(tab);\r\n\r\n\t\treturn tab;\r\n\t}\r\n\r\n\tprivate onSelect(index: number): void {\r\n\t\tconsole.log(\"\u5F53\u524D\u9009\u62E9\u7684\u6807\u7B7E\u9875\u7D22\u5F15\u4E3A \" + index);\r\n\t}\r\n\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport TextArea = Laya.TextArea;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('072844be-64d9-497c-913e-dd853e6d633a', '../src/2D/UI/UI_TextArea.ts')\r\nexport class UI_TextArea extends BaseScript {\r\n\t\r\n\tprivate skin: string = \"resources/res/ui/textarea.png\";\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tLaya.loader.load(this.skin).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\r\n\t\tlet ta: TextArea = new TextArea(\"\");\r\n\t\tta.skin = this.skin;\r\n\r\n\t\tta.font = \"Arial\";\r\n\t\tta.fontSize = 18;\r\n\t\tta.bold = true;\r\n\r\n\t\tta.color = \"#3d3d3d\";\r\n\r\n\t\tta.pos(100, 15);\r\n\t\tta.size(375, 355);\r\n\r\n\t\tta.padding = \"70,8,8,8\";\r\n\r\n\t\tthis.owner.addChild(ta);\r\n\t}\r\n\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Label = Laya.Label;\r\nimport Tree = Laya.Tree;\r\nimport Box = Laya.Box;\r\nimport Handler = Laya.Handler;\r\nimport Clip = Laya.Clip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d3bf77a4-0a1e-46cc-9048-1f898ae0c747', '../src/2D/UI/UI_Tree.ts')\r\nexport class UI_Tree extends BaseScript {\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base();\r\n\t\tvar res: any[] = [\"resources/res/ui/vscroll.png\",\r\n\t\t\t\"resources/res/ui/vscroll$bar.png\",\r\n\t\t\t\"resources/res/ui/vscroll$down.png\",\r\n\t\t\t\"resources/res/ui/vscroll$up.png\",\r\n\t\t\t\"resources/res/ui/tree/clip_selectBox.png\",\r\n\t\t\t\"resources/res/ui/tree/clip_tree_folder.png\",\r\n\t\t\t\"resources/res/ui/tree/clip_tree_arrow.png\"];\r\n\r\n\t\tLaya.loader.load(res).then( ()=>{\r\n            this.onLoadComplete();\r\n        } );\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\t// \u7EC4\u88C5tree\u7684\u6570\u636E\r\n\t\tvar treeData:string = \"<data>\";\r\n\t\tfor (var i: number = 0; i < 5; ++i) {\r\n\t\t\ttreeData += \"<item label='Directory \" + (i + 1) + \"' isOpen='true'>\";\r\n\t\t\tfor (var j: number = 0; j < 5; ++j) {\r\n\t\t\t\ttreeData += \"<leaf label='File \" + (j + 1) + \"'/>\";\r\n\t\t\t}\r\n\t\t\ttreeData += \"</item>\";\r\n\t\t}\r\n\t\ttreeData += \"</data>\";\r\n\t\t// \u89E3\u6790tree\u7684\u6570\u636E\r\n\t\tvar xml: Laya.XML = new Laya.XML(treeData);\r\n\r\n\t\tvar tree: Tree = new Tree();\r\n\t\ttree.scrollBarSkin = \"resources/res/ui/vscroll.png\";\r\n\t\ttree.itemRender = Item;\r\n\t\ttree.xml = xml;\r\n\t\ttree.size(300, 300);\r\n\t\ttree.x = (this.pageWidth - tree.width) / 2;\r\n\t\ttree.y = (this.pageHeight - tree.height) / 2;\r\n\t\tthis.box2D.addChild(tree);\r\n\t}\r\n}\r\n\r\n\r\n\r\n// \u6B64\u7C7B\u5BF9\u5E94\u7684json\u5BF9\u8C61\uFF1A\r\n// {\"child\": [{\"type\": \"Clip\", \"props\": {\"x\": \"13\", \"y\": \"0\", \"left\": \"12\", \"height\": \"24\", \"name\": \"selectBox\", \"skin\": \"ui/clip_selectBox.png\", \"right\": \"0\", \"clipY\": \"2\"}}, {\"type\": \"Clip\", \"props\": {\"y\": \"4\", \"x\": \"14\", \"name\": \"folder\", \"clipX\": \"1\", \"skin\": \"ui/clip_tree_folder.png\", \"clipY\": \"3\"}}, {\"type\": \"Label\", \"props\": {\"y\": \"1\", \"text\": \"treeItem\", \"width\": \"150\", \"left\": \"33\", \"height\": \"22\", \"name\": \"label\", \"color\": \"#ffff00\", \"right\": \"0\", \"x\": \"33\"}}, {\"type\": \"Clip\", \"props\": {\"x\": \"0\", \"name\": \"arrow\", \"y\": \"5\", \"skin\": \"ui/clip_tree_arrow.png\", \"clipY\": \"2\"}}], \"type\": \"Box\", \"props\": {\"name\": \"render\", \"right\": \"0\", \"left\": \"0\"}};\r\nclass Item extends Box {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.right = 0;\r\n\t\tthis.left = 0;\r\n\r\n\t\tvar selectBox: Clip = new Clip(\"resources/res/ui/tree/clip_selectBox.png\", 1, 2);\r\n\t\tselectBox.name = \"selectBox\";//\u8BBE\u7F6E selectBox \u7684name \u4E3A\u201CselectBox\u201D\u65F6\uFF0C\u5C06\u88AB\u8BC6\u522B\u4E3A\u6811\u7ED3\u6784\u7684\u9879\u7684\u80CC\u666F\u30022\u5E27\uFF1A\u60AC\u505C\u65F6\u80CC\u666F\u3001\u9009\u4E2D\u65F6\u80CC\u666F\u3002\t\r\n\t\tselectBox.height = 32;\r\n\t\tselectBox.x = 13;\r\n\t\tselectBox.left = 12;\r\n\t\tthis.addChild(selectBox);\r\n\r\n\t\tvar folder: Clip = new Clip(\"resources/res/ui/tree/clip_tree_folder.png\", 1, 3);\r\n\t\tfolder.name = \"folder\";//\u8BBE\u7F6E folder \u7684name \u4E3A\u201Cfolder\u201D\u65F6\uFF0C\u5C06\u88AB\u8BC6\u522B\u4E3A\u6811\u7ED3\u6784\u7684\u6587\u4EF6\u5939\u5F00\u542F\u72B6\u6001\u56FE\u8868\u30022\u5E27\uFF1A\u6298\u53E0\u72B6\u6001\u3001\u6253\u5F00\u72B6\u6001\u3002\r\n\t\tfolder.x = 14;\r\n\t\tfolder.y = 4;\r\n\t\tthis.addChild(folder);\r\n\r\n\t\tvar label: Label = new Label(\"treeItem\");\r\n\t\tlabel.name = \"label\";//\u8BBE\u7F6E label \u7684name \u4E3A\u201Clabel\u201D\u65F6\uFF0C\u6B64\u503C\u5C06\u7528\u4E8E\u6811\u7ED3\u6784\u6570\u636E\u8D4B\u503C\u3002\r\n\t\tlabel.fontSize = 20;\r\n\t\tlabel.color = \"#FFFFFF\";\r\n\t\tlabel.padding = \"6,0,0,13\";\r\n\t\tlabel.width = 150;\r\n\t\tlabel.height = 30;\r\n\t\tlabel.x = 33;\r\n\t\tlabel.y = 1;\r\n\t\tlabel.left = 33;\r\n\t\tlabel.right = 0;\r\n\t\tthis.addChild(label);\r\n\r\n\t\tvar arrow: Clip = new Clip(\"resources/res/ui/tree/clip_tree_arrow.png\", 1, 2);\r\n\t\tarrow.name = \"arrow\";//\u8BBE\u7F6E arrow \u7684name \u4E3A\u201Carrow\u201D\u65F6\uFF0C\u5C06\u88AB\u8BC6\u522B\u4E3A\u6811\u7ED3\u6784\u7684\u6587\u4EF6\u5939\u5F00\u542F\u72B6\u6001\u56FE\u8868\u30022\u5E27\uFF1A\u6298\u53E0\u72B6\u6001\u3001\u6253\u5F00\u72B6\u6001\u3002\r\n\t\tarrow.x = 0;\r\n\t\tarrow.y = 5;\r\n\t\tthis.addChild(arrow);\r\n\t}\r\n}\r\n", "#define SHADER_NAME GlassShaderVS\r\n#include \"Camera.glsl\";\r\n#include \"Sprite3DVertex.glsl\";\r\n#include \"VertexCommon.glsl\";\r\nvarying vec2 v_Texcoord0;\r\nvarying vec4 v_ScreenTexcoord;\r\n\r\nvoid main() {\r\n\tVertex vertex;\r\n\tgetVertexParams(vertex);\r\n\tmat4 worldMat = getWorldMatrix();\r\n\tvec3 positionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\r\n\tgl_Position = getPositionCS(positionWS);\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n\tv_Texcoord0= transformUV(a_Texcoord0, u_TilingOffset);\r\n\t//v_ScreenTexcoord =vec2((gl_Position.x/gl_Position.w+1.0)*0.5, (gl_Position.y/gl_Position.w+1.0)*0.5);\r\n\tv_ScreenTexcoord = gl_Position*0.5;\r\n\tv_ScreenTexcoord.xy = vec2(v_ScreenTexcoord.x,v_ScreenTexcoord.y)+v_ScreenTexcoord.w;\r\n\tv_ScreenTexcoord.zw = gl_Position.zw;\r\n\t\r\n}", "#define SHADER_NAME GlassShaderFS\r\n\r\n#include \"Color.glsl\";\r\nvarying vec2 v_Texcoord0;\r\nvarying vec4 v_ScreenTexcoord;\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_screenTexture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n\r\n#ifdef Gamma_u_screenTexture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_tintTexure\r\n    return mainSampler;\r\n}\r\nvoid main()\r\n{\r\n\tvec4 color;\r\n\tvec4 screenTexColor = sampleMainTex(u_screenTexture,v_ScreenTexcoord.xy/v_ScreenTexcoord.w);\r\n\tvec4 tintTexColor = sampleMainTex(u_tintTexure, v_Texcoord0);\r\n\tcolor = mix(screenTexColor, tintTexColor,0.5);\r\n\tgl_FragColor = color;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n}\r\n\r\n", "import GlassShaderVS from \"./GlassShader.vs\";\r\nimport GlassShaderFS from \"./GlassShader.fs\";\r\n\r\nexport class GlassWithoutGrabMaterial extends Laya.Material {\r\n    /** tintTexure */\r\n    static TINTTEXTURE: number;\r\n    /** normalTexture\" */\r\n    static NORMALTEXTURE: number;\r\n    /** TilingOffset */\r\n    static TILINGOFFSET: number;\r\n    /** tintAmount */\r\n    static ALBEDOCOLOR: number;\r\n\r\n    static init() {\r\n        var attributeMap: any = {\r\n            'a_Position': [Laya.VertexMesh.MESH_POSITION0, Laya.ShaderDataType.Vector4],\r\n            'a_Normal': [Laya.VertexMesh.MESH_NORMAL0, Laya.ShaderDataType.Vector3],\r\n            'a_Texcoord0': [Laya.VertexMesh.MESH_TEXTURECOORDINATE0, Laya.ShaderDataType.Vector2],\r\n            'a_Tangent0': [Laya.VertexMesh.MESH_TANGENT0, Laya.ShaderDataType.Vector4],\r\n        };\r\n\r\n        var uniformMap: any = {\r\n            \"u_tintTexure\": Laya.ShaderDataType.Texture2D,\r\n            \"u_screenTexture\": Laya.ShaderDataType.Texture2D,\r\n            \"u_normalTexture\": Laya.ShaderDataType.Texture2D,\r\n            \"u_TilingOffset\": Laya.ShaderDataType.Vector4,\r\n            \"u_tintAmount\": Laya.ShaderDataType.Color,\r\n        }\r\n        var shader: Laya.Shader3D = Laya.Shader3D.add(\"GlassShader\", false);\r\n        var subShader: Laya.SubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        subShader.addShaderPass(GlassShaderVS, GlassShaderFS);\r\n\r\n        GlassWithoutGrabMaterial.TINTTEXTURE = Laya.Shader3D.propertyNameToID(\"u_tintTexure\");\r\n        GlassWithoutGrabMaterial.NORMALTEXTURE = Laya.Shader3D.propertyNameToID(\"u_normalTexture\");\r\n        GlassWithoutGrabMaterial.TILINGOFFSET = Laya.Shader3D.propertyNameToID(\"u_TilingOffset\");\r\n        GlassWithoutGrabMaterial.ALBEDOCOLOR = Laya.Shader3D.propertyNameToID(\"u_tintAmount\");\r\n    }\r\n\r\n    /**\r\n     * @param texture \r\n     */\r\n    constructor(texture: Laya.BaseTexture) {\r\n        super();\r\n        this.setShaderName(\"GlassShader\");\r\n        this.renderModeSet();\r\n        this._shaderValues.setVector(GlassWithoutGrabMaterial.TILINGOFFSET, new Laya.Vector4(1, 1, 0, 0));\r\n        this._shaderValues.setTexture(GlassWithoutGrabMaterial.TINTTEXTURE, texture);\r\n    }\r\n\r\n    /**\r\n     * RenderMode\r\n     */\r\n    renderModeSet() {\r\n        this.alphaTest = false;//\u6DF1\u5EA6\u6D4B\u8BD5\u5173\u95ED\r\n        this.renderQueue = Laya.Material.RENDERQUEUE_TRANSPARENT;//\u6E32\u67D3\u987A\u5E8F\u653E\u5728\u540E\u9762\r\n        this.depthWrite = true;\r\n        this.cull = Laya.RenderState.CULL_BACK;\r\n        this.blend = Laya.RenderState.BLEND_DISABLE;\r\n        this.depthTest = Laya.RenderState.DEPTHTEST_LESS;\r\n    }\r\n\r\n\r\n\r\n}", "#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME BlurHorizontal\r\nvarying vec2 v_Texcoord0;\r\n#include \"Color.glsl\";\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_texture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\n\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    vec2 uv = v_Texcoord0;\r\n    vec2 uvOffset = vec2(1.0,0.0)*u_MainTex_TexelSize.xy*u_DownSampleValue;\r\n    uv = uv - uvOffset*3.0;\r\n    //\u9AD8\u65AF\u53C2\u6570\r\n    color+=0.0205*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.324*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0205*sampleMainTex(u_MainTex,uv);\r\n\r\n    gl_FragColor = color;\r\n    gl_FragColor = outputTransform(gl_FragColor);\r\n\r\n    \r\n}", "#define SHADER_NAME BlurVertical\r\nvarying vec2 v_Texcoord0;\r\n#include \"Color.glsl\";\r\n\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_texture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    vec2 uv = v_Texcoord0;\r\n    vec2 uvOffset = vec2(0.0,1.0)*u_MainTex_TexelSize.xy*u_DownSampleValue;\r\n    uv = uv - uvOffset*3.0;\r\n    //\u9AD8\u65AF\u53C2\u6570\r\n    color+=0.0205*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.324*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*texture2D(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0205*texture2D(u_MainTex,uv);\r\n\r\n    gl_FragColor = color;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n    \r\n\r\n    \r\n}", "#define SHADER_NAME BlurDownSample\r\nvarying vec2 v_Texcoord0;\r\n#include \"Color.glsl\";\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_texture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    color += sampleMainTex(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(1.0,0.0));\r\n\tcolor += sampleMainTex(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(-1.0,0.0));\r\n\tcolor += sampleMainTex(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(0.0,-1.0));\r\n    color += sampleMainTex(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(0.0,1.0));\r\n    gl_FragColor = color/4.0;\r\n    gl_FragColor = outputTransform(gl_FragColor);\r\n\r\n}", "#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME EdgeAdd\r\nvarying vec2 v_Texcoord0;\r\n#include \"Color.glsl\";\r\n\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_texture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n\r\n#ifdef Gamma_u_sourceTexture0\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_sourceTexture0\r\n    return mainSampler;\r\n}\r\nvoid main()\r\n{\r\n    vec2 uv = v_Texcoord0;\r\n    vec4 mainColor = sampleMainTex(u_MainTex,uv);\r\n    vec4 sourceColor = sampleMainTex(u_sourceTexture0,uv);\r\n    float factor = step(sourceColor.x+sourceColor.y+sourceColor.z,0.001);\r\n    vec4 color = mix(sourceColor,mainColor,factor);\r\n    gl_FragColor =color;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n}", "#define SHADER_NAME EdgeSub\r\nvarying vec2 v_Texcoord0;\r\n#include \"Color.glsl\";\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_sourceTexture0\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_sourceTexture0\r\n\r\n#ifdef Gamma_u_sourceTexture1\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_sourceTexture1\r\n    return mainSampler;\r\n}\r\nvoid main()\r\n{\r\n    vec2 uv = v_Texcoord0;\r\n    vec4 blurColor = sampleMainTex(u_sourceTexture0,uv);\r\n    vec4 clearColor = sampleMainTex(u_sourceTexture1,uv);\r\n    float factor = step(clearColor.x+clearColor.y+clearColor.z,0.001);\r\n    vec4 color = blurColor*factor;\r\n    color = (1.0-step(color.x+color.y+color.z,0.15))*vec4(1.0,0.0,0.0,1.0);\r\n    gl_FragColor = color;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n}", "import BlurVS from \"./Blur.vs\";\r\nimport BlurHorizentalFS from \"./BlurHorizontal.fs\";\r\nimport BlurVerticalFS from \"./BlurVertical.fs\";\r\nimport BlurDownSampleFS from \"./BlurDownSample.fs\";\r\nimport BlurDownSampleVS from \"./BlurDownSample.vs\";\r\nimport BlurEdgeAdd from \"./EdgeAdd.fs\";\r\nimport BlurEdgeSub from \"./EdgeSub.fs\";\r\nexport class BlurEffect extends Laya.PostProcessEffect {\r\n\r\n    static BLUR_TYPE_GaussianBlur: number = 0;\r\n    static BLUR_TYPE_Simple: number = 1;\r\n    static SHADERVALUE_MAINTEX: number;\r\n    static SHADERVALUE_TEXELSIZE: number;\r\n    static SHADERVALUE_DOWNSAMPLEVALUE: number;\r\n\r\n    static init() {\r\n        BlurEffect.SHADERVALUE_MAINTEX = Laya.Shader3D.propertyNameToID(\"u_MainTex\");\r\n        BlurEffect.SHADERVALUE_TEXELSIZE = Laya.Shader3D.propertyNameToID(\"u_MainTex_TexelSize\");\r\n        BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE = Laya.Shader3D.propertyNameToID(\"u_DownSampleValue\");\r\n        //\u521D\u59CB\u5316shader\r\n        let attributeMap: any = {\r\n            'a_PositionTexcoord': [Laya.VertexMesh.MESH_POSITION0, Laya.ShaderDataType.Vector4]\r\n        };\r\n\r\n        let uniformMap: any = {\r\n            \"u_MainTex\": Laya.ShaderDataType.Texture2D,\r\n            \"u_sourceTexture0\": Laya.ShaderDataType.Texture2D,\r\n            \"u_sourceTexture1\": Laya.ShaderDataType.Texture2D,\r\n            \"u_MainTex_TexelSize\": Laya.ShaderDataType.Vector4,\r\n            \"u_DownSampleValue\": Laya.ShaderDataType.Float\r\n        };\r\n        var shader: Laya.Shader3D = Laya.Shader3D.add(\"blurEffect\");\r\n        //subShader0  \u964D\u91C7\u6837\r\n        var subShader: Laya.SubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        var shaderpass: Laya.ShaderPass = subShader.addShaderPass(BlurDownSampleVS, BlurDownSampleFS);\r\n        var renderState: Laya.RenderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        //subShader1 \u5782\u76F4\u53CD\u5411\u6A21\u7CCA\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurVerticalFS);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        //subShader2 \u6C34\u5E73\u65B9\u5411\u6A21\u7CCA\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurHorizentalFS);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        //subShader3 subTexture\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurEdgeSub);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n        //subShader4 addTexture\r\n        subShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurEdgeAdd);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = Laya.RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = Laya.RenderState.CULL_NONE;\r\n        renderState.blend = Laya.RenderState.BLEND_DISABLE;\r\n\r\n    }\r\n\r\n    /**@internal */\r\n    private _shader: Laya.Shader3D = null;\r\n    /**@internal */\r\n    private _shaderData: Laya.ShaderData = Laya.LayaGL.renderOBJCreate.createShaderData(null);\r\n    /**@internal */\r\n    private _downSampleNum: number = 1;\r\n    /**@internal */\r\n    private _blurSpreadSize: number = 1;\r\n    /**@internal */\r\n    private _blurIterations: number = 2;\r\n    /**@internal */\r\n    private _texSize: Laya.Vector4 = new Laya.Vector4(1.0, 1.0, 1.0, 1.0);\r\n    /**@internal */\r\n    private _tempRenderTexture: any[];\r\n\r\n    constructor() {\r\n        super();\r\n        this._shader = Laya.Shader3D.find(\"blurEffect\");\r\n        this._tempRenderTexture = new Array(13);\r\n    }\r\n\r\n    /**\r\n     * @return \u5F3A\u5EA6\u3002\r\n     */\r\n    get downSampleNum(): number {\r\n        return this._downSampleNum;\r\n    }\r\n\r\n    /**\r\n     * \u964D\u91C7\u6837,\u503C\u8303\u56F4\u4E3A0-6\u3002\r\n     * @param value \u5F3A\u5EA6\u3002\r\n     */\r\n    set downSampleNum(value: number) {\r\n        this._downSampleNum = Math.min(6, Math.max(value, 0.0));\r\n    }\r\n\r\n    /**\r\n     * \u91C7\u6837\u95F4\u9694  \u8FC7\u5927\u4F1A\u5931\u771F1-10\r\n     * @return \u3002\r\n     */\r\n    get blurSpreadSize(): number {\r\n        return this._blurSpreadSize;\r\n    }\r\n\r\n    /**\r\n     * @param value \r\n     */\r\n    set blurSpreadSize(value: number) {\r\n        this._blurSpreadSize = Math.min(10, Math.max(value, 1.0));\r\n    }\r\n\r\n    /**\r\n     * \u8FED\u4EE3\u6B21\u6570  \u8D8A\u5927\u6027\u80FD\u6D88\u8017\u8D8A\u5927 \u6548\u679C\u8D8A\u597D\r\n     * @return \u3002\r\n     */\r\n    get blurIterations(): number {\r\n        return this._blurIterations;\r\n    }\r\n\r\n    /**\r\n     * @param value\u3002\r\n     */\r\n    set blurIterations(value: number) {\r\n        this._blurIterations = Math.min(Math.max(value, 0.0), 6.0);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     * @internal\r\n     */\r\n    render(context: Laya.PostProcessRenderContext): void {\r\n        var cmd: Laya.CommandBuffer = context.command;\r\n        var viewport: Laya.Viewport = context.camera.viewport;\r\n        var scaleFactor: number = 1.0 / (1 << Math.floor(this._downSampleNum));\r\n        var tw: number = Math.floor(viewport.width * scaleFactor);\r\n        var th: number = Math.floor(viewport.height * scaleFactor);\r\n        this._texSize.setValue(1.0 / tw, 1.0 / th, tw, th);\r\n        //\u8D4B\u503C\r\n        this._shaderData.setNumber(BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE, this.blurSpreadSize);\r\n        this._shaderData.setVector(BlurEffect.SHADERVALUE_TEXELSIZE, this._texSize);\r\n        //\u964D\u91C7\u6837\r\n        var downSampleTexture: Laya.RenderTexture = Laya.RenderTexture.createFromPool(tw, th, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n        downSampleTexture.filterMode = Laya.FilterMode.Bilinear;\r\n        this._tempRenderTexture[0] = downSampleTexture;\r\n        var lastDownTexture: Laya.RenderTexture = context.source;\r\n        cmd.blitScreenTriangle(lastDownTexture, downSampleTexture, null, this._shader, this._shaderData, 0);\r\n        lastDownTexture = downSampleTexture;\r\n        //\u8FED\u4EE3\u6B21\u6570\r\n        for (var i: number = 0; i < this._blurIterations; i++) {\r\n            //vertical\r\n            var blurTexture: Laya.RenderTexture = Laya.RenderTexture.createFromPool(tw, th, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n            blurTexture.filterMode = Laya.FilterMode.Bilinear;\r\n            cmd.blitScreenTriangle(lastDownTexture, blurTexture, null, this._shader, this._shaderData, 1);\r\n            lastDownTexture = blurTexture;\r\n            this._tempRenderTexture[i * 2 + 1] = blurTexture;\r\n            //Horizental\r\n            blurTexture = Laya.RenderTexture.createFromPool(tw, th, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n            blurTexture.filterMode = Laya.FilterMode.Bilinear;\r\n            cmd.blitScreenTriangle(lastDownTexture, blurTexture, null, this._shader, this._shaderData, 2);\r\n            lastDownTexture = blurTexture;\r\n            this._tempRenderTexture[i * 2 + 2] = blurTexture;\r\n        }\r\n        context.source = lastDownTexture;\r\n        cmd.blitScreenTriangle(context.source, context.destination);\r\n        var maxTexture = this._blurIterations * 2 + 1;\r\n        //\u91CA\u653E\u6E32\u67D3\u7EB9\u7406\r\n        for (i = 0; i < maxTexture; i++) {\r\n            Laya.RenderTexture.recoverToPool(this._tempRenderTexture[i]);\r\n        }\r\n        context.deferredReleaseTextures.push(lastDownTexture);\r\n    }\r\n}\r\n\r\nexport class BlurMaterial extends Laya.Material {\r\n    static SHADERVALUE_MAINTEX: number;\r\n    static SHADERVALUE_TEXELSIZE: number;\r\n    static SHADERVALUE_DOWNSAMPLEVALUE: number;\r\n    static SHADERVALUE_SOURCETEXTURE0: number;\r\n    static ShADERVALUE_SOURCETEXTURE1: number;\r\n\r\n    static __init__(){\r\n        BlurMaterial.SHADERVALUE_MAINTEX = Laya.Shader3D.propertyNameToID(\"u_MainTex\");\r\n        BlurMaterial.SHADERVALUE_TEXELSIZE = Laya.Shader3D.propertyNameToID(\"u_MainTex_TexelSize\");\r\n        BlurMaterial.SHADERVALUE_DOWNSAMPLEVALUE = Laya.Shader3D.propertyNameToID(\"u_DownSampleValue\");\r\n        BlurMaterial.SHADERVALUE_SOURCETEXTURE0 = Laya.Shader3D.propertyNameToID(\"u_sourceTexture0\");\r\n        BlurMaterial.ShADERVALUE_SOURCETEXTURE1 = Laya.Shader3D.propertyNameToID(\"u_sourceTexture1\");\r\n    }\r\n\r\n    constructor(texelSize: Laya.Vector4, offset: number) {\r\n        super();\r\n        BlurMaterial.__init__();\r\n        this.setShaderName(\"blurEffect\");\r\n        this.setIntByIndex(BlurMaterial.SHADERVALUE_DOWNSAMPLEVALUE, offset);\r\n        this.setVector4ByIndex(BlurMaterial.SHADERVALUE_TEXELSIZE, texelSize);\r\n    }\r\n\r\n    sourceTexture(sourceTexture0: Laya.BaseTexture, sourceTexture1: Laya.BaseTexture) {\r\n        this.setTextureByIndex(BlurMaterial.SHADERVALUE_SOURCETEXTURE0, sourceTexture0);\r\n        this.setTextureByIndex(BlurMaterial.ShADERVALUE_SOURCETEXTURE1, sourceTexture1);\r\n    }\r\n}\r\n\r\n", "import { BaseScript } from \"../../BaseScript\";\r\nimport { GlassWithoutGrabMaterial } from \"./CommandBufferDemo/GlassWithoutGrabMaterial\";\r\nimport { BlurEffect } from \"./BlurShader/BlurEffect\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Vector4 = Laya.Vector4;\r\nimport Loader = Laya.Loader;\r\nimport Image = Laya.Image;\r\n\r\nimport Handler = Laya.Handler;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6a7bc5b7-ac78-40d1-975a-19b7d20e0e7b', '../src/3D/Advance/BlurryGlass.ts')\r\nexport class BlurGlass extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate mat: GlassWithoutGrabMaterial;\r\n\tprivate texture: Laya.RenderTexture;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\t\t\r\n        super.base(this.camera);\r\n\t\t//\u6750\u8D28\u521D\u59CB\u5316\r\n\t\tBlurEffect.init();\r\n\t\tGlassWithoutGrabMaterial.init();\r\n\r\n\t\t//\u52A0\u8F7D\u573A\u666F\r\n\t\tvar scene = this.scene;\r\n\t\tvar camera = this.camera;\r\n\r\n\t\tvar glass01: Laya.MeshSprite3D = scene.getChildByName(\"glass01\") as Laya.MeshSprite3D;\r\n\t\tvar glass02: Laya.MeshSprite3D = scene.getChildByName(\"glass02\") as Laya.MeshSprite3D;\r\n\t\t//\u5728\u8FD9\u91CC\u5207\u6362\u4E86\u6750\u8D28\r\n\t\tvar pbrStandard: Laya.PBRStandardMaterial = glass01.getComponent(Laya.MeshRenderer).sharedMaterial as Laya.PBRStandardMaterial;\r\n\t\t//\u5C06\u56FE\u7247\u8BBE\u7F6E\u5230\u73BB\u7483\u6750\u8D28\r\n\t\tvar glassMaterial = new GlassWithoutGrabMaterial(pbrStandard.albedoTexture);\r\n\t\t//\u7ED9\u6A21\u578B\u8D4B\u6BDB\u73BB\u7483\u6750\u8D28\r\n\t\tglass01.getComponent(Laya.MeshRenderer).sharedMaterial = glassMaterial;\r\n\t\tglass02.getComponent(Laya.MeshRenderer).sharedMaterial = glassMaterial;\r\n\t\tthis.mat = glassMaterial;\r\n\t\t//\u521B\u5EFA\u4F7F\u7528CommandBuffer\r\n\t\tthis.createCommandBuffer(camera);\r\n\t}\r\n\r\n\t/**\r\n\t * \u521B\u5EFACommandBuffer\u547D\u4EE4\u7F13\u5B58\u6D41\r\n\t * @param camera \r\n\t */\r\n\tcreateCommandBuffer(camera: Laya.Camera) {\r\n\t\t//\u5F53\u9700\u8981\u5728\u6D41\u7A0B\u4E2D\u62FF\u6444\u50CF\u673A\u6E32\u67D3\u6548\u679C\u7684\u65F6\u5019 \u8BBE\u7F6Etrue\r\n\t\tcamera.enableBuiltInRenderTexture = true;\r\n\t\t//\u521B\u5EFA\u6E32\u67D3\u547D\u4EE4\u6D41\r\n\t\tvar buf: Laya.CommandBuffer = new Laya.CommandBuffer();\r\n\t\t//\u521B\u5EFA\u9700\u8981\u6A21\u7CCA\u4F7F\u7528\u7684\u5C4F\u5E55RenderTexture\r\n\t\tvar viewPort: Laya.Viewport = camera.viewport;\r\n\t\tvar renderTexture = Laya.RenderTexture.createFromPool(viewPort.width, viewPort.height, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n\t\t//\u5C06\u5F53\u524D\u6E32\u67D3\u7684\u7ED3\u679C\u62F7\u8D1D\u5230\u521B\u5EFA\u597D\u7684RenderTexture\r\n\t\tthis.texture = renderTexture;\r\n\t\tbuf.blitScreenTriangle(null, renderTexture);\r\n\t\t//\u83B7\u5F97shader\r\n\t\tvar shader: Laya.Shader3D = Laya.Shader3D.find(\"blurEffect\");\r\n\t\tvar shaderValue: Laya.ShaderData = Laya.LayaGL.renderOBJCreate.createShaderData(null);\r\n\t\t//down Sample level\u8BBE\u7F6E\u964D\u91C7\u6837\u7B49\u7EA7\r\n\t\tvar downSampleFactor: number = 4;\r\n\t\tvar downSampleWidth: number = viewPort.width / downSampleFactor;\r\n\t\tvar downSampleheigh: number = viewPort.height / downSampleFactor;\r\n\t\t//\u8BBE\u7F6E\u6A21\u7CCA\u6750\u8D28\u53C2\u6570\r\n\t\tvar texSize: Vector4 = new Vector4(1.0 / viewPort.width, 1.0 / viewPort.height, viewPort.width, downSampleheigh);//\u6750\u8D28\u6240\u5728\u5750\u6807\u4F4D\u7F6E\r\n\t\tshaderValue.setNumber(BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE, 1);\r\n\t\tshaderValue.setVector(BlurEffect.SHADERVALUE_TEXELSIZE, texSize);\r\n\t\t//\u521B\u5EFA\u964D\u91C7\u6837RenderTexture1\r\n\t\tvar downRenderTexture = Laya.RenderTexture.createFromPool(downSampleWidth, downSampleheigh, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n\t\t//\u964D\u91C7\u6837\u547D\u4EE4\u6D41\r\n\t\tbuf.blitScreenTriangle(renderTexture, downRenderTexture, null, shader, shaderValue, 0);\r\n\t\t//\u521B\u5EFA\u964D\u91C7\u6837RenderTexture2\r\n\t\tvar blurTexture: Laya.RenderTexture = Laya.RenderTexture.createFromPool(downSampleWidth, downSampleheigh, Laya.RenderTargetFormat.R8G8B8, Laya.RenderTargetFormat.None, false, 1);\r\n\t\tblurTexture.filterMode = Laya.FilterMode.Bilinear;\r\n\t\t//Horizontal blur\r\n\t\tbuf.blitScreenTriangle(downRenderTexture, blurTexture, null, shader, shaderValue, 1);\r\n\t\t//vertical blur\r\n\t\tbuf.blitScreenTriangle(blurTexture, downRenderTexture, null, shader, shaderValue, 2);\r\n\t\t//Horizontal blur\r\n\t\tbuf.blitScreenTriangle(downRenderTexture, blurTexture, null, shader, shaderValue, 1);\r\n\t\t//vertical blur\r\n\t\tbuf.blitScreenTriangle(blurTexture, downRenderTexture, null, shader, shaderValue, 2);\r\n\r\n\t\t//\u8BBE\u7F6E\u5168\u5C40uniform\u53D8\u91CF  \r\n\t\tvar globalUniformNameID: number = Laya.Shader3D.propertyNameToID(\"u_screenTexture\");\r\n\t\tbuf.setGlobalTexture(globalUniformNameID, downRenderTexture);\r\n\t\t//\u5C06commandBuffer\u52A0\u5165\u6E32\u67D3\u6D41\u7A0B\r\n\t\tcamera.addCommandBuffer(Laya.CameraEventFlags.BeforeTransparent, buf);\r\n\t\t//\u56DE\u6536\u7528\u8FC7\u7684RenderTexture\r\n\t\tLaya.RenderTexture.recoverToPool(downRenderTexture);\r\n\t\tLaya.RenderTexture.recoverToPool(blurTexture);\r\n\t\treturn;\r\n\t}\r\n}", "#define SHADER_NAME DepthTextureTestVS\r\n\r\n#include \"Color.glsl\";\r\n\r\n#include \"Scene.glsl\";\r\n#include \"Camera.glsl\";\r\n#include \"Sprite3DVertex.glsl\";\r\n\r\n#include \"VertexCommon.glsl\";\r\n\r\nvarying vec2 v_Texcoord0;\r\nvoid main() {\r\n    Vertex vertex;\r\n    getVertexParams(vertex);\r\n\r\n    v_Texcoord0 = vertex.texCoord0;\r\n    mat4 worldMat = getWorldMatrix();\r\n    vec3 PositionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\r\n\r\n    gl_Position = getPositionCS(PositionWS);\r\n    gl_Position=remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME DepthTextureTestFS\r\n#include \"Color.glsl\";\r\n#include \"Camera.glsl\";\r\n#include \"DepthNormalUtil.glsl\";\r\n\r\n\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main(){\r\n    vec4 col;\r\n    vec2 uv = vec2(v_Texcoord0.x,v_Texcoord0.y);\r\n    float depth = SAMPLE_DEPTH_TEXTURE(u_CameraDepthTexture, uv);\r\n    depth =Linear01Depth(depth,u_ZBufferParams);\r\n    col = vec4(depth,depth,depth,1.0);\r\n    gl_FragColor = col;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n}", "import DepthVS from \"../DepthNormalShader/DepthTextureTest.vs\";\r\nimport DepthFS from \"../DepthNormalShader/DepthTextureTest.fs\";\r\n\r\nexport class DepthMaterial extends Laya.Material{\r\n    /**\r\n     * init\r\n     */\r\n    static init(){\r\n\r\n        var shader:Laya.Shader3D = Laya.Shader3D.add(\"DepthShader\");\r\n        var subShader:Laya.SubShader = new Laya.SubShader(Laya.SubShader.DefaultAttributeMap);\r\n        shader.addSubShader(subShader);\r\n        subShader.addShaderPass(DepthVS,DepthFS,\"Forward\");\r\n    }\r\n\r\n    /**\r\n     * constuctor\r\n     */\r\n    constructor(){\r\n        super();\r\n        this.setShaderName(\"DepthShader\");\r\n        this.renderModeSet();\r\n    }\r\n\r\n     /**\r\n      * render mode set\r\n      */\r\n     renderModeSet(){\r\n        this.alphaTest = false;//\u6DF1\u5EA6\u6D4B\u8BD5\u5173\u95ED\r\n        this.renderQueue = Laya.Material.RENDERQUEUE_OPAQUE;//\u6E32\u67D3\u987A\u5E8F\u653E\u5728\u540E\u9762\r\n        this.depthWrite = true;\r\n        this.cull = Laya.RenderState.CULL_BACK;\r\n        this.blend = Laya.RenderState.BLEND_DISABLE;\r\n        this.depthTest = Laya.RenderState.DEPTHTEST_LESS;\r\n    }\r\n}", "#define SHADER_NAME DepthNormalTextureTestVS\r\n#include \"Lighting.glsl\";\r\n#include \"Color.glsl\";\r\n\r\n#include \"Scene.glsl\";\r\n#include \"Camera.glsl\";\r\n#include \"Sprite3DVertex.glsl\";\r\n\r\n#include \"VertexCommon.glsl\";\r\n\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n   Vertex vertex;\r\n    getVertexParams(vertex);\r\n\r\n    v_Texcoord0 = vertex.texCoord0;\r\n    mat4 worldMat = getWorldMatrix();\r\n    vec3 PositionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\r\n\r\n    gl_Position = getPositionCS(PositionWS);\r\n    gl_Position=remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME DepthNormalTextureTestFS\r\n#include \"Color.glsl\";\r\n#include \"Camera.glsl\";\r\n#include \"DepthNormalUtil.glsl\";\r\n\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_CameraDepthNormalsTexture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main(){\r\n    vec2 uv = vec2(v_Texcoord0.x,v_Texcoord0.y);\r\n    vec4 col = sampleMainTex(u_CameraDepthNormalsTexture,uv);\r\n    vec3 normals;\r\n    float depth;\r\n    DecodeDepthNormal(col,depth,normals);\r\n    col = vec4(normals,1.0);\r\n    gl_FragColor = col;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n}", "import DepthNormalVS from \"../DepthNormalShader/DepthNormalsTextureTest.vs\";\r\nimport DepthNormalFS from \"../DepthNormalShader/DepthNormalsTextureTest.fs\";\r\n\r\n\r\nexport class DepthNormalsMaterial extends Laya.Material{\r\n    static init(){\r\n        var shader:Laya.Shader3D = Laya.Shader3D.add(\"DepthNormalShader\",false,false);\r\n        var subShader:Laya.SubShader = new Laya.SubShader(Laya.SubShader.DefaultAttributeMap);\r\n        shader.addSubShader(subShader);\r\n        subShader.addShaderPass(DepthNormalVS,DepthNormalFS,\"Forward\");\r\n    }\r\n\r\n    constructor(){\r\n        super();\r\n        this.setShaderName(\"DepthNormalShader\");\r\n        this.renderModeSet();\r\n    }\r\n\r\n     //\u6E32\u67D3\u6A21\u5F0F\r\n     renderModeSet(){\r\n        this.alphaTest = false;//\u6DF1\u5EA6\u6D4B\u8BD5\u5173\u95ED\r\n        this.renderQueue = Laya.Material.RENDERQUEUE_OPAQUE;//\u6E32\u67D3\u987A\u5E8F\u653E\u5728\u540E\u9762\r\n        this.depthWrite = true;\r\n        this.cull = Laya.RenderState.CULL_BACK;\r\n        this.blend = Laya.RenderState.BLEND_DISABLE;\r\n        this.depthTest = Laya.RenderState.DEPTHTEST_LESS;\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport { DepthMaterial } from \"./DepthNormalShader/DepthMaterial\";\r\nimport { DepthNormalsMaterial } from \"./DepthNormalShader/DepthNormalsMaterial\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d6fc9519-a7a7-48d7-8431-50af8012c384', '../src/3D/Advance/CameraDepthModeTextureDemo.ts')\r\nexport class CameraDepthModeTextureDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private depthPlane: Laya.MeshSprite3D;\r\n    private depthNormalPlane: Laya.MeshSprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tDepthMaterial.init();\r\n        DepthNormalsMaterial.init();\r\n\r\n        this.scene.ambientColor = new Laya.Color(0.858, 0.858, 0.858);\r\n\r\n        this.depthNormalPlane = this.scene.getChildByName(\"depthNormalPlane\") as Laya.MeshSprite3D;\r\n        this.depthPlane = this.scene.getChildByName(\"depthNormalPlane1\") as Laya.MeshSprite3D;\r\n        this.depthPlane.transform.position = new Vector3(-11.12226, 11.76791, 11.90175);\r\n        this.depthNormalPlane.transform.position = new Vector3(-6.32228, 11.76791, 11.90175);\r\n\r\n\r\n        var camera = this.camera;\r\n        camera.transform.position = new Vector3(-13.6097, 8.84349, 3.01193);\r\n        camera.depthTextureMode |= Laya.DepthTextureMode.Depth;\r\n        this.depthPlane.getComponent(Laya.MeshRenderer).sharedMaterial = new DepthMaterial();\r\n        \r\n        camera.depthTextureMode |= Laya.DepthTextureMode.DepthNormals;\r\n        this.depthNormalPlane.getComponent(Laya.MeshRenderer).sharedMaterial = new DepthNormalsMaterial();\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Camera = Laya.Camera;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('7a2191ac-590d-4a34-aa9f-7714eead7c62', '../src/3D/Advance/CameraInteraction.ts')\r\nexport class CameraInteraction extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate keyboard: Laya.Box;\r\n\tprivate joystick: Laya.Box;\r\n\tprivate isQuaternion: boolean;\r\n\tprivate isEuler: boolean;\r\n\tprivate isMatrix: boolean;\r\n\tprivate leftJoyStick: Laya.Box;\r\n\tprivate rightJoyStick: Laya.Box;\r\n\tprivate switchBtn: Laya.Button;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera, false);\r\n\r\n        this.keyboard = new Laya.Box();  // \u6309\u952E\r\n        this.joystick = new Laya.Box(); // \u6447\u6746\r\n\r\n        this.isQuaternion = true;\r\n        this.isEuler = false;\r\n        this.isMatrix = false;\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/scene/CourtyardScene/Courtyard.ls\").then((res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n    }\r\n\r\n    onComplete(res:any){\r\n        // \u52A0\u8F7D3D\u573A\u666F\r\n        var scene3D = res.create() as Laya.Scene3D;\r\n        this.scene.addChild(scene3D);\r\n        // \u6DFB\u52A0\u6444\u50CF\u673A\r\n        this.camera.transform.position = new Laya.Vector3(57, 2.5, 58);\r\n        this.camera.transform.rotationEuler = new Laya.Vector3(-10, 150, 0);\r\n        // \u6DFB\u52A0\u63A7\u5236\u76F8\u673A\u7684\u7EC4\u4EF6\r\n        this.camera.addComponent(CameraMoveQuaternion);\r\n        this.camera.addComponent(CameraMoveEuler);\r\n        this.camera.addComponent(CameraMoveMatrix);\r\n        this.camera.getComponent(CameraMoveQuaternion).enabled = this.isQuaternion;\r\n        this.camera.getComponent(CameraMoveEuler).enabled = this.isEuler;\r\n        this.camera.getComponent(CameraMoveMatrix).enabled = this.isMatrix;\r\n        //\u6DFB\u52A0\u65B9\u5411\u5149\r\n        this.directionLight.getComponent(Laya.DirectionLightCom).color = new Laya.Color(0.6, 0.6, 0.6);\r\n        this.directionLight.transform.worldMatrix.setForward(new Laya.Vector3(1, -1, 0));\r\n        // \u6DFB\u52A0ui\r\n        /*\r\n         * \u6309\u952E\u90E8\u5206ui\r\n        */\r\n        this.keyboard.addComponent(KeyBoard);\r\n        this.keyboard.width = 400;\r\n        this.keyboard.height = 300;\r\n        this.keyboard.left = 20;\r\n        this.keyboard.bottom = 20;\r\n        this.keyboard.scale(0.5,0.5);\r\n        var q = new Laya.Sprite();\r\n        var w = new Laya.Sprite();\r\n        var e = new Laya.Sprite();\r\n        var a = new Laya.Sprite();\r\n        var s = new Laya.Sprite();\r\n        var d = new Laya.Sprite();\r\n        this.keyboard.addChild(q);\r\n        this.keyboard.addChild(w);\r\n        this.keyboard.addChild(e);\r\n        this.keyboard.addChild(a);\r\n        this.keyboard.addChild(s);\r\n        this.keyboard.addChild(d);\r\n        q.loadImage(\"resources/res/threeDimen/CameraInteraction/q.png\");\r\n        q.pos(0, 30);\r\n        q.name = \"q\";\r\n\r\n        w.loadImage(\"resources/res/threeDimen/CameraInteraction/w.png\");\r\n        w.pos(110, 30);\r\n        w.name = \"w\";\r\n\r\n        e.loadImage(\"resources/res/threeDimen/CameraInteraction/e.png\");\r\n        e.pos(220, 30);\r\n        e.name = \"e\";\r\n\r\n        a.loadImage(\"resources/res/threeDimen/CameraInteraction/a.png\");\r\n        a.pos(0, 140);\r\n        a.name = \"a\";\r\n\r\n        s.loadImage(\"resources/res/threeDimen/CameraInteraction/s.png\");\r\n        s.pos(110, 140);\r\n        s.name = \"s\";\r\n\r\n        d.loadImage(\"resources/res/threeDimen/CameraInteraction/d.png\");\r\n        d.pos(220, 140);\r\n        d.name = \"d\";\r\n        this.owner.addChild(this.keyboard);\r\n        /**\r\n         * \u6447\u6746\u90E8\u5206ui\r\n         */\r\n        this.joystick.left = 0;\r\n        this.joystick.right = 0;\r\n        this.joystick.top = 0;\r\n        this.joystick.bottom = 0;\r\n        this.leftJoyStick = new Laya.Box();\r\n        this.joystick.addChild(this.leftJoyStick);\r\n        this.leftJoyStick.name = \"leftJoyStick\";\r\n        this.leftJoyStick.addComponent(JoyStick);\r\n        this.leftJoyStick.width = 215;\r\n        this.leftJoyStick.height = 215;\r\n        this.leftJoyStick.left = 50;\r\n        this.leftJoyStick.bottom = 50;\r\n        // \u5DE6\u6447\u6746\r\n        var bg: Laya.Sprite = new Laya.Sprite();\r\n        this.leftJoyStick.addChild(bg);\r\n        bg.loadImage(\"resources/res/threeDimen/CameraInteraction/joystick_bg.png\");\r\n        bg.width = 215;\r\n        bg.height = 215;\r\n        bg.name = \"bg\";\r\n        // bg.left = 0;\r\n        // bg.bottom = 0;\r\n\r\n        var axis =  new Laya.Sprite();\r\n        this.leftJoyStick.addChild(axis);\r\n        axis.loadImage(\"resources/res/threeDimen/CameraInteraction/joystick_axis.png\");\r\n        axis.width = 78;\r\n        axis.height = 78;\r\n        axis.name = \"axis\";\r\n        axis.pos(70, 70);\r\n        // \u53F3\u6447\u6746\r\n        this.rightJoyStick = new Laya.Box();\r\n        this.joystick.addChild(this.rightJoyStick);\r\n        this.rightJoyStick.name = \"rightJoyStick\";\r\n        this.rightJoyStick.addComponent(JoyStick);\r\n        this.rightJoyStick.width = 215;\r\n        this.rightJoyStick.height = 215;\r\n        this.rightJoyStick.right = 50;\r\n        this.rightJoyStick.bottom = 50;\r\n        var bg = new Laya.Sprite();\r\n        this.rightJoyStick.addChild(bg);\r\n        bg.loadImage(\"resources/res/threeDimen/CameraInteraction/joystick_bg.png\");\r\n        bg.width = 215;\r\n        bg.height = 215;\r\n        bg.name = \"bg\";\r\n        // bg.left = 0;\r\n        // bg.bottom = 0;\r\n\r\n        var axis =  new Laya.Sprite();\r\n        this.rightJoyStick.addChild(axis);\r\n        axis.loadImage(\"resources/res/threeDimen/CameraInteraction/joystick_axis.png\");\r\n        axis.width = 78;\r\n        axis.height = 78;\r\n        axis.name = \"axis\";\r\n        axis.pos(70, 70);\r\n        this.owner.addChild(this.joystick);\r\n\r\n        // \u83B7\u53D6\u5DE6\u53F3\u6447\u6746\r\n        this.camera.getComponent(CameraMoveQuaternion).moveRocker = this.leftJoyStick.getComponent(JoyStick);\r\n        this.camera.getComponent(CameraMoveQuaternion).rotationRocker = this.rightJoyStick.getComponent(JoyStick);\r\n        \r\n        this.camera.getComponent(CameraMoveEuler).moveRocker = this.leftJoyStick.getComponent(JoyStick);\r\n        this.camera.getComponent(CameraMoveEuler).rotationRocker = this.rightJoyStick.getComponent(JoyStick);\r\n\r\n        this.camera.getComponent(CameraMoveMatrix).moveRocker = this.leftJoyStick.getComponent(JoyStick);\r\n        this.camera.getComponent(CameraMoveMatrix).rotationRocker = this.rightJoyStick.getComponent(JoyStick);\r\n\r\n        // \u5207\u6362\u6309\u94AE\r\n        this.switchBtn = this.owner.addChild(new Laya.Button(\"resources/image/img_btn_bg.png\", \"\u5207\u6362\u5230\u6B27\u62C9\u89D2\u53D8\u6362\u6A21\u5F0F\")) as Laya.Button;\r\n        this.switchBtn.size(300, 30);\r\n        this.switchBtn.labelSize = 16;\r\n        this.switchBtn.sizeGrid = \"21,83,22,76\";\r\n        this.switchBtn.stateNum = 1;\r\n        this.switchBtn.labelColors = \"#ffffff\";\r\n        this.switchBtn.pos(this.pageWidth / 2 - this.switchBtn.width / 2, 10);\r\n        this.switchBtn.on(Laya.Event.CLICK, this, this.switchScript);\r\n\r\n        if (Laya.Browser.onPC) {\r\n            // pc\u6D4F\u89C8\u5668\u4F7F\u7528\u6309\u952E\u6A21\u5F0F\r\n            this.keyboard.visible = true;\r\n            this.joystick.visible = false;\r\n            // \u63D0\u793A\u6587\u5B57\r\n            var text = new Laya.Label();\r\n            text.pos(this.pageWidth / 2 - this.switchBtn.width / 2 , 60)\r\n            text.overflow = Laya.Text.HIDDEN;\r\n            text.color = \"#ea4335\";\r\n            text.font = \"Impact\";\r\n            text.fontSize = 20;\r\n            text.borderColor = \"#ea4335\";\r\n            text.text = \"\u6447\u6746\u6A21\u5F0F\u8BF7\u626B\u4E8C\u7EF4\u7801\u9884\u89C8\uFF01\";\r\n            this.owner.addChild(text);\r\n        }else{\r\n            this.keyboard.visible = false;\r\n            this.joystick.visible = true;\r\n        }\r\n    }\r\n    switchScript(){\r\n        if (this.isQuaternion) {\r\n            // \u56DB\u5143\u6570 -> \u6B27\u62C9\u89D2\r\n            this.isEuler = true;\r\n            this.isQuaternion = false;\r\n            this.isMatrix = false;\r\n            this.camera.getComponent(CameraMoveQuaternion).enabled = this.isQuaternion;\r\n            this.camera.getComponent(CameraMoveEuler).enabled = this.isEuler;\r\n            this.camera.getComponent(CameraMoveMatrix).enabled = this.isMatrix;\r\n            this.switchBtn.label = \"\u5207\u6362\u5230\u77E9\u9635\u53D8\u6362\u6A21\u5F0F\";\r\n       }else if (this.isEuler) {\r\n            // \u6B27\u62C9\u89D2 -> \u77E9\u9635\r\n            this.isEuler = false;\r\n            this.isQuaternion = false;\r\n            this.isMatrix = true;\r\n            this.camera.getComponent(CameraMoveQuaternion).enabled = this.isQuaternion;\r\n            this.camera.getComponent(CameraMoveEuler).enabled = this.isEuler;\r\n            this.camera.getComponent(CameraMoveMatrix).enabled = this.isMatrix;\r\n            this.switchBtn.label = \"\u5207\u6362\u5230\u56DB\u5143\u6570\u53D8\u6362\u6A21\u5F0F\";\r\n       }else if (this.isMatrix) {\r\n            // \u77E9\u9635 -> \u56DB\u5143\u6570\r\n            this.isEuler = false;\r\n            this.isQuaternion = true;\r\n            this.isMatrix = false;\r\n            this.camera.getComponent(CameraMoveQuaternion).enabled = this.isQuaternion;\r\n            this.camera.getComponent(CameraMoveEuler).enabled = this.isEuler;\r\n            this.camera.getComponent(CameraMoveMatrix).enabled = this.isMatrix;\r\n            this.switchBtn.label = \"\u5207\u6362\u5230\u6B27\u62C9\u89D2\u53D8\u6362\u6A21\u5F0F\";\r\n       }\r\n    }\r\n \r\n}\r\n\r\nexport class KeyBoard extends Laya.Script {\r\n    private w: Laya.Sprite; // \u952E\u76D8\u6309\u952Ew\r\n    private a: Laya.Sprite; // \u952E\u76D8\u6309\u952Ea\r\n    private s: Laya.Sprite; // \u952E\u76D8\u6309\u952Es\r\n    private d: Laya.Sprite; // \u952E\u76D8\u6309\u952Ed\r\n    private q: Laya.Sprite; // \u952E\u76D8\u6309\u952Eq\r\n    private e: Laya.Sprite; // \u952E\u76D8\u6309\u952Ee\r\n    constructor(){\r\n        super();\r\n    }\r\n    onEnable(){\r\n        this.w = this.owner.getChildByName(\"w\") as Laya.Sprite;\r\n        this.a = this.owner.getChildByName(\"a\") as Laya.Sprite;\r\n        this.s = this.owner.getChildByName(\"s\") as Laya.Sprite;\r\n        this.d = this.owner.getChildByName(\"d\") as Laya.Sprite;\r\n        this.q = this.owner.getChildByName(\"q\") as Laya.Sprite;\r\n        this.e = this.owner.getChildByName(\"e\") as Laya.Sprite;\r\n        //\u6DFB\u52A0\u952E\u76D8\u6309\u4E0B\u4E8B\u4EF6,\u4E00\u76F4\u6309\u7740\u67D0\u6309\u952E\u5219\u4F1A\u4E0D\u65AD\u89E6\u53D1\r\n\t\tLaya.stage.on(Event.KEY_DOWN, this, this.onKeyDown);\r\n\t\t//\u6DFB\u52A0\u952E\u76D8\u62AC\u8D77\u4E8B\u4EF6\r\n\t\tLaya.stage.on(Event.KEY_UP, this, this.onKeyUp);\r\n    }\r\n\r\n    onKeyDown(e:any): void{\r\n        switch (e.keyCode) {\r\n            case 87://W\r\n            case 38:\r\n                this.w.visible = false;\r\n                break;\r\n            case 65://A\r\n            case 37:\r\n                this.a.visible = false;\r\n                break;\r\n            case 69://E\r\n                this.e.visible = false;\r\n                break;\r\n            case 81://Q\r\n                this.q.visible = false; \r\n                break;\r\n            case 83://S\r\n            case 40:\r\n                this.s.visible = false;\r\n                break;\r\n            case 68://D\r\n            case 39:\r\n                this.d.visible = false;\r\n                break;\r\n        }\r\n    }\r\n\r\n    onKeyUp(): void{\r\n        //\u91CD\u7F6E\u952E\u76D8\u9690\u85CF\r\n        this.w.visible = true;\r\n        this.a.visible = true;\r\n        this.s.visible = true;\r\n        this.d.visible = true;\r\n        this.q.visible = true;\r\n        this.e.visible = true;\r\n    }\r\n\r\n    onDisable(){\r\n    }\r\n}\r\n\r\nexport class JoyStick extends Laya.Script {\r\n    // \u6447\u6746\r\n    private RockerPad: Laya.Sprite;\r\n    // \u8F74\u8282\u70B9\r\n    private Rocker: Laya.Sprite;\r\n    // \u6447\u6746\u4E2D\u5FC3\u5750\u6807\r\n    private centerX: number = 0;\r\n    private centerY: number = 0;\r\n    // \u662F\u5426\u79FB\u52A8\r\n    private isMoving: boolean = false;\r\n    private touchId: number = 0;    // \u89E6\u6478\u70B9\u6807\u8BC6\r\n    public angle: number = -1;    // \u89D2\u5EA6\r\n    public radians: number = -1;  // \u5F27\u5EA6\r\n    // \u6447\u6746\u8F74\u5FC3\u6700\u5927\u8DDD\u79BB\r\n    private maxDistance: number = 0;\r\n    private maxDistanceSpr: number = 0;\r\n    // \u4F4D\u79FB\r\n    public deltaX: number = 0;\r\n    public deltaY: number = 0;\r\n    // \u7528\u6765\u8BA1\u7B97\u4F4D\u79FB\u4E0E\u8F74\u8282\u70B9\u4F4D\u7F6E\r\n    private tempV2_1: Laya.Point = new Laya.Point(0, 0);\r\n    private tempV2_2: Laya.Point = new Laya.Point(0, 0);\r\n\r\n    constructor() { \r\n        super(); \r\n    }\r\n\r\n    onAwake() {\r\n        this.RockerPad = this.owner as Laya.Sprite; // \u6447\u6746\r\n        this.Rocker = this.RockerPad.getChildByName(\"axis\") as Laya.Sprite; // \u8F74\u8282\u70B9\r\n\r\n        this.centerX = this.Rocker.x;   // \u8F74\u8282\u70B9\u521D\u59CB\u4F4D\u7F6E\r\n        this.centerY = this.Rocker.y;\r\n\r\n        !this.maxDistance && (this.maxDistance = (this.RockerPad.width - this.Rocker.width) / 2);   // \u534A\u5F84\u5DEE\r\n        this.maxDistanceSpr = this.maxDistance * this.maxDistance;  // \u6700\u5927\u8DDD\u79BB\r\n    }\r\n\r\n    onEnable(){\r\n        // \u6CE8\u518C\u76D1\u542C\r\n        this.owner.parent.on(Laya.Event.MOUSE_DOWN, this, this.MouseDown);\r\n        this.owner.parent.on(Laya.Event.MOUSE_UP, this, this.MouseUp);\r\n        this.owner.parent.on(Laya.Event.MOUSE_MOVE, this, this.MouseMove);\r\n    }\r\n\r\n    MouseDown(e:any): void{\r\n        e.stopPropagation();\r\n        if (e.target.mouseX > this.RockerPad.x &&\r\n            e.target.mouseX < this.RockerPad.x + this.RockerPad.width &&\r\n            e.target.mouseY > this.RockerPad.y &&\r\n            e.target.mouseY < this.RockerPad.y + this.RockerPad.height) {\r\n            // \u6447\u6746\u4EA7\u751F\u4E86\u4F4D\u79FB\u4E14\u672A\u8D85\u51FA\u6447\u6746\u8303\u56F4\r\n            this.isMoving = true;\r\n            this.touchId = e.touchId;\r\n        }\r\n    }\r\n\r\n    MouseUp(e:any): void{\r\n        e.stopPropagation();\r\n        if (e.touchId != this.touchId) {\r\n            return;\r\n        }\r\n        // \u91CD\u8BBE\u6807\u5FD7\u4F4D\r\n        this.isMoving = false;\r\n        // \u91CD\u7F6E\u8F74\u8282\u70B9\u4F4D\u7F6E\r\n        this.Rocker.pos(this.centerX, this.centerY);\r\n        // \u91CD\u7F6E\r\n        this.radians = this.angle = -1;\r\n    }\r\n\r\n    MouseMove(e:any): void{\r\n        e.stopPropagation();\r\n        if (e.touchId != this.touchId) {\r\n            return;\r\n        }\r\n        if (this.isMoving) {\r\n            // \u4EA7\u751F\u4E86\u4F4D\u79FB\r\n            this.tempV2_1.x = e.target.mouseX;\r\n            this.tempV2_1.y = e.target.mouseY;\r\n            // \u5750\u6807\u8F6C\u6362\r\n            this.tempV2_2 = this.RockerPad.globalToLocal(this.tempV2_1, false);\r\n\r\n            // \u66F4\u65B0\u63A7\u5236\u70B9\u4E0E\u6447\u6746\u4E2D\u5FC3\u70B9\u4F4D\u7F6E\u8DDD\u79BB\r\n            this.deltaX = this.tempV2_2.x - this.centerX;\r\n            this.deltaY = this.tempV2_2.y - this.centerY;\r\n\r\n            // \u8BA1\u7B97\u63A7\u5236\u70B9\u5728\u6447\u6746\u4E2D\u7684\u89D2\u5EA6\r\n            this.angle = Math.atan2(this.deltaX, this.deltaY) * 180 / Math.PI;\r\n            if (this.angle < 0) {\r\n                this.angle += 360;\r\n            }\r\n            // \u89D2\u5EA6/\u5F27\u5EA6\u8F6C\u6362\r\n            this.angle = Math.round(this.angle);\r\n            this.radians = Math.PI / 180 * this.angle;\r\n            var distanceSqr = this.getDistanceSqr(this.centerX, this.centerY, this.tempV2_2.x, this.tempV2_2.y);    // \u5F53\u524D\u4F4D\u7F6E\u4E0E\u521D\u59CB\u4F4D\u7F6E\u7684\u8DDD\u79BB\r\n            if (distanceSqr > this.maxDistanceSpr) {\r\n                // \u6447\u6746\u8FB9\u7F18\u4F4D\u7F6E\r\n                var x = Math.floor(Math.sin(this.radians) * this.maxDistance + this.centerX);\r\n                var y = Math.floor(Math.cos(this.radians) * this.maxDistance + this.centerY);\r\n                this.Rocker.pos(x, y);\r\n            }\r\n            else {\r\n                // \u5728\u6447\u6746\u4E0E\u8F74\u8282\u70B9\u4E4B\u95F4\u7684\u8303\u56F4\u5185\uFF0C\u66F4\u65B0\u4F4D\u7F6E\r\n                this.Rocker.pos(this.tempV2_2.x, this.tempV2_2.y);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\n    onDisable(){\r\n        this.owner.parent.off(Laya.Event.MOUSE_DOWN, this, this.MouseDown);\r\n        this.owner.parent.off(Laya.Event.MOUSE_UP, this, this.MouseUp);\r\n        this.owner.parent.off(Laya.Event.MOUSE_MOVE, this, this.MouseMove);\r\n    }\r\n\r\n    getDistanceSqr(centerX: number, centerY: number, mouseX: number, mouseY: number): number{\r\n        var dx = centerX - mouseX;\r\n        var dy = centerY - mouseY;\r\n        var distance = dx * dx + dy * dy;\r\n        return distance; \r\n    }\r\n}\r\n\r\nexport class CameraMoveEuler extends Laya.Script {\r\n    // \u79FB\u52A8\u6447\u6746\r\n    public moveRocker: JoyStick;\r\n    // \u6444\u50CF\u673A\u6447\u6746\r\n    public rotationRocker: JoyStick;\r\n    // \u6444\u50CF\u673A\r\n    private camera: Laya.Camera;\r\n    // \u4F4D\u79FB\u5411\u91CF\r\n    private _tempVector3: Laya.Vector3 = new Laya.Vector3();\r\n    // \u65CB\u8F6C\u89D2\u5EA6\r\n    private yawPitchRoll: Laya.Vector3 = new Laya.Vector3();\r\n    // \u6309\u952E\u4E0B\u7684\u65CB\u8F6C\u901F\u5EA6\r\n    private rotaionSpeed: number = 0.004;\r\n    // \u6447\u6746\u4E0B\u7684\u65CB\u8F6C\u901F\u5EA6\r\n    private rockerRotationSpeed: number = 0.0005;\r\n    // \u79FB\u52A8\u901F\u5EA6\r\n    private moveSpeed: number = 0.0025;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ex\uFF0C\u7528\u6765\u8BA1\u7B97\u9F20\u6807\u7684\u4F4D\u79FB\r\n    private lastMouseX: number = 0;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ey\r\n    private lastMouseY: number = 0;\r\n    // \u662F\u5426\u6309\u4E0B\r\n    private isMouseDown: boolean = false;\r\n    constructor(){\r\n        super();\r\n        \r\n    }\r\n\tonEnable(){\r\n        // \u6CE8\u518C\u76D1\u542C\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        // \u83B7\u53D6\u5BF9\u8C61\r\n\t\tthis.camera = this.owner as Laya.Camera;\r\n\t}\r\n\r\n    onDisable() {\r\n        console.log(\"camera euler script is disable :\" + this.enabled);\r\n        //\u5173\u95ED\u76D1\u542C\u51FD\u6570\r\n        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n    }\r\n    \r\n    onUpdate(): void{\r\n\t\tvar elapsedTime = Laya.timer.delta;\r\n        if (Laya.Browser.onPC) {\r\n            // \u6309\u952E\u6A21\u5F0F\r\n            if (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY)) {\r\n                Laya.InputManager.hasKeyDown(87) && this.moveForward(-0.01 * elapsedTime);//W\r\n                Laya.InputManager.hasKeyDown(83) && this.moveForward(0.01 * elapsedTime);//S\r\n                Laya.InputManager.hasKeyDown(65) && this.moveRight(-0.01 * elapsedTime);//A\r\n                Laya.InputManager.hasKeyDown(68) && this.moveRight(0.01 * elapsedTime);//D\r\n                Laya.InputManager.hasKeyDown(81) && this.moveVertical(0.01 * elapsedTime);//Q\r\n                Laya.InputManager.hasKeyDown(69) && this.moveVertical(-0.01 * elapsedTime);//E\r\n                if (this.isMouseDown) {\r\n                    var offsetX = Laya.stage.mouseX - this.lastMouseX;\r\n                    var offsetY = Laya.stage.mouseY - this.lastMouseY;\r\n                    \r\n                    // x\u3001y\u8F74\u7684\u6B27\u62C9\u89D2\u5EA6 X\u8F74\u5BF9\u5E94\u7684\u662F\u9F20\u6807\u4E0A\u4E0B\u7684\u79FB\u52A8offsetY y\u8F74\u5BF9\u5E94\u7684\u662F\u9F20\u6807\u5DE6\u53F3\u7684\u79FB\u52A8offsetX\r\n                    this.camera.transform.localRotationEulerX -= offsetY * this.rotaionSpeed * elapsedTime;\r\n                    this.camera.transform.localRotationEulerY -= offsetX * this.rotaionSpeed * elapsedTime;\r\n                    console.log(\"Use Euler Script!\");\r\n                }\r\n            }\r\n            // \u66F4\u65B0\u8BB0\u5F55\u7684\u4F4D\u7F6E\r\n            this.lastMouseX = Laya.stage.mouseX;\r\n            this.lastMouseY = Laya.stage.mouseY;\r\n        }else{\r\n            // \u6447\u6746\u6A21\u5F0F\r\n            // \u5DE6\u6447\u6746\u79FB\u52A8\u7684\u5904\u7406\r\n            if (this.moveRocker.angle != -1) {\r\n                // \u6447\u6746\u4EA7\u751F\u4E86\u64CD\u4F5C\r\n                var speedX = Math.sin(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                var speedZ = Math.cos(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                this._tempVector3.setValue(speedX, 0, speedZ);\r\n                this.camera.transform.translate(this._tempVector3, true);\r\n            }\r\n            // \u53F3\u6447\u6746\u79FB\u52A8\u7684\u5904\u7406\r\n            if (this.rotationRocker.angle != -1) {\r\n                // \u4F4D\u79FB\u91C7\u7528\u6447\u6746\u8BA1\u7B97\u5904\u7684\u4F4D\u79FB\r\n                var offsetX = this.rotationRocker.deltaX;\r\n                var offsetY = this.rotationRocker.deltaY;\r\n                \r\n                // x\u3001y\u8F74\u7684\u6B27\u62C9\u89D2\u5EA6 X\u8F74\u5BF9\u5E94\u7684\u662F\u9F20\u6807\u4E0A\u4E0B\u7684\u79FB\u52A8offsetY y\u8F74\u5BF9\u5E94\u7684\u662F\u9F20\u6807\u5DE6\u53F3\u7684\u79FB\u52A8offsetX\r\n                this.camera.transform.localRotationEulerX -= offsetY * this.rockerRotationSpeed * elapsedTime;\r\n                this.camera.transform.localRotationEulerY -= offsetX * this.rockerRotationSpeed * elapsedTime;\r\n                console.log(\"Use Euler Script!\");\r\n            }\r\n        }\r\n    }\r\n\r\n    mouseDown(e:any): void {\r\n        //\u83B7\u5F97\u9F20\u6807\u7684\u65CB\u8F6C\u503C\r\n        this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);\r\n        //\u83B7\u5F97\u9F20\u6807\u7684xy\u503C\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = true;\r\n     \r\n    }\r\n    mouseUp(e:any):void {\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = false;\r\n    }\r\n    /**\r\n     * \u5411\u524D\u79FB\u52A8\u3002\r\n     */\r\n    moveForward(distance:any):void {\r\n        this._tempVector3.x = 0;\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = distance;\r\n        this.camera.transform.translate(this._tempVector3,true);\r\n    }\r\n    /**\r\n     * \u5411\u53F3\u79FB\u52A8\u3002\r\n     */\r\n    moveRight(distance:any):void {\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = 0;\r\n        this._tempVector3.x = distance;\r\n        this.camera.transform.translate(this._tempVector3,true);\r\n    }\r\n    /**\r\n     * \u5411\u4E0A\u79FB\u52A8\u3002\r\n     */\r\n    moveVertical(distance:any):void {\r\n        this._tempVector3.x = this._tempVector3.z = 0;\r\n        this._tempVector3.y = distance;\r\n        this.camera.transform.translate(this._tempVector3, false);\r\n    }\r\n}\r\n\r\nexport class CameraMoveQuaternion extends Laya.Script {\r\n    // \u79FB\u52A8\u6447\u6746\r\n    public moveRocker: JoyStick;\r\n    // \u6444\u50CF\u673A\u6447\u6746\r\n    public rotationRocker: JoyStick;\r\n    // \u79FB\u52A8\u5411\u91CF\r\n    private _tempVector3: Laya.Vector3 = new Laya.Vector3();\r\n    // \u6444\u50CF\u673A\u65CB\u8F6C\u89D2\u5EA6\r\n    private yawPitchRoll: Laya.Vector3 = new Laya.Vector3();\r\n    // \u6444\u50CF\u673A\u89D2\u5EA6\u56DB\u5143\u6570\r\n    private tempRotationZ: Laya.Quaternion = new Laya.Quaternion();\r\n    // \u6309\u952E\u4E0B\u7684\u65CB\u8F6C\u901F\u5EA6\r\n    private rotaionSpeed = 0.00012;\r\n    // \u6447\u6746\u4E0B\u7684\u65CB\u8F6C\u901F\u5EA6\r\n    private rockerRotationSpeed = 0.00001;\r\n    // \u79FB\u52A8\u901F\u5EA6\r\n    private moveSpeed = 0.0025;\r\n    // \u6444\u50CF\u673A\r\n    private camera: Laya.Camera;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ex\r\n    private lastMouseX: number = 0;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ey\r\n    private lastMouseY: number = 0;\r\n    // \u6309\u4E0B\r\n    private isMouseDown: boolean = false;\r\n    \r\n    constructor(){\r\n        super();\r\n    }\r\n\tonEnable(){\r\n        // \u6CE8\u518C\u76D1\u542C\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        // \u7ED1\u5B9A\u811A\u672C\r\n\t\tthis.camera = this.owner as Laya.Camera;\r\n\t}\r\n\r\n    onDisable() {\r\n        console.log(\"camera quaternion script is disable :\" + this.enabled);\r\n        //\u5173\u95ED\u76D1\u542C\u51FD\u6570\r\n        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n    }\r\n    onUpdate(): void {\r\n\t\tvar elapsedTime = Laya.timer.delta;\r\n        if (Laya.Browser.onPC) {\r\n            // \u6309\u952E\u6A21\u5F0F\r\n            if (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY)) {\r\n                Laya.InputManager.hasKeyDown(87) && this.moveForward(-0.01 * elapsedTime);//W\r\n                Laya.InputManager.hasKeyDown(83) && this.moveForward(0.01 * elapsedTime);//S\r\n                Laya.InputManager.hasKeyDown(65) && this.moveRight(-0.01 * elapsedTime);//A\r\n                Laya.InputManager.hasKeyDown(68) && this.moveRight(0.01 * elapsedTime);//D\r\n                Laya.InputManager.hasKeyDown(81) && this.moveVertical(0.01 * elapsedTime);//Q\r\n                Laya.InputManager.hasKeyDown(69) && this.moveVertical(-0.01 * elapsedTime);//E\r\n                if (this.isMouseDown) {\r\n                    // \u6309\u4E0B\r\n                    var offsetX = Laya.stage.mouseX - this.lastMouseX;\r\n                    var offsetY = Laya.stage.mouseY - this.lastMouseY;\r\n\r\n                    var yprElem = this.yawPitchRoll;\r\n                    yprElem.x -= offsetX * this.rotaionSpeed * elapsedTime;\r\n                    yprElem.y -= offsetY * this.rotaionSpeed * elapsedTime;\r\n                    this.updateRotation();\r\n                    console.log(\"Use Quaternion Script!\");\r\n                }\r\n            }\r\n            // \u66F4\u65B0\u4F4D\u7F6E\r\n            this.lastMouseX = Laya.stage.mouseX;\r\n            this.lastMouseY = Laya.stage.mouseY;\r\n        }else{\r\n            // \u6447\u6746\u6A21\u5F0F\r\n            // \u5DE6\u6447\u6746\u79FB\u52A8\u7684\u5904\u7406\r\n            if (this.moveRocker.angle != -1) {\r\n                // \u6447\u6746\u4EA7\u751F\u4E86\u64CD\u4F5C\r\n                var speedX = Math.sin(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                var speedZ = Math.cos(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                this._tempVector3.setValue(speedX, 0, speedZ);\r\n                this.camera.transform.translate(this._tempVector3, true);\r\n            }\r\n            // \u53F3\u6447\u6746\u79FB\u52A8\u7684\u5904\u7406\r\n            if (this.rotationRocker.angle != -1) {\r\n                // \u4F7F\u7528\u6447\u6746\u7EC4\u4EF6\u5185\u8BA1\u7B97\u5F97\u5230\u7684\u4F4D\u79FB\r\n                var offsetX = this.rotationRocker.deltaX;\r\n                var offsetY = this.rotationRocker.deltaY;\r\n                    \r\n                var yprElem = this.yawPitchRoll;\r\n                yprElem.x -= offsetX * this.rockerRotationSpeed * elapsedTime;\r\n                yprElem.y -= offsetY * this.rockerRotationSpeed * elapsedTime;\r\n                this.updateRotation();\r\n                console.log(\"Use Quaternion Script!\");\r\n            }\r\n        }\r\n    }\r\n\r\n    mouseDown(e:any): void{\r\n        //\u83B7\u5F97\u9F20\u6807\u7684\u65CB\u8F6C\u503C\r\n        this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);\r\n        //\u83B7\u5F97\u9F20\u6807\u7684xy\u503C\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = true;\r\n     \r\n    }\r\n    mouseUp(e:any): void{\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = false;\r\n    }\r\n    /**\r\n     * \u5411\u524D\u79FB\u52A8\u3002\r\n     */\r\n    moveForward(distance:any): void{\r\n        this._tempVector3.x = 0;\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = distance;\r\n        this.camera.transform.translate(this._tempVector3,true);\r\n    }\r\n    /**\r\n     * \u5411\u53F3\u79FB\u52A8\u3002\r\n     */\r\n    moveRight(distance:any): void{\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = 0;\r\n        this._tempVector3.x = distance;\r\n        this.camera.transform.translate(this._tempVector3,true);\r\n    }\r\n    /**\r\n     * \u5411\u4E0A\u79FB\u52A8\u3002\r\n     */\r\n    moveVertical(distance:any): void{\r\n        this._tempVector3.x = this._tempVector3.z = 0;\r\n        this._tempVector3.y = distance;\r\n        this.camera.transform.translate(this._tempVector3, false);\r\n    }\r\n    /**\r\n     * \u57FA\u4E8E\u4FEF\u4EF0\u89D2\u8F6C\u6362\u4E3A\u56DB\u5143\u6570\u7684\u65CB\u8F6C\r\n     */\r\n    updateRotation(): void{\r\n        if (Math.abs(this.yawPitchRoll.y) < 1.50) {\r\n            Laya.Quaternion.createFromYawPitchRoll(this.yawPitchRoll.x, this.yawPitchRoll.y, this.yawPitchRoll.z, this.tempRotationZ);\r\n            this.tempRotationZ.cloneTo(this.camera.transform.localRotation);\r\n            this.camera.transform.localRotation = this.camera.transform.localRotation;\r\n        }\r\n    }\r\n}\r\n\r\nexport class CameraMoveMatrix extends Laya.Script {\r\n    // \u79FB\u52A8\u6447\u6746\r\n    public moveRocker: JoyStick;\r\n    // \u65CB\u8F6C\u6447\u6746\r\n    public rotationRocker: JoyStick;\r\n    // \u4F4D\u79FB\r\n    private _tempVector3: Laya.Vector3 = new Laya.Vector3();\r\n    // \u5404\u8F74\u65CB\u8F6C\u89D2\u5EA6\r\n    private yawPitchRoll: Laya.Vector3 = new Laya.Vector3();\r\n    // \u65CB\u8F6C\u77E9\u9635\r\n    private rotateMatrix: Laya.Matrix4x4 = new Laya.Matrix4x4();\r\n    // \u6309\u952E\u65CB\u8F6C\u901F\u5EA6\r\n    private rotaionSpeed: number = 0.00012;\r\n    // \u6447\u6746\u65CB\u8F6C\u901F\u5EA6\r\n    private rockerRotationSpeed: number = 0.00001;\r\n    // \u79FB\u52A8\u901F\u5EA6\r\n    private moveSpeed: number = 0.0025;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ex\uFF0C\u4F4D\u79FB\u8BA1\u7B97\r\n    private lastMouseX: number = 0;\r\n    // \u9F20\u6807\u4E0A\u4E2A\u4F4D\u7F6Ey\r\n    private lastMouseY: number = 0;\r\n    // \u662F\u5426\u6309\u4E0B\r\n    private isMouseDown: boolean = false;\r\n    // \u6444\u50CF\u673A\r\n    private camera: Laya.Camera;\r\n    constructor(){\r\n        super();\r\n    }\r\n\r\n\tonEnable(){\r\n        // \u6CE8\u518C\u76D1\u542C\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n\t\tLaya.stage.on(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n        // \u7ED1\u5B9A\u811A\u672C\r\n\t\tthis.camera = this.owner as Laya.Camera;\r\n\t}\r\n\r\n    onDisable() {\r\n        console.log(\"camera matrix script is disable :\" + this.enabled);\r\n        //\u5173\u95ED\u76D1\u542C\u51FD\u6570\r\n        Laya.stage.off(Laya.Event.MOUSE_DOWN, this, this.mouseDown);\r\n        Laya.stage.off(Laya.Event.MOUSE_UP, this, this.mouseUp);\r\n    }\r\n    \r\n    onUpdate(): void{\r\n\t\tvar elapsedTime = Laya.timer.delta;\r\n        if (Laya.Browser.onPC) {\r\n            if (!isNaN(this.lastMouseX) && !isNaN(this.lastMouseY)) {\r\n                Laya.InputManager.hasKeyDown(87) && this.moveForward(-0.01 * elapsedTime);//W\r\n                Laya.InputManager.hasKeyDown(83) && this.moveForward(0.01 * elapsedTime);//S\r\n                Laya.InputManager.hasKeyDown(65) && this.moveRight(-0.01 * elapsedTime);//A\r\n                Laya.InputManager.hasKeyDown(68) && this.moveRight(0.01 * elapsedTime);//D\r\n                Laya.InputManager.hasKeyDown(81) && this.moveVertical(0.01 * elapsedTime);//Q\r\n                Laya.InputManager.hasKeyDown(69) && this.moveVertical(-0.01 * elapsedTime);//E\r\n    \r\n                if (this.isMouseDown) {\r\n                    var offsetX = Laya.stage.mouseX - this.lastMouseX;\r\n                    var offsetY = Laya.stage.mouseY - this.lastMouseY;\r\n                    \r\n                    var yprElem = this.yawPitchRoll;\r\n                    yprElem.x -= offsetX * this.rotaionSpeed * elapsedTime;\r\n                    yprElem.y -= offsetY * this.rotaionSpeed * elapsedTime;\r\n                    // \u8981\u65CB\u8F6C\u7684\u6B27\u62C9\u89D2\u8F6C\u6362\u4E3A\u65CB\u8F6C\u77E9\u9635\r\n                    Laya.Matrix4x4.createRotationYawPitchRoll(yprElem.x, yprElem.y, yprElem.z, this.rotateMatrix);\r\n                    // \u5E73\u79FB\u77E9\u9635\r\n                    var moveMatrix = new Laya.Matrix4x4();\r\n                    // \u5E73\u79FB\u77E9\u9635\u8F6C\u6362\r\n                    Laya.Matrix4x4.createTranslate(new Laya.Vector3(this.camera.transform.position.x, this.camera.transform.position.y, this.camera.transform.position.z), moveMatrix);\r\n                    // \u8BA1\u7B97\u5E73\u79FB\u3001\u65CB\u8F6C\u540E\u7684\u76EE\u6807\u77E9\u9635 translatedMatrix = moveMatrix * rotationMtrix\r\n                    Laya.Matrix4x4.multiply(moveMatrix, this.rotateMatrix, this.rotateMatrix);\r\n                    // \u77E9\u9635\u66F4\u65B0\r\n                    this.camera.transform.localMatrix = this.rotateMatrix;\r\n                    console.log(\"Use Matrix Script!\");\r\n                }\r\n            }\r\n            // \u8BB0\u5F55\u4F4D\u7F6E\u66F4\u65B0\r\n            this.lastMouseX = Laya.stage.mouseX;\r\n            this.lastMouseY = Laya.stage.mouseY;\r\n        }else{\r\n            if (this.moveRocker.angle != -1) {\r\n                // \u6447\u6746\u4EA7\u751F\u4E86\u64CD\u4F5C\r\n                var speedX = Math.sin(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                var speedZ = Math.cos(this.moveRocker.radians) * this.moveSpeed * elapsedTime;\r\n                this._tempVector3.setValue(speedX, 0, speedZ);\r\n                this.camera.transform.translate(this._tempVector3, true);\r\n            }\r\n            if (this.rotationRocker.angle != -1) {\r\n                // \u4F7F\u7528\u6447\u6746\u8BA1\u7B97\u7684\u4F4D\u79FB\r\n                var offsetX = this.rotationRocker.deltaX;\r\n                var offsetY = this.rotationRocker.deltaY;\r\n            \r\n                var yprElem = this.yawPitchRoll;\r\n                yprElem.x -= offsetX * this.rockerRotationSpeed * elapsedTime;\r\n                yprElem.y -= offsetY * this.rockerRotationSpeed * elapsedTime;\r\n                // \u8981\u65CB\u8F6C\u7684\u6B27\u62C9\u89D2\u8F6C\u6362\u4E3A\u65CB\u8F6C\u77E9\u9635\r\n                Laya.Matrix4x4.createRotationYawPitchRoll(yprElem.x, yprElem.y, yprElem.z, this.rotateMatrix);\r\n                // \u5E73\u79FB\u77E9\u9635\r\n                var moveMatrix = new Laya.Matrix4x4();\r\n                // \u5E73\u79FB\u77E9\u9635\u8F6C\u6362\r\n                Laya.Matrix4x4.createTranslate(new Laya.Vector3(this.camera.transform.position.x, this.camera.transform.position.y, this.camera.transform.position.z), moveMatrix);\r\n                // \u8BA1\u7B97\u5E73\u79FB\u3001\u65CB\u8F6C\u540E\u7684\u76EE\u6807\u77E9\u9635 translatedMatrix = moveMatrix * rotationMtrix\r\n                Laya.Matrix4x4.multiply(moveMatrix, this.rotateMatrix, this.rotateMatrix);\r\n                // \u77E9\u9635\u66F4\u65B0\r\n                this.camera.transform.localMatrix = this.rotateMatrix;\r\n                console.log(\"Use Matrix Script!\");\r\n            }\r\n        }\r\n    }\r\n    \r\n    mouseDown(e:any): void{\r\n        //\u83B7\u5F97\u9F20\u6807\u7684\u65CB\u8F6C\u503C\r\n        this.camera.transform.localRotation.getYawPitchRoll(this.yawPitchRoll);\r\n        //\u83B7\u5F97\u9F20\u6807\u7684xy\u503C\r\n        this.lastMouseX = Laya.stage.mouseX;\r\n        this.lastMouseY = Laya.stage.mouseY;\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = true;\r\n     \r\n    }\r\n    mouseUp(e:any): void{\r\n        //\u8BBE\u7F6Ebool\u503C\r\n        this.isMouseDown = false;\r\n    }\r\n    /**\r\n     * \u5411\u524D\u79FB\u52A8\u3002\r\n     */\r\n    moveForward(distance:any): void{\r\n        this._tempVector3.x = 0;\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = distance;\r\n        this.camera.transform.translate(this._tempVector3);\r\n    }\r\n    /**\r\n     * \u5411\u53F3\u79FB\u52A8\u3002\r\n     */\r\n    moveRight(distance:any): void{\r\n        this._tempVector3.y = 0;\r\n        this._tempVector3.z = 0;\r\n        this._tempVector3.x = distance;\r\n        this.camera.transform.translate(this._tempVector3);\r\n    }\r\n    /**\r\n     * \u5411\u4E0A\u79FB\u52A8\u3002\r\n     */\r\n    moveVertical(distance:any): void{\r\n        this._tempVector3.x = this._tempVector3.z = 0;\r\n        this._tempVector3.y = distance;\r\n        this.camera.transform.translate(this._tempVector3, false);\r\n    }\r\n}", "#define SHADER_NAME CustomInstanceVS\r\n#include \"Camera.glsl\";\r\n#include \"Sprite3DVertex.glsl\";\r\n\r\n#include \"VertexCommon.glsl\";\r\n#include \"Color.glsl\";\r\nvarying vec4 v_Color;\r\nvoid main() {\r\n\tVertex vertex;\r\n\tgetVertexParams(vertex);\r\n\tmat4 worldMat = getWorldMatrix();\r\n\tvec3 positionWS = (worldMat *vec4(vertex.positionOS, 1.0)).xyz; \r\n\tgl_Position = getPositionCS(positionWS);\r\n\t\r\n    #ifdef GPU_INSTANCE\r\n\t\tv_Color = gammaToLinear(a_InstanceColor);\r\n\t#else\r\n\t\tv_Color = gammaToLinear(vec4(1.0,1.0,1.0,1.0));\r\n\t#endif\r\n\tv_Color = vec4(vertex.positionOS, 1.0);\r\n\tgl_Position=remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME CustomInstanceFS\r\n#include \"Color.glsl\";\r\n#include \"Scene.glsl\"\r\n\r\nvarying vec4 v_Color;\r\n\r\nvoid main()\r\n{\r\n\tvec4 color =  v_Color;\r\n\tgl_FragColor.rgb = color.rgb;\r\n\tgl_FragColor = vec4(sin(u_Time), cos(u_Time), 0.0, 1.0);\r\n}\r\n\r\n", "import CustomInstanceVS from \"../DrawCustomInstanceDemo/customInstance.vs\"\r\nimport CustomInstanceFS from \"../DrawCustomInstanceDemo/customInstance.fs\"\r\n\r\n\r\nexport class CustomInstanceMaterial extends Laya.Material{\r\n    \r\n    static init(){\r\n        var attributeMap: any = {\r\n\t\t\t'a_Position': [Laya.VertexMesh.MESH_POSITION0, Laya.ShaderDataType.Vector4],\r\n\t\t\t'a_Normal': [Laya.VertexMesh.MESH_NORMAL0, Laya.ShaderDataType.Vector3],\r\n\t\t\t'a_Texcoord0': [Laya.VertexMesh.MESH_TEXTURECOORDINATE0, Laya.ShaderDataType.Vector2],\r\n            'a_Tangent0': [Laya.VertexMesh.MESH_TANGENT0, Laya.ShaderDataType.Vector4],\r\n            'a_WorldMat':[Laya.VertexMesh.MESH_WORLDMATRIX_ROW0, Laya.ShaderDataType.Matrix4x4],\r\n            'a_InstanceColor':[Laya.VertexMesh.MESH_CUSTOME0, Laya.ShaderDataType.Color],\r\n        };\r\n\r\n        var uniformMap: any = {\r\n            \r\n        }\r\n        var shader: Laya.Shader3D = Laya.Shader3D.add(\"CustomInstanceMat\",false);\r\n\t\tvar subShader: Laya.SubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        \r\n\t\tshader.addSubShader(subShader);\r\n\t\tsubShader.addShaderPass(CustomInstanceVS, CustomInstanceFS, \"Forward\");\r\n    }\r\n\r\n    constructor(){\r\n        super();\r\n        this.setShaderName(\"CustomInstanceMat\");\r\n        this.renderModeSet();\r\n    }\r\n\r\n    //\u6E32\u67D3\u6A21\u5F0F\r\n    renderModeSet(){\r\n        this.alphaTest = true;//\u6DF1\u5EA6\u6D4B\u8BD5\u5173\u95ED\r\n        this.renderQueue = Laya.Material.RENDERQUEUE_OPAQUE;//\u6E32\u67D3\u987A\u5E8F\u653E\u5728\u540E\u9762\r\n        this.depthWrite = true;\r\n        this.cull = Laya.RenderState.CULL_BACK;\r\n        this.blend = Laya.RenderState.BLEND_DISABLE;\r\n        this.depthTest = Laya.RenderState.DEPTHTEST_LESS;\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport { CustomInstanceMaterial } from \"./DrawCustomInstanceDemo/CustomInstanceMaterial\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\nimport Vector4 = Laya.Vector4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('309fd40c-2253-4850-b066-7c34fad9be09', '../src/3D/Advance/CommandBuffer_DrawCustomInstance.ts')\r\nexport class CommandBuffer_DrawCustomInstance extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    mat:CustomInstanceMaterial;\r\n    instanceCMD: Laya.DrawMeshInstancedCMD;\r\n    materialBlock:Laya.MaterialInstancePropertyBlock;\r\n    matrixs:Laya.Matrix4x4[] = [];\r\n    matrixs1:Laya.Matrix4x4[] = [];\r\n    colors:Vector4[] = [];\r\n    colors1:Vector4[] = [];\r\n\r\n    currentColor:Vector4[] = [];\r\n    currentMatrix:Laya.Matrix4x4[] = [];\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n\t\t//\u6750\u8D28\u521D\u59CB\u5316\r\n        CustomInstanceMaterial.init();\r\n        var scene: Scene3D = this.scene;\r\n\r\n\t\tvar camera: Camera = this.camera;\r\n\t\tcamera.transform.position = new Vector3(14.85,17.08,35.89);\r\n\t\tcamera.transform.rotation = new Quaternion(0,0,0,1);\r\n\t\t\r\n        camera.clearColor = new Laya.Color(0.8, 0.4, 0.2, 1.0);\r\n        this.mat = new CustomInstanceMaterial();\r\n        //camera.enableHDR = true;\r\n\t\t//\u65B9\u5411\u5149\u7684\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color = new Laya.Color(1, 1, 1, 0);\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tlet mat: Laya.Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n     \r\n        //\u521B\u5EFACommandBuffer\u547D\u4EE4\u6D41\r\n        this.createCommandBuffer(camera);\r\n        //\u521D\u59CB\u5316\u52A8\u4F5C\r\n        Laya.timer.frameLoop(1,this,this.changetwoon);\r\n\t}\r\n\r\n    createCommandBuffer(camera:Camera){\r\n        //\u521B\u5EFA\u6E32\u67D3\u547D\u4EE4\u6D41\r\n        let buf:Laya.CommandBuffer = new Laya.CommandBuffer();\r\n        //\u521D\u59CB\u5316\u6570\u77E9\u9635\u6570\u7EC4\u548C\u989C\u8272\u6570\u7EC4\r\n        this.createMatrixArray();\r\n        //\u521B\u5EFA\u6750\u8D28instance\u5C5E\u6027\u5757\r\n        this.materialBlock= new Laya.MaterialInstancePropertyBlock();\r\n        //\u8BBE\u7F6E\u5C5E\u6027\r\n        this.materialBlock.setVectorArray(\"a_InstanceColor\",this.colors1, Laya.InstanceLocation.CUSTOME0);\r\n        //\u521B\u5EFA\u6E32\u67D3\u547D\u4EE4  \u6E32\u67D3900\u4E2A\u5C0F\u7403\r\n        this.instanceCMD = buf.drawMeshInstance(Laya.PrimitiveMesh.createSphere(0.5),0,this.matrixs1, this.mat, 0,this.materialBlock,900);\r\n        camera.addCommandBuffer(Laya.CameraEventFlags.BeforeTransparent,buf);\r\n        return;\r\n    }\r\n\r\n    createMatrixArray():void{ \r\n        for (let i = 0; i < 30; i++)\r\n        {\r\n            for (let j = 0; j < 30; j++)\r\n            {\r\n                let ind = j * 30 + i;\r\n                if (ind > 1023) break;\r\n                this.matrixs[ind] = new Laya.Matrix4x4();\r\n                this.matrixs1[ind] = new Laya.Matrix4x4();\r\n                this.currentMatrix[ind] = new Laya.Matrix4x4();\r\n                Laya.Matrix4x4.createTranslate(new Vector3(i, j, 0),  this.matrixs[ind]);\r\n                Laya.Matrix4x4.createTranslate(new Vector3(ind%10+10,Math.floor(ind/100)+10,Math.floor(ind/10)%10-5),this.matrixs1[ind]);\r\n                this.colors[ind] = new Vector4(1 - i / 30.0, 1 - j / 30.0, 1.0, 1.0);\r\n                this.colors1[ind] = new Vector4(1 - i / 30.0, 1 - j / 30.0, 0.0, 1.0);\r\n                this.currentColor[ind] = new Vector4();\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n \r\n\r\n    changePositionColor(sourceColor:Vector4[],sourceMatrix:Laya.Matrix4x4[],destColor:Vector4[],destMatrix:Laya.Matrix4x4[],lerp:number){\r\n        //\u6839\u636Elerp\u63D2\u503C\u989C\u8272\u548C\u77E9\u9635\r\n        var lep = lerp;\r\n        var invert = 1-lerp;\r\n        for (let i = 0; i < 30; i++)\r\n        {\r\n            for (let j = 0; j < 30; j++)\r\n            {\r\n                let ind = j * 30 + i;\r\n                this.currentColor[ind].setValue(sourceColor[ind].x*lep+destColor[ind].x*invert,sourceColor[ind].y*lep+destColor[ind].y*invert,sourceColor[ind].z*lep+destColor[ind].z*invert,1.0) \r\n                var mat = this.currentMatrix[ind].elements;\r\n                var sourcemat = sourceMatrix[ind].elements;\r\n                var destmat = destMatrix[ind].elements;\r\n                mat[12] = sourcemat[12]*lep+destmat[12]*invert;\r\n                mat[13] = sourcemat[13]*lep+destmat[13]*invert;\r\n                mat[14] = sourcemat[14]*lep+destmat[14]*invert;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private timer = 0;\r\n    private delta = 0.01;\r\n    changetwoon(){\r\n        //\u4FEE\u6539\u6E32\u67D3\u5C5E\u6027\r\n        this.timer+=this.delta;\r\n        if(this.timer<0||this.timer>1){\r\n            this.timer = Math.round(this.timer);            \r\n            return;\r\n        }\r\n        \r\n        this.changePositionColor(this.colors,this.matrixs,this.colors1,this.matrixs1,this.timer);\r\n        //\u6539\u53D8900\u5C0F\u7403\u7684\u77E9\u9635\r\n        this.instanceCMD.setWorldMatrix(this.currentMatrix);\r\n        //\u6539\u53D8900\u5C0F\u7403\u7684\u989C\u8272\r\n        this.materialBlock.setVectorArray(\"a_InstanceColor\",this.currentColor,Laya.InstanceLocation.CUSTOME0);\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport { BlurEffect, BlurMaterial } from \"./BlurShader/BlurEffect\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Camera = Laya.Camera;\r\nimport Vector4 = Laya.Vector4;\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c7b9e97b-dab7-4d49-9974-6722b5ba39ee', '../src/3D/Advance/CommandBuffer_Outline.ts')\r\nexport class CommandBuffer_Outline extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate commandBuffer: Laya.CommandBuffer;\r\n\tprivate cameraEventFlag:Laya.CameraEventFlags = Laya.CameraEventFlags.BeforeImageEffect;\r\n\tprivate enableCommandBuffer:boolean = false;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\t\t\r\n        super.base(this.camera);\r\n\t\t//\u6750\u8D28\u521D\u59CB\u5316\r\n\t\tvar scene = this.scene;\r\n\t\tvar camera = this.camera;\r\n\t\tBlurEffect.init();\r\n\t\tvar unlitMaterial = new Laya.UnlitMaterial();\r\n\t\tunlitMaterial.albedoColor = new Laya.Color(255,0,0,255);\r\n\t\tvar shurikenMaterial:Laya.ShurikenParticleMaterial = new Laya.ShurikenParticleMaterial();\r\n\t\tshurikenMaterial.color = new Laya.Color(255,0,0,255);\r\n\t\t// //\u52A0\u5165\u6444\u50CF\u673A\u79FB\u52A8\u63A7\u5236\u811A\u672C\r\n\t\t\r\n\t\tvar renders:Laya.BaseRender[]  = [];\r\n\t\tvar materials:Laya.Material[] = [];\r\n\t\trenders.push((scene.getChildByName(\"Cube\") as Laya.MeshSprite3D).getComponent(Laya.MeshRenderer));\r\n\t\tmaterials.push(unlitMaterial);\r\n\t\trenders.push((scene.getChildByName(\"Particle\") as Laya.ShuriKenParticle3D).getComponent(Laya.ShurikenParticleRenderer));\r\n\t\tmaterials.push(shurikenMaterial);\r\n\t\trenders.push((scene.getChildByName(\"LayaMonkey\").getChildByName(\"LayaMonkey\") as Laya.SkinnedMeshSprite3D).getComponent(Laya.SkinnedMeshRenderer));\r\n\t\tmaterials.push(unlitMaterial);\r\n\t\r\n\t\t//\u521B\u5EFAcommandBuffer\r\n\t\tthis.commandBuffer =  this.createDrawMeshCommandBuffer(camera,renders,materials);\r\n\t\t//\u5C06commandBuffer\u52A0\u5165\u6E32\u67D3\u6D41\u7A0B\r\n\t\tcamera.addCommandBuffer(this.cameraEventFlag,this.commandBuffer);\r\n\t\t// camera.removeCommandBuffer(this.cameraEventFlag,this.commandBuffer);\r\n\t}\r\n\r\n\tcreateDrawMeshCommandBuffer(camera:Laya.Camera,renders:Laya.BaseRender[],materials:Laya.Material[]):Laya.CommandBuffer{\r\n\t\tvar buf:Laya.CommandBuffer = new Laya.CommandBuffer();\r\n\t\t//\u5F53\u9700\u8981\u5728\u6D41\u7A0B\u4E2D\u62FF\u6444\u50CF\u673A\u6E32\u67D3\u6548\u679C\u7684\u65F6\u5019 \u8BBE\u7F6Etrue\r\n\t\tcamera.enableBuiltInRenderTexture = true;\r\n\t\t//\u521B\u5EFA\u548C\u5C4F\u5E55\u4E00\u6837\u5927\u7684Rendertexture\r\n\t\tvar viewPort:Laya.Viewport = camera.viewport;\r\n\t\tvar renderTexture = Laya.RenderTexture.createFromPool(viewPort.width,viewPort.height,Laya.RenderTargetFormat.R8G8B8A8,Laya.RenderTargetFormat.STENCIL_8);\r\n\t\t//\u5C06RenderTexture\u8BBE\u7F6E\u4E3A\u6E32\u67D3\u76EE\u6807\r\n\t\tbuf.setRenderTarget(renderTexture);\r\n\t\t//\u6E05\u695A\u6E32\u67D3\u76EE\u6807\u7684\u989C\u8272\u4E3A\u9ED1\u8272\uFF0C\u4E0D\u6E05\u7406\u6DF1\u5EA6\r\n\t\tbuf.clearRenderTarget(true,false,new Laya.Color(0,0,0,0));\r\n\t\t\r\n\t\t//\u5C06\u4F20\u5165\u7684Render\u6E32\u67D3\u5230\u7EB9\u7406\u4E0A\r\n\t\tfor(var i = 0,n = renders.length;i<n;i++){\r\n\t\t\tbuf.drawRender(renders[i],materials[i],0);\r\n\t\t}\r\n\t\t//\u521B\u5EFA\u65B0\u7684RenderTexture\r\n\t\t var subRendertexture = Laya.RenderTexture.createFromPool(viewPort.width,viewPort.height,Laya.RenderTargetFormat.R8G8B8A8,Laya.RenderTargetFormat.STENCIL_8);\r\n\t\t//\u5C06renderTexture\u7684\u7ED3\u679C\u590D\u5236\u5230subRenderTexture\r\n\t\t buf.blitScreenQuad(renderTexture,subRendertexture);\r\n\t\t//\u8BBE\u7F6E\u6A21\u7CCA\u7684\u53C2\u6570\r\n\t\t var downSampleFactor:number = 2;\r\n\t\t var downSampleWidth:number = viewPort.width/downSampleFactor;\r\n\t\t var downSampleheigh:number = viewPort.height/downSampleFactor;\r\n\t\tvar texSize:Vector4 = new Vector4(1.0/viewPort.width,1.0/viewPort.height,viewPort.width,downSampleheigh);\r\n\t\t//\u521B\u5EFA\u6A21\u7CCA\u6750\u8D28\r\n\t\tvar blurMaterial:BlurMaterial = new BlurMaterial(texSize,1);\r\n\t\t\r\n\t\t//\u521B\u5EFA\u964D\u91C7\u6837RenderTexture1\r\n\t\t var downRenderTexture = Laya.RenderTexture.createFromPool(downSampleWidth,downSampleheigh,Laya.RenderTargetFormat.R8G8B8,Laya.RenderTargetFormat.STENCIL_8);\r\n\t\t//\u964D\u91C7\u6837  \u4F7F\u7528blurMaterial\u6750\u8D28\u76840SubShader\u5C06Rendertexture\u6E32\u67D3\u5230DownRendertexture\r\n\t\t buf.blitScreenQuadByMaterial(renderTexture,downRenderTexture,null,blurMaterial,0);\r\n\r\n\t\t //\u521B\u5EFA\u964D\u91C7\u6837RenderTexture2\r\n\t\tvar blurTexture:Laya.RenderTexture = Laya.RenderTexture.createFromPool(downSampleWidth,downSampleheigh, Laya.RenderTargetFormat.R8G8B8,Laya.RenderTargetFormat.STENCIL_8);\r\n\t\tblurTexture.filterMode = Laya.FilterMode.Bilinear;\r\n\r\n\t\t//Horizontal blur \u4F7F\u7528blurMaterial\u6750\u8D28\u76841SubShader\r\n\t\tbuf.blitScreenQuadByMaterial(downRenderTexture,blurTexture,null,blurMaterial,1);\r\n\t\t//vertical blur\t\u4F7F\u7528blurMaterial\u6750\u8D28\u76842SubShader\r\n\t\tbuf.blitScreenQuadByMaterial(blurTexture,downRenderTexture,null,blurMaterial,2);\r\n\t\t//Horizontal blur \u4F7F\u7528blurMaterial\u6750\u8D28\u76841SubShader\r\n\t\tbuf.blitScreenQuadByMaterial(downRenderTexture,blurTexture,null,blurMaterial,1);\r\n\t\t//vertical blur   \u4F7F\u7528blurMaterial\u6750\u8D28\u76842SubShader\r\n\t\tbuf.blitScreenQuadByMaterial(blurTexture,downRenderTexture,null,blurMaterial,2);\r\n\t\t//\u5728\u547D\u4EE4\u6D41\u91CC\u9762\u63D2\u5165\u8BBE\u7F6E\u56FE\u7247\u547D\u4EE4\u6D41\uFF0C\u5728\u8C03\u7528\u7684\u65F6\u5019\u4F1A\u8BBE\u7F6EblurMaterial\u7684\u56FE\u7247\u6570\u636E\r\n\t\tbuf.setShaderDataTexture(blurMaterial._shaderValues,BlurMaterial.SHADERVALUE_SOURCETEXTURE0,downRenderTexture);\r\n\t\tbuf.setShaderDataTexture(blurMaterial._shaderValues,BlurMaterial.ShADERVALUE_SOURCETEXTURE1,subRendertexture);\r\n\t\t//caculate edge\u8BA1\u7B97\u8FB9\u7F18\u56FE\u7247\r\n\t\tbuf.blitScreenQuadByMaterial(blurTexture,renderTexture,null,blurMaterial,3);\r\n\t\t//\u91CD\u65B0\u4F20\u5165\u56FE\u7247\r\n\t\tbuf.setShaderDataTexture(blurMaterial._shaderValues,BlurMaterial.SHADERVALUE_SOURCETEXTURE0,renderTexture);\r\n\t\t//\u5C06camera\u6E32\u67D3\u7ED3\u679C\u590D\u5236\u5230subRendertexture\uFF0C\u4F7F\u7528blurMaterial\u76844\u901A\u9053shader\r\n\t\tbuf.blitScreenQuadByMaterial(null,subRendertexture,null,blurMaterial,4);\r\n\t\t//\u5C06subRenderTexture\u91CD\u65B0\u8D4B\u503C\u5230camera\u7684\u6E32\u67D3\u7ED3\u679C\u4E0A\u9762\r\n\t\tbuf.blitScreenQuadByMaterial(subRendertexture,null);\r\n\t\treturn buf;\r\n\t}\r\n}", "/**\r\n * \u8349\u76AE\u5757\r\n */\r\nexport class GrassCellInfo{\r\n    /**\u8349\u76AE\u539F\u59CB\u4F4D\u7F6E */\r\n    public privotPos:Laya.Vector3 = new Laya.Vector3();\r\n    //\u4F4D\u7F6Earray\r\n    private posArray:Float32Array;\r\n    //\u8349\u76AE\u4E16\u754C\u5750\u6807\u5927\u5C0F\r\n    private size:number;\r\n\r\n    //\u6E32\u67D3\u7B49\u7EA7  \u6839\u636E\u6E32\u67D3\u7B49\u7EA7\u51B3\u5B9A\u753B\u767E\u5206\u4E4B\u591A\u5C11\u7684\u8349\r\n    private drawlevelRatio:number;\r\n\r\n\r\n    public bound:Laya.BoundBox;\r\n\r\n    private grassHight:number = 5;\r\n    \r\n    constructor(maxGrassNums:number,cellSize:number,privotPos:Laya.Vector3){\r\n        this.posArray = new Float32Array(maxGrassNums*3);\r\n        this.size = cellSize;\r\n        this.privotPos = privotPos;\r\n        this.updateGrassPos();\r\n        this.bound = new Laya.BoundBox(new Laya.Vector3(this.privotPos.x-this.size/2,this.privotPos.y,this.privotPos.z-this.size/2),new Laya.Vector3(this.privotPos.x+this.size/2,this.privotPos.y+this.grassHight,this.privotPos.z+this.size/2));\r\n    }\r\n\r\n    /**\r\n     * \u66F4\u65B0\u6700\u5927\u8349\u91CF\u7684\u4F4D\u7F6E\r\n     */\r\n    updateGrassPos(){\r\n        let array = this.posArray;\r\n        let orix = this.privotPos.x;\r\n        let oriy = this.privotPos.y;\r\n        let oriz = this.privotPos.z;\r\n        let size = this.size/2;\r\n        for (let i = 0,n=this.posArray.length/3; i <n ; i+=3) {\r\n            var x = (Math.random()*2-1)*size;\r\n            var z = (Math.random()*2-1)*size;\r\n            array[i] = x+orix;\r\n            array[i+1] = oriy;\r\n            array[i+2] = z+oriz;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \u8BBE\u7F6E\u7ED8\u753B\u7B49\u7EA7\r\n     */\r\n    setDrawLevel(level:number){\r\n        this.drawlevelRatio =Math.max(1- level,0.0);\r\n    }\r\n\r\n\r\n    setGrassCellData(drawArray:Float32Array,offset:number):number{\r\n        let setLength = Math.floor(this.posArray.length/3*this.drawlevelRatio)*3;\r\n        drawArray.set(this.posArray,offset);\r\n        return setLength+offset;\r\n    }\r\n\r\n}", "#define SHADER_NAME GRASSVS\r\n\r\n    // include\r\n    #include \"Color.glsl\";\r\n    #include \"Camera.glsl\";\r\n    #include \"VertexCommon.glsl\";\r\n    #include \"Scene.glsl\";\r\n    #include \"SceneFogInput.glsl\";    \r\n\r\n    // varying\r\n    varying vec4 v_Color;\r\n\r\n    // main\r\n    void main() {\r\n        // Vertex vertex;\r\n        // getVertexParams(vertex);\r\n        \r\n        // uniform\r\n        vec3 baseColor = vec3(0.1, 0.5, 0.1);\r\n        float boundSize = 70.71067811865476;\r\n\r\n        // const\r\n        float minHeight = 2.0;\r\n        float maxHeight = 5.0;\r\n\r\n\r\n        vec4 aposition = getVertexPosition();\r\n        vec3 perGrassPivotPosWS = a_privotPosition;\r\n        float perGrassHeight = mix(minHeight, maxHeight, (sin(perGrassPivotPosWS.x * 23.4643 + perGrassPivotPosWS.z) * 0.45 + 0.55)) * u_grassHeight;\r\n\r\n\r\n        vec3 cameraUpWS = normalize(u_CameraUp);\r\n        vec3 cameraForwardWS = normalize(u_CameraDirection);\r\n        vec3 cameraRightWS = normalize(cross(cameraForwardWS, cameraUpWS));\r\n\r\n        //BlillBoard x\r\n        vec3 positionOS = aposition.x * cameraRightWS * u_grassWidth * (sin(perGrassPivotPosWS.x * 95.4643 + perGrassPivotPosWS.z) * 0.45 + 0.55);\r\n        //BillBoard y\r\n        positionOS += aposition.y * cameraUpWS;\r\n\r\n        // \u6BCF\u6839\u8349 \u9AD8\u5EA6\r\n        positionOS.y *= perGrassHeight;\r\n\r\n\r\n        float wind = 0.0;\r\n        wind += (sin(u_Time * u_WindAFrequency + perGrassPivotPosWS.x * u_WindATiling.x + perGrassPivotPosWS.z * u_WindATiling.y)*u_WindAWrap.x+u_WindAWrap.y) * u_WindAIntensity; //windA\r\n        wind += (sin(u_Time * u_WindBFrequency + perGrassPivotPosWS.x * u_WindBTiling.x + perGrassPivotPosWS.z * u_WindBTiling.y)*u_WindBWrap.x+u_WindBWrap.y) * u_WindBIntensity; //windB\r\n        wind += (sin(u_Time * u_WindCFrequency + perGrassPivotPosWS.x * u_WindCTiling.x + perGrassPivotPosWS.z * u_WindCTiling.y)*u_WindCWrap.x+u_WindCWrap.y) * u_WindCIntensity; //windC\r\n        wind *= a_Position.y; //wind only affect top region, don't affect root region\r\n        vec3 windOffset = cameraRightWS * wind; //swing using billboard left right direction\r\n        //\u98CE\u7684\u5F71\u54CD\r\n        positionOS += windOffset;\r\n\r\n\r\n        vec3 viewWS = u_CameraPos - perGrassPivotPosWS;\r\n        float viewWSLength = length(viewWS);\r\n        positionOS += cameraRightWS * aposition.x * max(0.0, viewWSLength * 0.02225);\r\n\r\n        vec3 positionWS = positionOS + perGrassPivotPosWS;\r\n        vec4 position = u_ViewProjection * vec4(positionWS, 1.0);\r\n\r\n\r\n        //reset Texture \r\n        vec2 uv = (positionWS.xz-u_BoundSize.xy)/u_BoundSize.zw;\r\n        baseColor = texture2D(u_albedoTexture, uv).rgb;\r\n        \r\n        vec3 albedo = mix(u_GroundColor.xyz, baseColor, a_Position.y);\r\n        v_Color = vec4(albedo, 1.0);\r\n\r\n        gl_Position = position;\r\n        gl_Position=remapPositionZ(gl_Position);\r\n    #ifdef FOG\r\n        FogHandle(gl_Position.z);\r\n    #endif\r\n    }", "#if defined(GL_FRAGMENT_PRECISION_HIGH)//\u00A0\u539F\u6765\u7684\u5199\u6CD5\u4F1A\u88AB\u6211\u4EEC\u81EA\u5DF1\u7684\u89E3\u6790\u6D41\u7A0B\u5904\u7406\uFF0C\u800C\u6211\u4EEC\u7684\u89E3\u6790\u662F\u4E0D\u8BA4\u5185\u7F6E\u5B8F\u7684\uFF0C\u5BFC\u81F4\u88AB\u5220\u6389\uFF0C\u6240\u4EE5\u6539\u6210\u00A0if\u00A0defined\u00A0\u4E86\r\n\tprecision highp float;\r\n#else\r\n\tprecision mediump float;\r\n#endif\r\n#include \"Color.glsl\";\r\n#include \"Scene.glsl\"\r\n#include \"SceneFog.glsl\"\r\n\r\nvarying vec4 v_Color;\r\n\r\nvoid main() {\r\n\r\n    vec4 color = v_Color;\r\n\t#ifdef FOG\r\n\t\t// float lerpFact=clamp((1.0/gl_FragCoord.w-u_FogStart)/u_FogRange,0.0,1.0);\r\n\t\t// gl_FragColor.rgb=mix(gl_FragColor.rgb,u_FogColor.rgb,lerpFact);\r\n\t\tcolor.rgb = scenUnlitFog(color.rgb);\r\n\t#endif\r\n\tgl_FragColor = color;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n}", "import UnityGrassVS from \"./shader/GrassShaderVS.vs\";\r\nimport UnityGrassFS from \"./shader/GrassShaderFS.fs\";\r\n\r\nexport class GrassMaterial extends Laya.Material {\r\n    static hasInited: boolean = false;\r\n    /**@internal */\r\n    static WINDAINTENSITY: number;\r\n    /**@internal */\r\n    static WINDAFREQUECY: number;\r\n    /**@internal */\r\n    static WINDATILING: number;\r\n    /**@internal */\r\n    static WINDAWRAP: number;\r\n    /**@internal */\r\n    static WINDBINTENSITY: number;\r\n    /**@internal */\r\n    static WINDBFREQUECY: number;\r\n    /**@internal */\r\n    static WINDBTILING: number;\r\n    /**@internal */\r\n    static WINDBWRAP: number;\r\n    /**@internal */\r\n    static WINDCINTENSITY: number;\r\n    /**@internal */\r\n    static WINDCFREQUECY: number;\r\n    /**@internal */\r\n    static WINDCTILING: number;\r\n    /**@internal */\r\n    static WINDCWRAP: number;\r\n    //grass hight width\r\n    static GRASSHEIGHT: number;\r\n    static GRASSWIDTH: number;\r\n    //grass Bound \u5FC5\u987B\u548C\u8349\u7CFB\u7EDF\u91CC\u9762\u7684UV\u76F8\u540C\u624D\u80FD\u5F97\u5230\u5F88\u597D\u7684\u6548\u679C\r\n    static GRASSBOUND: number;\r\n    //\u5730\u9762\u989C\u8272\r\n    static GROUNDCOLOR: number;\r\n    static ALBEDOTEXTURE: number;\r\n\r\n    static __init__(): void {\r\n\r\n        GrassMaterial.WINDAINTENSITY= Laya.Shader3D.propertyNameToID(\"u_WindAIntensity\");\r\n        GrassMaterial.WINDAFREQUECY= Laya.Shader3D.propertyNameToID(\"u_WindAFrequency\");\r\n        GrassMaterial.WINDATILING= Laya.Shader3D.propertyNameToID(\"u_WindATiling\");\r\n        GrassMaterial.WINDAWRAP= Laya.Shader3D.propertyNameToID(\"u_WindAWrap\");\r\n        GrassMaterial.WINDBINTENSITY= Laya.Shader3D.propertyNameToID(\"u_WindBIntensity\");\r\n        GrassMaterial.WINDBFREQUECY= Laya.Shader3D.propertyNameToID(\"u_WindBFrequency\");\r\n        GrassMaterial.WINDBTILING= Laya.Shader3D.propertyNameToID(\"u_WindBTiling\");\r\n        GrassMaterial.WINDBWRAP= Laya.Shader3D.propertyNameToID(\"u_WindBWrap\");\r\n        GrassMaterial.WINDCINTENSITY= Laya.Shader3D.propertyNameToID(\"u_WindCIntensity\");\r\n        GrassMaterial.WINDCFREQUECY= Laya.Shader3D.propertyNameToID(\"u_WindCFrequency\");\r\n        GrassMaterial.WINDCTILING= Laya.Shader3D.propertyNameToID(\"u_WindCTiling\");\r\n        GrassMaterial.WINDCWRAP= Laya.Shader3D.propertyNameToID(\"u_WindCWrap\");\r\n        //grass hight width\r\n        GrassMaterial.GRASSHEIGHT= Laya.Shader3D.propertyNameToID(\"u_grassHeight\");\r\n        GrassMaterial.GRASSWIDTH= Laya.Shader3D.propertyNameToID(\"u_grassWidth\");\r\n        //grass Bound \u5FC5\u987B\u548C\u8349\u7CFB\u7EDF\u91CC\u9762\u7684UV\u76F8\u540C\u624D\u80FD\u5F97\u5230\u5F88\u597D\u7684\u6548\u679C\r\n        GrassMaterial.GRASSBOUND= Laya.Shader3D.propertyNameToID(\"u_BoundSize\");\r\n        //\u5730\u9762\u989C\u8272\r\n        GrassMaterial.GROUNDCOLOR= Laya.Shader3D.propertyNameToID(\"u_GroundColor\");\r\n        GrassMaterial.ALBEDOTEXTURE= Laya.Shader3D.propertyNameToID(\"u_albedoTexture\");\r\n\r\n        var attributeMap: any = {\r\n            'a_Position': [Laya.VertexMesh.MESH_POSITION0, Laya.ShaderDataType.Vector4],\r\n            'a_Normal': [Laya.VertexMesh.MESH_NORMAL0, Laya.ShaderDataType.Vector3],\r\n            'a_privotPosition': [Laya.VertexMesh.MESH_CUSTOME0, Laya.ShaderDataType.Vector3]\r\n        };\r\n        var uniformMap:any = {\r\n            \"u_WindAIntensity\":Laya.ShaderDataType.Float,\r\n            \"u_WindAFrequency\":Laya.ShaderDataType.Float,\r\n            \"u_WindATiling\":Laya.ShaderDataType.Vector2,\r\n            \"u_WindAWrap\":Laya.ShaderDataType.Vector2,\r\n\r\n            \"u_WindBIntensity\":Laya.ShaderDataType.Float,\r\n            \"u_WindBFrequency\":Laya.ShaderDataType.Float,\r\n            \"u_WindBTiling\":Laya.ShaderDataType.Vector2,\r\n            \"u_WindBWrap\":Laya.ShaderDataType.Vector2,\r\n\r\n            \"u_WindCIntensity\":Laya.ShaderDataType.Float,\r\n            \"u_WindCFrequency\":Laya.ShaderDataType.Float,\r\n            \"u_WindCTiling\":Laya.ShaderDataType.Vector2,\r\n            \"u_WindCWrap\":Laya.ShaderDataType.Vector2,\r\n            //grass\r\n            \"u_grassHeight\":Laya.ShaderDataType.Float,\r\n            \"u_grassWidth\":Laya.ShaderDataType.Float,\r\n            \"u_BoundSize\":Laya.ShaderDataType.Vector4,\r\n            \"u_GroundColor\":Laya.ShaderDataType.Vector3,\r\n            \"u_albedoTexture\":Laya.ShaderDataType.Texture2D\r\n        }\r\n        var shader: Laya.Shader3D = Laya.Shader3D.add(\"GrassShader\", false, false);\r\n        var subShader: Laya.SubShader = new Laya.SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        var pass: Laya.ShaderPass = subShader.addShaderPass(UnityGrassVS, UnityGrassFS, \"Forward\");\r\n        pass.renderState.cull = Laya.RenderState.CULL_BACK;\r\n    }\r\n\r\n    constructor() {\r\n        if (!GrassMaterial.hasInited) {\r\n            GrassMaterial.__init__();\r\n            GrassMaterial.hasInited = true;\r\n        }\r\n        super();\r\n        this.setShaderName(\"GrassShader\");\r\n        // todo  \u6E32\u67D3\u961F\u5217\u9009\u62E9\r\n        this.alphaTest = false;\r\n        this.renderQueue = Laya.Material.RENDERQUEUE_OPAQUE;\r\n        this.depthWrite = true;\r\n        this.cull = Laya.RenderState.CULL_BACK;\r\n        this.blend = Laya.RenderState.BLEND_DISABLE;\r\n        this.depthTest = Laya.RenderState.DEPTHTEST_LESS;\r\n        this.setWindA(1.77, 4, new Laya.Vector2(0.1, 0.1), new Laya.Vector2(0.5, 0.5));\r\n        this.setWindB(0.25, 7.7, new Laya.Vector2(0.37, 3), new Laya.Vector2(0.5, 0.5));\r\n        this.setWindC(0.125, 11.7, new Laya.Vector2(0.77, 3), new Laya.Vector2(0.5, 0.5));\r\n        this.grassHight = 1.0;\r\n        this.grassWidth = 1.0;\r\n        this.grassGroundColor = new Laya.Vector3(0.25, 0.49, 0.23);\r\n        this.grassBoundSize = new Laya.Vector4(-105, -105, 210, 210);\r\n        Laya.loader.load(\"resources/res/InstancedIndirectGrassVertexColor.jpg\").then((res : Laya.Texture2D)=>{\r\n            this.albedoTexture = res;\r\n        } )\r\n    }\r\n\r\n    setWindA(windIntensity: number, windFrequency: number, windTiling: Laya.Vector2, windWrap:Laya. Vector2) {\r\n        this._shaderValues.setNumber(GrassMaterial.WINDAINTENSITY, windIntensity);\r\n        this._shaderValues.setNumber(GrassMaterial.WINDAFREQUECY, windFrequency);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDATILING, windTiling);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDAWRAP, windWrap);\r\n    }\r\n\r\n    setWindB(windIntensity: number, windFrequency: number, windTiling: Laya.Vector2, windWrap: Laya.Vector2) {\r\n        this._shaderValues.setNumber(GrassMaterial.WINDBINTENSITY, windIntensity);\r\n        this._shaderValues.setNumber(GrassMaterial.WINDBFREQUECY, windFrequency);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDBTILING, windTiling);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDBWRAP, windWrap);\r\n    }\r\n\r\n    setWindC(windIntensity: number, windFrequency: number, windTiling: Laya.Vector2, windWrap: Laya.Vector2) {\r\n        this._shaderValues.setNumber(GrassMaterial.WINDCINTENSITY, windIntensity);\r\n        this._shaderValues.setNumber(GrassMaterial.WINDCFREQUECY, windFrequency);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDCTILING, windTiling);\r\n        this._shaderValues.setVector2(GrassMaterial.WINDCWRAP, windWrap);\r\n    }\r\n\r\n    set grassHight(value: number) {\r\n        this._shaderValues.setNumber(GrassMaterial.GRASSHEIGHT, value);\r\n    }\r\n\r\n    set grassWidth(value: number) {\r\n        this._shaderValues.setNumber(GrassMaterial.GRASSWIDTH, value);\r\n    }\r\n\r\n    set grassGroundColor(value: Laya.Vector3) {\r\n        this._shaderValues.setVector3(GrassMaterial.GROUNDCOLOR, value);\r\n    }\r\n\r\n    set grassBoundSize(value: Laya.Vector4) {\r\n        this._shaderValues.setVector(GrassMaterial.GRASSBOUND, value);\r\n    }\r\n\r\n    set albedoTexture(value: Laya.BaseTexture) {\r\n        this._shaderValues.setTexture(GrassMaterial.ALBEDOTEXTURE, value);\r\n    }\r\n\r\n}", "import { GrassMaterial } from \"./GrassMaterial\";\r\nimport { GrassRenderManager } from \"./GrassRenderManager\";\r\n\r\nexport class GlassRender{\r\n\r\n    private grassManager:GrassRenderManager;\r\n    private instanceCMD: Laya.DrawMeshInstancedCMD;\r\n    private materialBlock:Laya.MaterialInstancePropertyBlock;\r\n    private grassMaterial:GrassMaterial;\r\n    private buf:Laya.CommandBuffer;\r\n    private camera:Laya.Camera;\r\n    constructor(manager:GrassRenderManager,camera:Laya.Camera){\r\n        this.grassManager = manager;\r\n        this.createCommandBuffer();\r\n        this.camera = camera;\r\n    }\r\n\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    private creatGrassMesh():Laya.Mesh{\r\n        // \u751F\u6210 \u5355\u7247 grass (\u4E00\u4E2A \u4E09\u89D2\u5F62)\r\n        var vertexArray: Float32Array  = new Float32Array(3 * 3);\r\n        vertexArray[0] = -0.25;  // p1.x\r\n        vertexArray[3] = 0.25; // p2.x\r\n        vertexArray[7] = 1;     // p3.y\r\n        var indexArray: Uint16Array =  new Uint16Array([2, 1, 0]);\r\n        var vertexDeclaration: Laya.VertexDeclaration = Laya.VertexMesh.getVertexDeclaration(\"POSITION\");\r\n        //@ts-ignore\r\n        var mesh = Laya.PrimitiveMesh._createMesh(vertexDeclaration,vertexArray,indexArray);\r\n        return mesh;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    private createMaterial():GrassMaterial{\r\n        var mat = new GrassMaterial();\r\n        this.grassMaterial = mat;\r\n        //set mat Property\r\n        return mat;\r\n    }\r\n\r\n    /**\r\n     * \u521B\u5EFACommandBuffer\u547D\u4EE4\u7F13\u5B58\u6D41\r\n     * @param camera \r\n     */\r\n    createCommandBuffer(){\r\n        Laya.DrawMeshInstancedCMD.maxInstanceCount = 1000000;\r\n        //\u521B\u5EFA\u6E32\u67D3\u547D\u4EE4\u6D41\r\n        this.buf = new Laya.CommandBuffer();\r\n        //\u521B\u5EFA\u6750\u8D28instance\u5C5E\u6027\u5757\r\n        this.materialBlock= new Laya.MaterialInstancePropertyBlock();\r\n        //\u8BBE\u7F6E\u5C5E\u6027\r\n        this.materialBlock.setVector3Array(\"a_privotPosition\",this.grassManager.dataArrayBuffer,Laya.InstanceLocation.CUSTOME0);\r\n        // let matrixs =new Array<Matrix4x4>();\r\n        // for(var i = 0;i<1000000;i++){\r\n        //     matrixs.push(new Matrix4x4());\r\n        // }\r\n        this.instanceCMD = this.buf.drawMeshInstance(this.creatGrassMesh(),0,null,this.createMaterial(),0,this.materialBlock,this.grassManager.drawArrayLength);\r\n        return;\r\n    }\r\n\r\n    removeCommandBuffer(){\r\n        this.camera.removeCommandBuffer(Laya.CameraEventFlags.BeforeTransparent,this.buf);\r\n    }\r\n\r\n    addCommandBuffer(){\r\n        this.camera.addCommandBuffer(Laya.CameraEventFlags.BeforeTransparent,this.buf);\r\n    }\r\n\r\n    changeDrawNums(){\r\n        this.materialBlock.setVector3Array(\"a_privotPosition\",this.grassManager.dataArrayBuffer,Laya.InstanceLocation.CUSTOME0);\r\n        this.instanceCMD.setDrawNums(this.grassManager.drawArrayLength);\r\n    }\r\n\r\n    \r\n}", "import { GrassCellInfo } from \"./GrassCellInfo\";\r\nimport { GlassRender } from \"./GrassRender\";\r\n\r\n/**\r\n * \u7528\u6765\u7BA1\u7406\u8349\u76AE\uFF0C\u88C1\u526A\u4EC0\u4E48\u7684\u90FD\u5728\u8FD9\u91CC\r\n */\r\nexport class GrassRenderManager{\r\n    //----------config-----------\r\n    //\u6700\u5927Instance\u6570  \u4E5F\u662F\u5BC6\u5EA6\r\n    public instanceCount = 1000000;\r\n    //\u8BBE\u7F6E\u8349\u76AE\u5927\u5C0F\r\n    public grassCellsize = 10;\r\n    //\u8BBE\u7F6E\u8349\u76AE\u6700\u5927\u8349\u91CF\r\n    public cellMaxGrassNum = 1000;\r\n    //\u8BBE\u7F6E\u8349\u91CF\u7684\u7EA7\u6570\r\n    public cellMipmapByDistance = 10;\r\n    //\u88C1\u526A\u6700\u8FD1\u8DDD\u79BB\r\n    public DrawDistance = 150;\r\n    //\u662F\u5426\u5F00\u542F\u8349\u5730\u5206\u7EA7\u4F18\u5316\r\n    public enableLevelDraw = true;\r\n    //\u6BCF\u964D\u4F4E\u4E00\u4E2A\u7B49\u7EA7\u8349\u91CF\u51CF\u5C11\u767E\u5206\u6BD4\r\n    public subGrassByLevel = 0.1;\r\n\r\n\r\n    /**\u88C1\u526A\u540E\u51B3\u5B9A \u6E32\u67D3\u8349\u5730\u6570\u76EE */\r\n    public drawGrassCellNums:number;\r\n    /**\u6E32\u67D3\u7EA7\u522B\u8349\u576A\u961F\u5217 */\r\n    private drawGrassCellLeverlArray:Array<{[key:number]:number}>;\r\n    /**\u6E32\u67D3\u7EA7\u522B\u8349\u576A\u6E32\u67D3\u4E2A\u6570 */\r\n    private drawGrassLevelNums:Array<number>;\r\n    /**\u8349\u76AEMap*/\r\n    private grassMap:Array<GrassCellInfo> = [];\r\n\r\n    //\u66F4\u65B0\u6570\u636E\r\n    public dataArrayBuffer:Float32Array;\r\n    //\u66F4\u65B0\u7ED8\u753B\u4E2A\u6570\r\n    public drawArrayLength:number = 0;\r\n    //buffer\u6750\u8D28\u7BA1\u7406\u5668\r\n    public glassRender:GlassRender;\r\n\r\n    /**\r\n     * \u8349\u576A\u6E32\u67D3\u7BA1\u7406\r\n     */\r\n    constructor(camera:Laya.Camera){\r\n        this.drawGrassCellLeverlArray = [];\r\n        this.drawGrassCellLeverlArray.length = this.cellMipmapByDistance;\r\n        for (let index = 0; index < this.cellMipmapByDistance; index++) {\r\n          this.drawGrassCellLeverlArray[index] = [];\r\n        }\r\n        this.drawGrassLevelNums = [];\r\n        this.drawGrassLevelNums.length = this.cellMipmapByDistance;\r\n        this.dataArrayBuffer = new Float32Array(this.instanceCount*3);\r\n\r\n        this.glassRender = new GlassRender(this,camera);\r\n    }\r\n\r\n\tset enable(value: boolean) {\r\n\t\tif(value)\r\n            this.glassRender.addCommandBuffer();\r\n        else\r\n            this.glassRender.removeCommandBuffer();\r\n\t}\r\n\r\n    /**\r\n     * \u8349\u76AE\u88C1\u526A\r\n     */\r\n    frustumCulling(camera:Laya.Camera){\r\n       //\u7B49\u7EA7\u6E32\u67D3\u6E05\u7406\r\n        for(let j = 0;j<this.drawGrassLevelNums.length;j++){\r\n            this.drawGrassLevelNums[j] = 0;\r\n        }\r\n        this.drawGrassCellNums = 0;\r\n        let distance =this.DrawDistance;\r\n        let levelDistance = this.DrawDistance/this.cellMipmapByDistance;\r\n        let boundFrustum = camera.boundFrustum;\r\n        let cameraPos = camera.transform.position;\r\n        for(let i = 0,n = this.grassMap.length;i<n;i++){\r\n            let grasscell = this.grassMap[i];\r\n            let grassDistance = Laya.Vector3.distance(grasscell.privotPos,cameraPos)\r\n            if(grassDistance<distance){\r\n                //TODO\u4F18\u5316\r\n                if(boundFrustum.intersects(grasscell.bound)){\r\n                    if(this.enableLevelDraw){\r\n                        let leval = Math.floor(grassDistance/levelDistance);\r\n                        grasscell.setDrawLevel(leval*this.subGrassByLevel);\r\n                        this.drawGrassCellLeverlArray[leval] ||  (this.drawGrassCellLeverlArray[leval]={});\r\n                        //@ts-ignore\r\n                        this.drawGrassCellLeverlArray[leval][this.drawGrassLevelNums[leval]]= i; \r\n                        //@ts-ignore\r\n                        this.drawGrassLevelNums[leval] += 1;\r\n                    }\r\n                    else{\r\n                        grasscell.setDrawLevel(0);\r\n                        this.drawGrassCellLeverlArray[0][this.drawGrassLevelNums[0]]= i; \r\n                        //@ts-ignore\r\n                        this.drawGrassLevelNums[0] += 1;\r\n                    }\r\n                    this.drawGrassCellNums++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \u589E\u52A0\u8349\u576A\u5757\r\n     */\r\n    addGrassCell(grassPrivot:Laya.Vector3){\r\n        let grassCell = new GrassCellInfo(this.cellMaxGrassNum,this.grassCellsize,grassPrivot);\r\n        this.grassMap.push(grassCell);\r\n    }\r\n\r\n    /**\r\n     * \u5220\u9664\u8349\u576A\u5757\r\n     */\r\n    removeGrassCell(grassCell:GrassCellInfo){\r\n        let index = this.grassMap.indexOf(grassCell);\r\n        let lastIndex = this.grassMap.length - 1;\r\n        this.grassMap[index] = this.grassMap[lastIndex];\r\n        this.grassMap.length = lastIndex;\r\n    }\r\n\r\n    update(caemra:Laya.Camera){\r\n        //\u6839\u636E\u8DDD\u79BB\u6392\u5E8F\u66F4\u65B0 \u6700\u540E\u6E32\u67D3\r\n        this.frustumCulling(caemra);\r\n        let offset = 0;\r\n        for(let i = 0,n = this.drawGrassLevelNums.length;i<n;i++){\r\n            let drawnums = this.drawGrassLevelNums[i];\r\n            var array = this.drawGrassCellLeverlArray[i];\r\n            for(var j = 0;j<drawnums;j++){\r\n                offset =this.grassMap[array[j]].setGrassCellData(this.dataArrayBuffer,offset);\r\n            }\r\n        }\r\n        this.drawArrayLength = offset/3;\r\n        this.glassRender.changeDrawNums();\r\n    }\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\nimport { GrassRenderManager } from \"./grassDemo/GrassRenderManager\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d5231def-e006-48c3-9255-c53a9d98e2db', '../src/3D/Advance/GrassDemo.ts')\r\nexport class GrassDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\tgrassManager:GrassRenderManager;\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n\t\tthis.initScene();\r\n\t\t//\u6E32\u67D3\u8349\r\n\t\tthis.grassManager = new GrassRenderManager(this.camera);\r\n\t\tvar grasssize = this.grassManager.grassCellsize;\r\n\r\n\t\tfor (let x = -100; x < 100; x+=grasssize) {\r\n\t\t\tfor (let z = -100; z < 100; z+=grasssize) {\r\n\t\t\t\tthis.grassManager.addGrassCell(new Vector3(x,0,z));\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthis.grassManager.enable = true;\r\n\r\n\t\tLaya.timer.loop(1,this,this.update,[this.camera]);\r\n\t}\r\n\tupdate(camera:Camera){\r\n\t\tthis.grassManager.update(camera);\r\n\t}\r\n\r\n\tinitScene(){\r\n\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u6E05\u9664\u6807\u8BC6\u4E3A\u5929\u7A7A\u76D2(\u8FD9\u4E2A\u53C2\u6570\u5FC5\u987B\u8BBE\u7F6E\u4E3ACLEARFLAG_SKY\uFF0C\u5426\u5219\u65E0\u6CD5\u4F7F\u7528\u5929\u7A7A\u76D2)\r\n\t\tthis.camera.clearColor = new Laya.Color(0.5, 1.0, 0.5);\r\n\t\tthis.camera.transform.position = new Vector3( -45.56605299366802, 7.79715240971953,9.329663960933718);\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Laya.Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n    }\r\n\r\n\t\r\n}", "/*Laya.LayaEnv.beforeInit = function(config: Laya.IStageConfig) {\r\n    //\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u5728Laya.init\u524D\u8C03\u7528\r\n    console.log(\"before init\");\r\n    //\u8FD9\u91CC\u53EF\u4EE5\u5BF9config\u4EE5\u53CALaya.Config\u3001Laya.Config3D\u8FDB\u884C\u81EA\u5B9A\u4E49\u7684\u4FEE\u6539\r\n    Laya.Config.isAlpha =true;       \r\n}*/\r\n\r\nimport { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\nimport SpriteUtils = Laya.SpriteUtils;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('f0a5c24b-f6a4-4272-a7a2-ad8ea4dd8cdf', '../src/3D/Advance/Laya3DCombineHtml.ts')\r\nexport class Laya3DCombineHtml extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.DirectionLightCom)\r\n    private directionLight: Laya.DirectionLightCom;\r\n\r\n    private div:any;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\t\t\r\n        //\u9700\u8981\u5728 Laya.LayaEnv.beforeInit \u4E2D\u63D0\u524D\u8C03\u7528 Laya.Config.isAlpha =true;\r\n        super.base(this.camera);\r\n\r\n        this.div = document.createElement('div');\r\n\t\tthis.div.innerHTML = '<h1 style=\\'color: red;\\'>\u6B64\u5185\u5BB9\u6765\u6E90\u4E8EHTML\u7F51\u9875, \u53EF\u76F4\u63A5\u5728html\u4EE3\u7801\u4E2D\u4E66\u5199 - h1\u6807\u7B7E</h1>';\r\n        this.div.style = \"position:absolute;z-order:99\";\r\n\t\tdocument.body.appendChild(this.div);\r\n\r\n        if( Index.curPage )\r\n            SpriteUtils.fitDOMElementInArea(this.div, this.box2D, Index.pagePos.x, Index.pagePos.y, this.pageWidth, this.pageHeight);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.5, 1));\r\n\t\tthis.camera.transform.rotationEuler = (new Vector3(-15, 0, 0));\r\n\r\n\t\tthis.directionLight.color = new Laya.Color(1, 1, 1, 1);\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then(res=>{\r\n            this.scene.addChild(res.create());\r\n        });\r\n\t}\r\n\r\n    onDestroy(): void {\r\n        document.body.removeChild(this.div as Node);\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('9e38f354-1eda-4e06-8ff9-e6cc6f2e7b02', '../src/3D/Advance/ReflectionProbe.ts')\r\nexport class ReflectionProbe extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    \r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\t\t\r\n        super.base(this.camera);\r\n\t\t\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport InputManager = Laya.InputManager;\r\nimport Image = Laya.Image;\r\nimport Handler = Laya.Handler;\r\nimport Color = Laya.Color;\r\nimport Sprite = Laya.Sprite;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Texture = Laya.Texture;\r\nimport Keyboard = Laya.Keyboard;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('b1a8ad5f-4f94-4a9e-a459-06d520ac09f3', '../src/3D/Advance/Scene2DPlayer3D.ts')\r\nexport class Scene2DPlayer3D extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate orthographicPos: Vector3 = new Vector3(0, 0, 0);\r\n\t/** \u5F53\u524D\u6240\u5904\u7684\u65CB\u8F6C\u65B9\u4F4D */\r\n\tprivate _rotation: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate rotationW: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate rotationS: Vector3 = new Vector3(0, 180, 0);\r\n\tprivate rotationA: Vector3 = new Vector3(0, 90, 0);\r\n\tprivate rotationD: Vector3 = new Vector3(0, -90, 0);\r\n\t\r\n\tprivate sp3Role: Sprite3D = new Sprite3D();\r\n\r\n\tprivate spRole: Sprite = new Sprite();\r\n\t/** \u62D6\u5C3E\u7684\u8282\u70B9\u7CBE\u7075 */\r\n\tprivate spTrail: Sprite = new Sprite();\r\n\t/** \u62D6\u5C3E\u7684\u5F53\u524D\u8F6C\u5411 */\r\n\tprivate turnLeft: boolean = true;\r\n \r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.create2D();\r\n\r\n\t\t//\u7531\u4E8E2D\u4E0E3D\u6DF7\u5408\uFF0C\u8981\u6D89\u53CA\u5230\u5C4F\u5E55\u9002\u914D\u540E\u7684\u50CF\u7D20\u6570\u503C\u8F6C\u6362\uFF0C\u6700\u597D\u5EF6\u8FDF\u51E0\u5E27\uFF0C\u4FDD\u969C\u5C4F\u5E55\u9002\u914D\u503C\u6B63\u786E\u540E\u518D\u6267\u884C\u76F8\u5173\u903B\u8F91\u3002\u5982\u679C\u662F\u7EE7\u627F\u4E86\u5F15\u64CE\u7684Script\uFF0C\u53EF\u4EE5\u4E0D\u7528\u5EF6\u8FDF\uFF0C\u76F4\u63A5\u5199\u5230onStart\u751F\u547D\u5468\u671F\u91CC\u5373\u53EF\r\n\t\tLaya.timer.frameOnce(5, this, () => {\r\n\t\t\tthis.sp3ToTexture(\"resources/res/threeDimen/skinModel/dude/dude.lh\", this.spRole, 2, true);\r\n\t\t\tthis.spRole.pos(285, 50);\r\n\t\t\tthis.sp3ToTexture(\"resources/res/threeDimen/trail/Cube.lh\", this.spTrail, 3);\r\n\t\t\tthis.spTrail.pos(100, 100);\r\n\t\t});\r\n\r\n\t\t//\u6BCF\u5E27\u5FAA\u73AF\r\n\t\tLaya.timer.frameLoop(1, this, this.onKeyDown);\r\n\r\n\t}\r\n\r\n\t/** \u521B\u5EFA2D\u76F8\u5173 */\r\n\tcreate2D(): void {\r\n\t\t//\u521B\u5EFA\u4E00\u4E2Aimage\u7EC4\u4EF6\u4F5C\u4E3A2D\u573A\u666F\u7684\u80CC\u666F\u56FE\r\n\t\tlet sceneBackGround: Image = new Image(\"resources/res/threeDimen/secne.jpg\");\r\n\t\tsceneBackGround.scale(0.5,0.5);\r\n\t\t//\u6DFB\u52A0\u5230\u821E\u53F0\u4E0A\r\n\t\tthis.owner.addChild(sceneBackGround);\r\n\r\n\t\t//\u6DFB\u52A02D\u7CBE\u7075\uFF0C\r\n\t\tsceneBackGround.addChild(this.spRole);\r\n\t\tsceneBackGround.addChild(this.spTrail);\r\n\r\n\t\t//\u6DFB\u52A0\u64CD\u4F5C\u63D0\u793A\u7684\u6587\u672C\r\n\t\tlet _label = new Label();\r\n\t\tthis.owner.addChild(_label);\r\n\t\t_label.text = \"\u70B9\u51FB\u5C4F\u5E55\u540E\uFF0C\u4F7F\u7528\u952E\u76D8 WSAD \u53EF\u4EE5\u63A7\u5236\u524D\u540E\u5DE6\u53F3\u79FB\u52A8\";\r\n\t\t_label.font = \"SimHei\";\r\n\t\t_label.fontSize = 25;\r\n\t\t_label.color = \"#FFFFFF\";\r\n\t\t_label.top = 10;\r\n\t\t_label.align = \"center\";\r\n\t\t_label.x = 300;\r\n\t}\r\n\r\n\t/** \u52A0\u8F7D3D\u7CBE\u7075\u753B\u52302D Texture\u4E0A \r\n\t * @param lh \u6A21\u578B\u7684\u5B57\u7B26\u4E32\u8DEF\u5F84\r\n\t * @param sp 2D\u7CBE\u7075\u8282\u70B9\uFF0C\u7528\u4E8E\u753B3D\u7684texture\r\n\t * @param layer \u624B\u52A8\u6307\u5B9A\u5C42ID\r\n\t * @param isRole \u662F\u5426\u662F\u53EF\u4EE5\u88AB\u63A7\u5236\u7684\u4E3B\u89D2\r\n\t*/\r\n\tsp3ToTexture(lh: string, sp: Sprite, layer: number, isRole: boolean = false): void {\r\n\t\t//\u52A0\u8F7D\u6A21\u578B\uFF0C\u5E76\u5728\u52A0\u8F7D\u5B8C\u4E4B\u540E\u7684\u56DE\u8C03\u51FD\u6570\u91CC\u5904\u7406\u903B\u8F91\r\n\t\tSprite3D.load(lh, Handler.create(this, (sp3: Sprite3D): void => {\r\n\t\t\t//\u628A\u52A0\u8F7D\u5B8C\u76843D\u7CBE\u7075\u6DFB\u52A0\u52303D\u573A\u666F\r\n\t\t\tthis.scene.addChild(sp3);\r\n\r\n\t\t\t//\u521B\u5EFA\u4E00\u4E2A3D\u6444\u50CF\u673A\r\n\t\t\tvar _camera: Camera = new Camera(0, 0.1, 1000);\r\n\t\t\tthis.scene.addChild(_camera);\r\n\t\t\t//\u8C03\u6574\u6444\u50CF\u673A\u89D2\u5EA6\r\n\t\t\t_camera.transform.rotationEuler = new Vector3(-45, 0, 0);\r\n\r\n\t\t\t//\u8BBE\u7F6E\u6B63\u4EA4\u76F8\u673A\u6A21\u5F0F\r\n\t\t\t_camera.orthographic = true;\r\n\t\t\t//\u6B63\u4EA4\u6295\u5F71\u5782\u76F4\u77E9\u9635\u5C3A\u5BF8\r\n\t\t\t_camera.orthographicVerticalSize = 10;\r\n\t\t\t_camera.clearColor = new Color(0, 0, 0, 0);\r\n\t\t\t//\u8F6C\u63622D\u5C4F\u5E55\u5750\u6807\u7CFB\u7EDF\u52303D\u6B63\u4EA4\u6295\u5F71\u4E0B\u7684\u5750\u6807\u7CFB\u7EDF\r\n\t\t\t_camera.convertScreenCoordToOrthographicCoord(new Vector3(800, 500, 0), this.orthographicPos);\r\n\t\t\tsp3.transform.position = this.orthographicPos;\r\n\t\t\tconsole.log(sp3.transform.position);\r\n\t\t\t//\u521D\u59CB\u5316\u7CBE\u7075\u7F29\u653E\u6BD4\u4F8B\r\n\t\t\tsp3.transform.localScale = new Vector3(1, 1, 1);\r\n\r\n\t\t\t//\u5982\u679C\u6709\u591A\u4E2A3D\u9700\u8981\u5206\u522B\u663E\u793A\u63A7\u5236\uFF0C\u6E05\u9664\u522B\u7684\u5C42\uFF0C\u7528\u4E8E\u6BCF\u4E00\u4E2A\u5C42\u53EA\u663E\u793A\u4E00\u4E2A\uFF0C\u53EA\u6709\u4E00\u4E2A\u7684\u8BDD\uFF0C\u53EF\u4EE5\u4E0D\u4F7F\u7528\u5C42\r\n\t\t\t_camera.removeAllLayers();\r\n\t\t\t//\u6DFB\u52A0\u4E00\u4E2A\u6444\u50CF\u673A\u5C42\r\n\t\t\t_camera.addLayer(layer);\r\n\t\t\t//\u4E00\u5B9A\u8981\u7ED9\u5BF9\u5E94\u7684\u6E32\u67D3\u5BF9\u8C61\u8282\u70B9\u8BBE\u7F6E\u5C42\u4E0E\u6444\u50CF\u673A\u4E00\u6837\u7684\u5C42\uFF0C\u5982\u679C\u4E0D\u6E05\u695A\u662F\u54EA\u4E2A\u8282\u70B9\uFF0C\u5C31\u5199\u4E2A\u5FAA\u73AF\uFF0C\u628A\u6240\u6709\u8282\u70B9\u90FD\u904D\u5386\u8BBE\u7F6E\u4E00\u4E0B\uFF0C\u5426\u5219\u4F1A\u5F71\u54CD\u663E\u793A\u7ED3\u679C\r\n\t\t\t(<Sprite3D>sp3.getChildAt(0).getChildAt(0)).layer = layer;\r\n\r\n\t\t\t//\u628A3D\u753B\u5230512\u5BBD\u9AD8\u7684\u7EB9\u7406\u4E0A\uFF0C\u518D\u6DFB\u52A0\u5230\u6444\u50CF\u673A\u7684\u76EE\u6807\u7EB9\u7406\uFF0C\u5F62\u6210\u52A8\u6001\u7ED1\u5B9A(\u4E00\u4E2A\u6444\u50CF\u673A\u53EA\u80FD\u7ED1\u4E00\u4E2A\uFF0C\u8981\u7ED1\u591A\u4E2A\u5C31\u8981\u521B\u5EFA\u591A\u4E2A\u6444\u50CF\u673A)\r\n\t\t\t_camera.renderTarget = new RenderTexture(512, 512, RenderTargetFormat.R16G16B16A16, RenderTargetFormat.DEPTHSTENCIL_24_8, false, 4);\r\n\t\t\t//\u518D\u5C06\u79BB\u5C4F3D\u753B\u52302D\u8282\u70B9\u4E0A\uFF0C\u81F3\u6B64\uFF0C\u5C31\u5B8C\u6210\u628A3D\u753B\u52302D\u7684\u57FA\u7840\u6E32\u67D3\u6D41\u7A0B\r\n\t\t\tsp.texture = new Texture(_camera.renderTarget);\r\n\r\n\t\t\t//\u6839\u636E\u53C2\u6570\u51B3\u5B9A\u662F\u5426\u8981\u63A7\u5236\u54EA\u4E2A\u8282\u70B9\r\n\t\t\tisRole && (this.sp3Role = sp3);\r\n\t\t}));\r\n\t}\r\n\r\n\t/** \u5728\u6BCF\u5E27\u7684\u5FAA\u73AF\u91CC\u5E27\u542C\u952E\u76D8\u4E8B\u4EF6\u5E76\u4F5C\u51FA\u5BF9\u5E94\u7684\u64CD\u4F5C\u903B\u8F91 */\r\n\tonKeyDown(): void {\r\n\t\t//\u8C03\u6574\u62D6\u5C3E\u8F6C\u5411\r\n\t\tif (this.spTrail.x < 20 && this.turnLeft) this.turnLeft = false;\r\n\t\telse if (this.spTrail.x > (this.pageWidth - 300) && !(this.turnLeft)) this.turnLeft = true;\r\n\t\t//\u63A7\u5236\u62D6\u5C3E\u7684\u81EA\u52A8\u79FB\u52A8\r\n\t\tif (this.turnLeft) this.spTrail.x -= 1;\r\n\t\telse this.spTrail.x += 1;\r\n\r\n\t\tif (InputManager.hasKeyDown(Keyboard.W)) {\r\n\t\t\tthis.spRole.y -= 1;\r\n\t\t\tthis.rotateRole(this.rotationW);\r\n\t\t} else if (InputManager.hasKeyDown(Keyboard.S)) {\r\n\t\t\tthis.spRole.y += 1;\r\n\t\t\tthis.rotateRole(this.rotationS);\r\n\t\t} else if (InputManager.hasKeyDown(Keyboard.A)) {\r\n\t\t\tthis.spRole.x -= 1;\r\n\t\t\tthis.rotateRole(this.rotationA);\r\n\t\t} else if (InputManager.hasKeyDown(Keyboard.D)) {\r\n\t\t\tthis.spRole.x += 1;\r\n\t\t\tthis.rotateRole(this.rotationD);\r\n\t\t}\r\n\t}\r\n\r\n\t/** \u6539\u53D8\u89D2\u8272\u7684\u671D\u5411 \r\n\t * @param r Vector3\u65CB\u8F6C\u503C\r\n\t */\r\n\tprivate rotateRole(r: Vector3): void {\r\n\t\tif (r === this._rotation) return;\r\n\t\t//\u6309\u4E16\u754C\u5750\u6807\u6539\u53D8\u5230\u6307\u5B9A\u7684\u65B9\u4F4D\r\n\t\tthis.sp3Role.transform.rotationEuler = r;\r\n\t\t//\u7EAA\u5F55\u5F53\u524D\u65B9\u4F4D\uFF0C\u907F\u514D\u91CD\u590D\u6539\u53D8\r\n\t\tthis._rotation = r;\r\n\t}\r\n\r\n\t\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('4980a528-7cac-4b04-8b52-e276f98d4dc2', '../src/3D/Advance/Secne3DPlayer2D.ts')\r\nexport class Secne3DPlayer2D extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private layaMonkey3D:Laya.Sprite3D;\r\n    private layaMonkey2D:Laya.Image;\r\n    private _position:Laya.Vector3 = new Laya.Vector3();\r\n    private _outPos:Laya.Vector4 = new Laya.Vector4();\r\n    private scaleDelta:number = 0;\r\n    private clientScaleX = 0;\r\n    private clientScaleY = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.clientScaleY = Laya.stage.clientScaleX;\r\n        this.clientScaleX = Laya.stage.clientScaleY;\r\n\r\n        this.camera.transform.position = new Laya.Vector3(0, 0.75, 1.2);\r\n        this.camera.transform.rotationEuler = new Laya.Vector3( -30, 0, 0);\r\n        \r\n        \r\n        Laya.loader.load(\"resources/res/threeDimen/staticModel/grid/plane.lh\").then( (res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t} )\r\n    }\r\n\r\n    public onComplete(res: any): void {\r\n        \r\n        //\u52A0\u8F7D\u4E09\u7EF4\u5730\u9762\r\n        var grid = this.scene.addChild(res.create()) as Laya.Sprite3D;\r\n        this.layaMonkey2D = this.owner.addChild(new Laya.Image(\"resources/res/threeDimen/monkey.png\")) as Laya.Image;\r\n        this.layaMonkey2D.anchorX = 0.5;\r\n        this.layaMonkey2D.scale(0.5,0.5);\r\n        Laya.timer.frameLoop(1, this, this.animate);\r\n    }\r\n\r\n    private animate(): void {\r\n        this._position.x = Math.sin(this.scaleDelta += 0.01);\r\n        //\u8F6C\u6362\u5750\u6807\r\n        this.camera.viewport.project(this._position, this.camera.projectionViewMatrix, this._outPos);\r\n\r\n        let x = 0;\r\n        let y = 0;\r\n\r\n        // console.log(this._outPos.x,this._outPos.y);\r\n        //\u8D4B\u503C\u7ED92D        \r\n        if( Index.curPage && Laya.Browser.onPC)\r\n        {\r\n            x = this._outPos.x * Index.pageWidth / Laya.Browser.clientWidth;\r\n            y = this._outPos.y * Index.pageHeight / Laya.Browser.clientHeight;\r\n        }\r\n        else\r\n        {\r\n            x = this._outPos.x / this.clientScaleX;\r\n            y = this._outPos.y / this.clientScaleY;\r\n        }\r\n\r\n        // console.log(x, y);\r\n        // console.log(this.clientScaleX,this.clientScaleY);\r\n        this.layaMonkey2D.pos(x, y);\r\n    }\r\n \r\n}", "#define SHADER_NAME SeparableSSSGasFS\r\nconst int StepRange = 3;\r\nconst int SamplerNum = 17;\r\nuniform vec4 u_kernel[SamplerNum];\r\n#include \"Color.glsl\";\r\n\r\n//uv\r\nvarying vec2 v_Texcoord0;\r\n\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_texture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\n\r\nvec4 Sample17Nums(vec2 finalStep,vec4 colorBlurred,float depthM,vec4 colorM){\r\n      for (int i = 1; i < SamplerNum; i++) {\r\n        // Fetch color and depth for current sample:\r\n        vec2 offset = v_Texcoord0 + u_kernel[i].a * finalStep;\r\n        vec4 color = sampleMainTex(u_MainTex, offset);\r\n\r\n            // // If the difference in depth is huge, we lerp color back to \"colorM\"://\u6DF1\u5EA6\u5DEE\u5F02\u8FC7\u5927 \u6211\u4EEC\u628A\u989C\u8272\u8FD8\u539F\u4E3A\u539F\u8272\r\n             float depth = texture2D(u_depthTex, offset).r;\r\n             float s = clamp(300.0 * abs(depthM - depth),0.0,1.0);\r\n            color.rgb = mix(color.rgb, colorM.rgb, s);\r\n\r\n        // Accumulate:\r\n        colorBlurred.rgb += u_kernel[i].rgb * color.rgb;\r\n       \r\n    }\r\n     return colorBlurred;\r\n}\r\n\r\n\r\nvoid main()\r\n{\r\n    vec4 colorM = texture2D(u_MainTex,v_Texcoord0);\r\n\r\n    //   if (initStencil) // (Checked in compile time, it's optimized away)\u5982\u679C\u6A21\u5177\u7F13\u51B2\u533A\u4E0D\u53EF\u7528\uFF0C\u8BF7\u521D\u59CB\u5316\u8BE5\u7F13\u51B2\u533A\uFF1A\r\n    //     if (SSSS_STREGTH_SOURCE == 0.0) discard;\r\n\r\n    float depthM = texture2D(u_depthTex,v_Texcoord0).r;\r\n    //\u8BA1\u7B97\u968F\u7740depth\u7684\u53D8\u5316ssswidth\u7684\u6BD4\u4F8B\r\n    float scale = u_distanceToProjectionWindow/depthM;\r\n    //\u8BA1\u7B97\u50CF\u7D20\u91C7\u6837\u6B65\u957F\r\n    vec2 finalStep = u_sssWidth *scale* u_blurDir;\r\n    finalStep *=colorM.a* 0.2;\r\n\r\n    vec4 colorBlurred = colorM;\r\n\r\n    colorBlurred.rgb*=u_kernel[0].rgb;\r\n    colorBlurred = Sample17Nums(finalStep,colorBlurred,depthM,colorM);\r\n    //\u7D2F\u8BA1\u5176\u4ED6\u91C7\u6837\r\n    //   for (int i = 1; i < SSSS_N_SAMPLES; i++) {\r\n    //     // Fetch color and depth for current sample:\r\n    //     float2 offset = texcoord + kernel[i].a * finalStep;\r\n    //     float4 color = SSSSSample(colorTex, offset);\r\n\r\n    //     #if SSSS_FOLLOW_SURFACE == 1\r\n    //     // If the difference in depth is huge, we lerp color back to \"colorM\":\r\n    //     float depth = SSSSSample(depthTex, offset).r;\r\n    //     float s = SSSSSaturate(300.0f * distanceToProjectionWindow *\r\n    //                            sssWidth * abs(depthM - depth));\r\n    //     color.rgb = SSSSLerp(color.rgb, colorM.rgb, s);\r\n    //     #endif\r\n\r\n    //     // Accumulate:\r\n    //     colorBlurred.rgb += kernel[i].rgb * color.rgb;\r\n    // }\r\n    gl_FragColor = colorBlurred;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n}\r\n\r\n", "#define SHADER_NAME SeparableSSSGasVS\r\n#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\t\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}", "\r\nimport SeprableSSSFS from \"../shader/SeparableSSS_GasBlur.fs\";\r\nimport SeprableSSSVS from \"../shader/SeparableSSS_GasBlur.vs\";\r\n\r\nimport Material = Laya.Material;\r\nimport ShaderDataType = Laya.ShaderDataType;\r\nimport BaseTexture = Laya.BaseTexture;\r\nimport Vector3 = Laya.Vector3;\r\nimport Shader3D = Laya.Shader3D;\r\nimport RenderState = Laya.RenderState;\r\nimport SubShader = Laya.SubShader;\r\nimport VertexMesh = Laya.VertexMesh;\r\nimport Vector4 = Laya.Vector4;\r\nimport Vector2 = Laya.Vector2;\r\nimport MathUtils3D = Laya.MathUtils3D;\r\n\r\n\r\nexport class SeparableSSS_BlitMaterial extends Material {\r\n\r\n\tstatic SHADERVALUE_COLORTEX: number;\r\n\tstatic SHADERVALUE_DEPTHTEX: number;\r\n\tstatic SHADERVALUE_BLURDIR: number;\r\n\tstatic SHADERVALUE_SSSWIDTH: number;\r\n\tstatic SHADERVALUE_DISTANCETOPROJECTIONWINDOW: number;\r\n\tstatic SHADERVALUE_KENEL: number;\r\n\r\n\tstatic SHADERDEFINE_SAMPLE_HIGH: any;\r\n\tstatic init() {\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_COLORTEX = Shader3D.propertyNameToID(\"u_MainTex\");\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_DEPTHTEX = Shader3D.propertyNameToID(\"u_depthTex\");\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_BLURDIR = Shader3D.propertyNameToID(\"u_blurDir\");\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_SSSWIDTH = Shader3D.propertyNameToID(\"u_sssWidth\");\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_DISTANCETOPROJECTIONWINDOW = Shader3D.propertyNameToID(\"u_distanceToProjectionWindow\");\r\n\t\tSeparableSSS_BlitMaterial.SHADERVALUE_KENEL = Shader3D.propertyNameToID(\"u_kernel\");\r\n\r\n\t\tvar attributeMap: { [name: string]: [number, ShaderDataType] } = {\r\n\t\t\t'a_PositionTexcoord': [VertexMesh.MESH_POSITION0, ShaderDataType.Vector4]\r\n\t\t};\r\n\t\tvar uniformMap: any  = {\r\n\t\t\t\"u_MainTex\": ShaderDataType.Texture2D,\r\n\t\t\t\"u_depthTex\": ShaderDataType.Texture2D,\r\n\t\t\t\"u_blurDir\": ShaderDataType.Vector2,\r\n\t\t\t\"u_sssWidth\": ShaderDataType.Float,\r\n\t\t\t\"u_distanceToProjectionWindow\": ShaderDataType.Float,\r\n\t\t};\r\n\t\tvar shader: Shader3D = Shader3D.add(\"SeparableSSS\", true, true);\r\n\t\tvar subShader: SubShader = new SubShader(attributeMap, uniformMap);\r\n\t\tshader.addSubShader(subShader);\r\n\t\tvar shaderpass = subShader.addShaderPass(SeprableSSSVS, SeprableSSSFS);\r\n\t\tvar renderState = shaderpass.renderState;\r\n\t\trenderState = shaderpass.renderState;\r\n\t\trenderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n\t\trenderState.depthWrite = false;\r\n\t\trenderState.cull = RenderState.CULL_NONE;\r\n\t\trenderState.blend = RenderState.BLEND_DISABLE;\r\n\t}\r\n\r\n\tprivate _fallOff: Vector3;\r\n\tprivate _strength: Vector3;\r\n\tprivate _nSampler: number;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.setShaderName(\"SeparableSSS\");\r\n\t\tthis._fallOff = new Vector3(1.0, 0.37, 0.3);\r\n\t\tthis._strength = new Vector3(0.48, 0.41, 0.28);\r\n\t\tthis._nSampler = 17;\r\n\t\tthis.sssWidth = 0.0012;\r\n\t\tthis.kenel = this.calculateKernel(this._nSampler, this._strength, this._fallOff);\r\n\t}\r\n\r\n\t/**\r\n\t * \u8BBE\u7F6Ediffuse\u5149\u7167\u56FE\u7247\r\n\t */\r\n\tset colorTex(value: BaseTexture) {\r\n\t\tthis.shaderData.setTexture(SeparableSSS_BlitMaterial.SHADERVALUE_COLORTEX, value);\r\n\r\n\t}\r\n\r\n\t//\u6A21\u7CCA\u91C7\u6837\u65B9\u5411  \u4E00\u822C\u662Fhorizontal\u4E00\u6B21 vertical\u4E00\u6B21\r\n\tset blurDir(value: Vector2) {\r\n\t\tthis.shaderData.setVector2(SeparableSSS_BlitMaterial.SHADERVALUE_BLURDIR, value);\r\n\t}\r\n\r\n\t//\u6DF1\u5EA6\u8D34\u56FE\r\n\tset depthTex(value: BaseTexture) {\r\n\t\tthis.shaderData.setTexture(SeparableSSS_BlitMaterial.SHADERVALUE_DEPTHTEX, value);\r\n\t}\r\n\t//\u91C7\u6837\u5BBD\u5EA6,\u9650\u5236\u518D0-0.025\r\n\tset sssWidth(value: number) {\r\n\t\tvalue = Math.max(value, 0);\r\n\t\tvalue = Math.min(value, 0.025);\r\n\t\tthis.shaderData.setNumber(SeparableSSS_BlitMaterial.SHADERVALUE_SSSWIDTH, value);\r\n\t}\r\n\r\n\t//\u8BBE\u7F6E\u6838\u7B97\u6CD5\u53D8\u91CF\r\n\tset kenel(value: Vector4[]) {\r\n\t\tlet shaderval: Float32Array = new Float32Array(value.length * 4);\r\n\t\tfor (let i = 0, n = value.length; i < n; i++) {\r\n\t\t\tlet ind = i * 4;\r\n\t\t\tshaderval[ind] = value[i].x;\r\n\t\t\tshaderval[ind + 1] = value[i].y;\r\n\t\t\tshaderval[ind + 2] = value[i].z;\r\n\t\t\tshaderval[ind + 3] = value[i].w;\r\n\t\t}\r\n\t\tthis.shaderData.setBuffer(SeparableSSS_BlitMaterial.SHADERVALUE_KENEL, shaderval);\r\n\t}\r\n\r\n\t//\u8870\u51CF\r\n\tset falloff(value: Vector3) {\r\n\t\t//@ts-ignore\r\n\t\tVector3.max(value, Vector3.ZERO, value);\r\n\t\t//@ts-ignore\r\n\t\tVector3.min(value, Vector3.ONE, value);\r\n\t\tthis._fallOff = value;\r\n\t\tthis.kenel = this.calculateKernel(this._nSampler, this._fallOff, this._strength);\r\n\t}\r\n\r\n\t//\u5F3A\u5EA6\r\n\tset strength(value: Vector3) {\r\n\t\t//@ts-ignore\r\n\t\tVector3.max(value, Vector3.ZERO, value);\r\n\t\t//@ts-ignore\r\n\t\tVector3.min(value, Vector3.ONE, value);\r\n\t\tthis._strength = value;\r\n\t\tthis.kenel = this.calculateKernel(this._nSampler, this._fallOff, this._strength);\r\n\t}\r\n\r\n\t//\u91C7\u6837\u6570\r\n\tset nSamples(value: number) {\r\n\t\tthis._nSampler = value;\r\n\t\tthis.kenel = this.calculateKernel(this._nSampler, this._fallOff, this._strength);\r\n\t}\r\n\r\n\t//camera\u7684view\u89D2\u5EA6\r\n\tset cameraFiledOfView(value: number) {\r\n\t\tlet distanceToProject = 1.0 / Math.tan(0.5 * value * MathUtils3D.Deg2Rad);\r\n\t\tthis._shaderValues.setNumber(SeparableSSS_BlitMaterial.SHADERVALUE_DISTANCETOPROJECTIONWINDOW, distanceToProject);\r\n\t}\r\n\r\n\t/**\r\n\t * @internal  \u8BA1\u7B97\u9AD8\u5EA6\u6A21\u62DF\u8FD1\u4F3C\u7684\u6838\u7B97\u6CD5\u51FD\u6570\r\n\t * @param nSamples \r\n\t * @param strength \r\n\t * @param falloff \r\n\t */\r\n\tprivate calculateKernel(nSamples: number, strength: Vector3, falloff: Vector3): Array<Vector4> {\r\n\t\tlet range = nSamples > 20 ? 3.0 : 2.0;\r\n\t\tlet exponent = 2.0;//\u6307\u6570\r\n\t\tlet Kernel: Array<Vector4> = new Array<Vector4>(nSamples);\r\n\t\t//caculate offset\u8BA1\u7B97\u504F\u79FB\r\n\t\tlet step = 2.0 * range / (nSamples - 1);\r\n\t\tfor (let i = 0; i < nSamples; i++) {\r\n\t\t\tlet o = -range + i * step;\r\n\t\t\tlet sign = o < 0.0 ? -1.0 : 1.0;\r\n\t\t\tKernel[i] = new Vector4();\r\n\t\t\tKernel[i].w = range * sign * Math.abs(Math.pow(o, exponent)) / Math.pow(range, exponent);\r\n\t\t}\r\n\r\n\t\t//caculate weights\u8BA1\u7B97\u6743\u91CD\r\n\t\tfor (let i = 0; i < nSamples; i++) {\r\n\t\t\tlet w0 = i > 0 ? Math.abs(Kernel[i].w - Kernel[i - 1].w) : 0.0;\r\n\t\t\tlet w1 = i < nSamples - 1 ? Math.abs(Kernel[i].w - Kernel[i + 1].w) : 0.0;\r\n\t\t\tlet area = (w0 + w1) / 2.0;\r\n\t\t\tlet t: Vector3 = this.prefile(Kernel[i].w, falloff);\r\n\t\t\tVector3.scale(t, area, t);\r\n\t\t\tKernel[i].x = t.x;\r\n\t\t\tKernel[i].y = t.y;\r\n\t\t\tKernel[i].z = t.z;\r\n\t\t}\r\n\r\n\t\tlet t = Kernel[Math.floor(nSamples / 2)];\r\n\t\tfor (var i = Math.floor(nSamples / 2); i > 0; i--) {\r\n\t\t\tKernel[i] = Kernel[i - 1];\r\n\t\t}\r\n\t\tKernel[0] = t;\r\n\r\n\t\tlet sum = new Vector3(0.0, 0.0, 0.0);\r\n\t\t//Calculate the sum of the weights, we will need to normalize them below:\r\n\t\tfor (let i = 0; i < nSamples; i++) {\r\n\t\t\t//Vector3.add(sum,nSamples[i],sum);\r\n\t\t\tsum.x += Kernel[i].x;\r\n\t\t\tsum.y += Kernel[i].y;\r\n\t\t\tsum.z += Kernel[i].z;\r\n\t\t}\r\n\r\n\t\t//Normalize the weights\r\n\t\tfor (let i = 0; i < nSamples; i++) {\r\n\t\t\tKernel[i].x /= sum.x;\r\n\t\t\tKernel[i].y /= sum.y;\r\n\t\t\tKernel[i].z /= sum.z;\r\n\t\t}\r\n\r\n\t\t// Tweak them using the desired strength. The first one is:\r\n\t\t//     lerp(1.0, kernel[0].rgb, strength)\r\n\t\tKernel[0].x = (1.0 - strength.x) + strength.x * Kernel[0].x;\r\n\t\tKernel[0].y = (1.0 - strength.y) + strength.y * Kernel[0].y;\r\n\t\tKernel[0].z = (1.0 - strength.z) + strength.z * Kernel[0].z;\r\n\r\n\t\tfor (let i = 1; i < nSamples; i++) {\r\n\t\t\tKernel[i].x *= strength.x;\r\n\t\t\tKernel[i].y *= strength.y;\r\n\t\t\tKernel[i].z *= strength.z;\r\n\t\t}\r\n\r\n\t\treturn Kernel;\r\n\t}\r\n\r\n\t/**\r\n\t * @internal\r\n\t * @param r \r\n\t * @param falloff \r\n\t */\r\n\tprefile(r: number, falloff: Vector3): Vector3 {\r\n\t\t//\u6211\u4EEC\u5C06[2007]\u4E2D\u5B9A\u4E49\u7684\u539F\u59CB\u76AE\u80A4\u8F6E\u5ED3\u7684\u7EA2\u8272\u901A\u9053\u7528\u4E8E\u6240\u6709\u4E09\u4E2A\u901A\u9053\u3002\u6211\u4EEC\u6CE8\u610F\u5230\u5B83\u53EF\u4EE5\u7528\u4E8E\u7EFF\u8272\u548C\u84DD\u8272\u901A\u9053\uFF08\u4F7F\u7528\u8870\u51CF\u53C2\u6570\u7F29\u653E\uFF09\uFF0C\u800C\u4E0D\u4F1A\u5F15\u5165\u660E\u663E\u7684\u5DEE\u5F02\uFF0C\u5E76\u5141\u8BB8\u5BF9\u8F6E\u5ED3\u8FDB\u884C\u5B8C\u5168\u63A7\u5236\u3002\r\n\t\t//0.100 * gaussian(0.0484, r) +\r\n\t\t//0.118 * gaussian( 0.187, r) +\r\n\t\t//0.113 * gaussian( 0.567, r) +\r\n\t\t//0.358 * gaussian(  1.99, r) +\r\n\t\t//0.078 * gaussian(  7.41, r);\r\n\t\t//\u628AVector3\u53D8\u4E3AArray\r\n\t\tlet falloffArray: Array<number> = [falloff.x, falloff.y, falloff.z];\r\n\r\n\t\tlet v1 = this.gaussian(0.0484, r, falloffArray);\r\n\t\tVector3.scale(v1, 0.100, v1);\r\n\r\n\t\tlet v2 = this.gaussian(0.187, r, falloffArray);\r\n\t\tVector3.scale(v2, 0.118, v2);\r\n\r\n\t\tlet v3 = this.gaussian(0.567, r, falloffArray);\r\n\t\tVector3.scale(v3, 0.113, v3);\r\n\r\n\t\tlet v4 = this.gaussian(1.99, r, falloffArray);\r\n\t\tVector3.scale(v4, 0.358, v4);\r\n\r\n\t\tlet v5 = this.gaussian(7.41, r, falloffArray);\r\n\t\tVector3.scale(v5, 0.078, v5);\r\n\r\n\t\tlet vec3 = new Vector3(v1.x + v2.x + v3.x + v4.x + v5.x,\r\n\t\t\tv1.y + v2.y + v3.y + v4.y + v5.y,\r\n\t\t\tv1.z + v2.z + v3.z + v4.z + v5.z);\r\n\t\treturn vec3;\r\n\t}\r\n\r\n\t/**\r\n\t * \u9AD8\u65AF\u51FD\u6570\r\n\t * @param variance \r\n\t * @param r \r\n\t * @param falloff \r\n\t */\r\n\tgaussian(variance: number, r: number, falloff: Array<number>): Vector3 {\r\n\t\t//\u6211\u4EEC\u4F7F\u7528\u8870\u51CF\u6765\u8C03\u6574\u8F6E\u5ED3\u7684\u5F62\u72B6\u3002\u8F83\u5927\u7684\u8870\u51CF\u4F7F\u5F62\u72B6\u66F4\u5BBD\uFF0C\u800C\u8F83\u5C0F\u7684\u8870\u51CF\u4F7F\u5F62\u72B6\u66F4\u7BAD\u5934\u3002\r\n\r\n\t\tlet g = new Vector3();\r\n\t\tlet gg = new Array<number>();\r\n\t\tfor (let i = 0; i < 3; i++) {\r\n\t\t\tlet rr = r / (falloff[i] + 0.001);\r\n\t\t\tgg[i] = Math.exp((-(rr * rr)) / (2.0 * variance)) / (2.0 * 3.14 * variance);\r\n\t\t}\r\n\t\tg.setValue(gg[0], gg[1], gg[2]);\r\n\t\treturn g;\r\n\t}\r\n}", "#define SHADER_NAME SeparableSSSRenderVS\r\n#include \"Camera.glsl\";\r\n#include \"VertexCommon.glsl\";\r\n#include \"Sprite3DVertex.glsl\";\r\n\r\nvarying vec2 v_Texcoord0;\r\nvarying vec4 v_ScreenTexcoord;\r\n\r\nvoid main() {\r\n\tVertex vertex;\r\n\tgetVertexParams(vertex);\r\n\tmat4 worldMat = getWorldMatrix();\r\n\tvec3 positionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\r\n\tgl_Position = getPositionCS(positionWS);\r\n\tgl_Position= remapPositionZ(gl_Position);\r\n\tv_Texcoord0= transformUV(a_Texcoord0, u_TilingOffset);\r\n\t//v_ScreenTexcoord =vec2((gl_Position.x/gl_Position.w+1.0)*0.5, (gl_Position.y/gl_Position.w+1.0)*0.5);\r\n\tv_ScreenTexcoord = gl_Position*0.5;\r\n\tv_ScreenTexcoord.xy = vec2(v_ScreenTexcoord.x,v_ScreenTexcoord.y)+v_ScreenTexcoord.w;\r\n\tv_ScreenTexcoord.zw = gl_Position.zw;\r\n}", "#define SHADER_NAME SeparableSSSRenderFS\r\n#include \"Color.glsl\";\r\nvarying vec2 v_Texcoord0;\r\nvarying vec4 v_ScreenTexcoord;\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_sssssDiffuseTexture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\nvoid main()\r\n{\r\n\tvec4 color;\r\n\tcolor =sampleMainTex(sssssDiffuseTexture,v_ScreenTexcoord.xy/v_ScreenTexcoord.w)+texture2D(sssssSpecularTexture, v_ScreenTexcoord.xy/v_ScreenTexcoord.w);\r\n\r\n\tgl_FragColor = color;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n}\r\n\r\n", "import SSSSRenderVS from \"./../shader/SeparableSSS_Render.vs\";\r\nimport SSSSRenderFS from \"./../shader/SeparableSSS_Render.fs\";\r\n\r\nimport Material = Laya.Material;\r\nimport ShaderDataType = Laya.ShaderDataType;\r\nimport BaseTexture = Laya.BaseTexture;\r\nimport Vector3 = Laya.Vector3;\r\nimport Shader3D = Laya.Shader3D;\r\nimport RenderState = Laya.RenderState;\r\nimport SubShader = Laya.SubShader;\r\nimport VertexMesh = Laya.VertexMesh;\r\nimport Vector4 = Laya.Vector4;\r\nimport Vector2 = Laya.Vector2;\r\nimport MathUtils3D = Laya.MathUtils3D;\r\n\r\nexport class SeparableSSSRenderMaterial extends Material {\r\n\r\n    static SSSSDIFUSETEX: number;\r\n    static SSSSSPECULARTEX: number;\r\n    static TILINGOFFSET: number;\r\n\r\n    static init() {\r\n        SeparableSSSRenderMaterial.SSSSDIFUSETEX = Shader3D.propertyNameToID(\"sssssDiffuseTexture\");\r\n        SeparableSSSRenderMaterial.SSSSSPECULARTEX = Shader3D.propertyNameToID(\"sssssSpecularTexture\");\r\n        SeparableSSSRenderMaterial.TILINGOFFSET = Shader3D.propertyNameToID(\"u_TilingOffset\");\r\n        var shader: Shader3D = Shader3D.add(\"SeparableRender\", false, true);\r\n        var attributeMap: any = {\r\n            'a_Position': [VertexMesh.MESH_POSITION0, ShaderDataType.Vector4],\r\n\t\t\t'a_Normal': [VertexMesh.MESH_NORMAL0, ShaderDataType.Vector3],\r\n\t\t\t'a_Texcoord0': [VertexMesh.MESH_TEXTURECOORDINATE0, ShaderDataType.Vector2],\r\n\t\t\t'a_Tangent0': [VertexMesh.MESH_TANGENT0, ShaderDataType.Vector4],\r\n        };\r\n\r\n        var uniformMap: any = {\r\n            'sssssDiffuseTexture': ShaderDataType.Texture2D,\r\n            'sssssSpecularTexture': ShaderDataType.Texture2D,\r\n\t\t\t'u_TilingOffset': ShaderDataType.Vector4,\r\n\t\t\t'u_MvpMatrix': ShaderDataType.Matrix4x4\r\n        };\r\n        var subShader: SubShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        subShader.addShaderPass(SSSSRenderVS, SSSSRenderFS, \"Forward\");\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n        this.setShaderName(\"SeparableRender\");\r\n        this.renderModeSet();\r\n        this._shaderValues.setVector(SeparableSSSRenderMaterial.TILINGOFFSET, new Vector4(1, 1, 0, 0));\r\n    }\r\n\r\n    //\u6E32\u67D3\u6A21\u5F0F\r\n    renderModeSet() {\r\n        this.alphaTest = false;//\u6DF1\u5EA6\u6D4B\u8BD5\u5173\u95ED\r\n        this.renderQueue = Material.RENDERQUEUE_TRANSPARENT;//\u6E32\u67D3\u987A\u5E8F\u653E\u5728\u540E\u9762\r\n        this.depthWrite = true;\r\n        this.cull = RenderState.CULL_BACK;\r\n        this.blend = RenderState.BLEND_DISABLE;\r\n        this.depthTest = RenderState.DEPTHTEST_LESS;\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport { SeparableSSS_BlitMaterial } from \"./SeparableSSSRender/Material/SeparableSSS_BlitMaterial\";\r\nimport { SeparableSSSRenderMaterial } from \"./SeparableSSSRender/Material/SeparableSSS_RenderMaterial\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport CameraEventFlags = Laya.CameraEventFlags;\r\nimport Shader3D = Laya.Shader3D;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector4 = Laya.Vector4;\r\nimport Loader = Laya.Loader;\r\nimport Button = Laya.Button;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport MeshFilter = Laya.MeshFilter;\r\nimport Camera = Laya.Camera;\r\nimport CommandBuffer = Laya.CommandBuffer;\r\nimport Mesh = Laya.Mesh;\r\nimport Viewport = Laya.Viewport;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Vector2 = Laya.Vector2;\r\nimport FilterMode = Laya.FilterMode;\r\nimport Color = Laya.Color;\r\nimport DepthTextureMode = Laya.DepthTextureMode;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('3c9bc866-29a5-4bec-a511-58ef2b18c156', '../src/3D/Advance/SeparableSSS_RenderDemo.ts')\r\nexport class SeparableSSS_RenderDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    \r\n    blinnphongCharacter:MeshSprite3D;\r\n    SSSSSCharacter:MeshSprite3D;\r\n    characterBlinnphongMaterial:BlinnPhongMaterial;\r\n    pbrCharacter:MeshSprite3D;\r\n    pbrMaterial:PBRStandardMaterial;\r\n    //testPlane\r\n    planeMat:UnlitMaterial;\r\n    sssssBlitMaterail:SeparableSSS_BlitMaterial;\r\n    sssssRenderMaterial:SeparableSSSRenderMaterial;\r\n    private changeActionButton:Button;\r\n   \r\n    //reference:https://github.com/iryoku/separable-sss \r\n    //\u6D41\u7A0B\uFF1A\u5206\u522B\u6E32\u67D3\u76AE\u80A4Mesh\u7684\u6F2B\u53CD\u5C04\u90E8\u5206\u4EE5\u53CA\u6E32\u67D3\u76AE\u80A4Mesh\u7684\u9AD8\u5149\u90E8\u5206,\u5206\u522B\u5B58\u50A8\u5728\u4E0D\u540C\u7684FrameBuffer\u4E2D\r\n    //\u8FDB\u884C\u4E24\u6B21\u6839\u636Ekenerl\u7684\u9AD8\u65AF\u91C7\u6837\u6A21\u62DF\u591A\u6781\u5B50\u5149\u7167\u6A21\u578B\r\n    //\u518D\u5C06\u9AD8\u5149\u90E8\u5206\u4E0E\u6A21\u7CCA\u597D\u7684\u5730\u65B9\u91CD\u65B0\u76F8\u52A0\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\t\r\n    onAwake(): void {\r\n\t\t\r\n        super.base(this.camera);\r\n\r\n        Shader3D.debugMode = true;\r\n        this.camera.depthTextureMode = DepthTextureMode.Depth;\r\n        SeparableSSS_BlitMaterial.init();\r\n        SeparableSSSRenderMaterial.init();\r\n        \r\n        this.sssssBlitMaterail = new SeparableSSS_BlitMaterial();\r\n        this.sssssRenderMaterial = new SeparableSSSRenderMaterial();\r\n\t\t//\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/LayaScene_separable-sss/Conventional/HeadBlinnphong.lh\").then((res)=>{\r\n\t\t\tthis.onPreLoadFinish(res);\r\n\t\t});\r\n\t}\r\n   \r\n    onPreLoadFinish(res:any){\r\n\r\n        //\u6253\u5F00depthTexture\r\n        this.blinnphongCharacter = res.create();\r\n        this.characterBlinnphongMaterial = <BlinnPhongMaterial>this.blinnphongCharacter.getComponent(MeshRenderer).sharedMaterial.clone();\r\n        //\u589E\u52A0Mesh\u8282\u70B9\r\n        let buf = this.createCommandBuffer(this.camera,this.blinnphongCharacter.getComponent(MeshFilter).sharedMesh);\r\n        this.camera.addCommandBuffer(CameraEventFlags.BeforeForwardOpaque,buf);\r\n        this.sssssBlitMaterail.cameraFiledOfView = this.camera.fieldOfView;\r\n\r\n        //\u589E\u52A0\u8282\u70B9\r\n        this.SSSSSCharacter = <MeshSprite3D>this.blinnphongCharacter.clone();\r\n        this.SSSSSCharacter.getComponent(MeshRenderer).sharedMaterial = this.sssssRenderMaterial;\r\n        this.scene.addChild(this.SSSSSCharacter);\r\n        this.scene.addChild(this.blinnphongCharacter);\r\n\r\n        this.blinnphongCharacter.active = true;\r\n        this.SSSSSCharacter.active = false;\r\n        \r\n    }\r\n\r\n    createCommandBuffer(camera:Camera,character:Mesh):CommandBuffer{\r\n        //\u8BB0\u5F55\u4E00\u4E0B\u6700\u5F00\u59CB\u7684\u6F2B\u53CD\u5C04\u989C\u8272\u548C\u9AD8\u5149\u989C\u8272\r\n        let oriColor = this.characterBlinnphongMaterial.albedoColor;\r\n        let oriSpec = this.characterBlinnphongMaterial.specularColor;\r\n\r\n        let buf: CommandBuffer = new CommandBuffer();\r\n        let viewPort: Viewport = camera.viewport;\r\n\r\n        //\u5728\u5EF6\u8FDF\u6E32\u67D3\u7BA1\u7EBF\u4E2D  \u53EF\u4EE5\u4E00\u4E0B\u628A\u4E09\u5F20\u56FE\u76F4\u63A5\u641E\u51FA\u6765\r\n        //\u5728\u6211\u4EEC\u524D\u5411\u6E32\u67D3\u7BA1\u7EBF\u4E2D  \u591A\u6D6A\u8D39\u4E86\u51E0\u6B21drawMesh\u7684\u6027\u80FD\r\n        //\u6DF1\u5EA6\u8D34\u56FE\r\n        let depthTexture = RenderTexture.createFromPool(viewPort.width, viewPort.height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.DEPTH_16, false, 1, true, true);\r\n        buf.setRenderTarget(depthTexture);\r\n        buf.clearRenderTarget(true, true, new Color(0.5, 0.5, 0.5, 1.0));\r\n        buf.drawMesh(character, this.blinnphongCharacter.transform.worldMatrix, this.characterBlinnphongMaterial, 0,0);\r\n        depthTexture = depthTexture.depthStencilTexture as RenderTexture;\r\n        //\u5C06\u6F2B\u53CD\u5C04\u548C\u9AD8\u5149\u5206\u522B\u753B\u5230\u4E24\u4E2ARenderTexture\r\n        //\u6F2B\u53CD\u5C04\u989C\u8272\r\n        let diffuseRenderTexture = RenderTexture.createFromPool(viewPort.width, viewPort.height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.DEPTH_16, false, 1, true, true);\r\n        buf.setRenderTarget(diffuseRenderTexture);\r\n        buf.clearRenderTarget(true, true, new Color(0.5, 0.5, 0.5, 1.0));\r\n        //@ts-ignore\r\n        buf.setShaderDataColor(this.characterBlinnphongMaterial.shaderData, BlinnPhongMaterial.ALBEDOCOLOR, oriColor);\r\n        //@ts-ignore\r\n        buf.setShaderDataColor(this.characterBlinnphongMaterial.shaderData, BlinnPhongMaterial.MATERIALSPECULAR, new Color(0.0, 0.0, 0.0, 0.0));\r\n        buf.drawMesh(character, this.blinnphongCharacter.transform.worldMatrix, this.characterBlinnphongMaterial, 0, 0);\r\n        // //\u9AD8\u5149\u989C\u8272\r\n        let specRrenderTexture = RenderTexture.createFromPool(viewPort.width, viewPort.height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.DEPTH_16, false, 1, true, true);\r\n        buf.setRenderTarget(specRrenderTexture);\r\n        buf.clearRenderTarget(true, true, new Color(1.0, 0.0, 0.0, 0.0));\r\n        //@ts-ignore\r\n        buf.setShaderDataColor(this.characterBlinnphongMaterial.shaderData, BlinnPhongMaterial.MATERIALSPECULAR, oriSpec);\r\n        // @ts-ignore\r\n        buf.setShaderDataColor(this.characterBlinnphongMaterial.shaderData, BlinnPhongMaterial.ALBEDOCOLOR, new Color(0.0, 0.0, 0.0, 0.0));\r\n        buf.drawMesh(character, this.blinnphongCharacter.transform.worldMatrix, this.characterBlinnphongMaterial, 0, 0);\r\n        // // \u62FF\u5230\u4E09\u5F20\u56FE\u7247\u540E\uFF0C\u5BF9diffuse\u8D34\u56FE\u8FDB\u884C\u9AD8\u65AF\u6838\u6A21\u7CCA\r\n        buf.setShaderDataTexture(this.sssssBlitMaterail.shaderData, SeparableSSS_BlitMaterial.SHADERVALUE_DEPTHTEX, depthTexture);\r\n        let blurRenderTexture = RenderTexture.createFromPool(viewPort.width, viewPort.height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.None, false, 1, false, true);\r\n        buf.setShaderDataVector2(this.sssssBlitMaterail.shaderData, SeparableSSS_BlitMaterial.SHADERVALUE_BLURDIR, new Vector2(10.0, 0.0));\r\n        buf.blitScreenQuadByMaterial(diffuseRenderTexture, blurRenderTexture, new Vector4(0, 0, 1.0, 1.0), this.sssssBlitMaterail, 0);\r\n        buf.setShaderDataVector2(this.sssssBlitMaterail.shaderData, SeparableSSS_BlitMaterial.SHADERVALUE_BLURDIR, new Vector2(0.0, 10.0));\r\n        buf.blitScreenQuadByMaterial(blurRenderTexture, diffuseRenderTexture, new Vector4(0.0, 0.0, 0.0, 0.0), this.sssssBlitMaterail, 0);\r\n        \r\n        // buf.blitScreenQuad(diffuseRenderTexture, null);\r\n\r\n        buf.setGlobalTexture(Shader3D.propertyNameToID(\"sssssDiffuseTexture\"), diffuseRenderTexture);\r\n        this.sssssRenderMaterial.shaderData.setTexture(Shader3D.propertyNameToID(\"sssssSpecularTexture\"), specRrenderTexture);\r\n        diffuseRenderTexture.filterMode = FilterMode.Point;\r\n        specRrenderTexture.filterMode = FilterMode.Point;\r\n\r\n\r\n        return buf;\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Camera = Laya.Camera;\r\nimport Vector3 = Laya.Vector3;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('44e834ee-b3dc-4126-82dd-23c7705c857f', '../src/3D/Advance/showFont.ts')\r\nexport class showFont extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private cav: any;\r\n    private plane: Laya.MeshSprite3D;\r\n    private mat: Laya.UnlitMaterial;\r\n    private texture2D: Laya.Texture2D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\t\t\r\n        super.base(this.camera);\r\n\t\tvar scene = this.scene;\r\n        var camera = this.camera;\r\n        camera.transform.position = (new Vector3(0, 0, 15));\r\n        camera.transform.rotate(new Vector3(0, 0, 0), true, false);\r\n        camera.clearColor = new Laya.Color(0.2, 0.2, 0.2, 1.0);        \r\n\r\n        //\u8BBE\u7F6E\u4E00\u4E2A\u9762\u677F\u7528\u6765\u6E32\u67D3\r\n        this.plane = new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(10, 10));\r\n        this.plane.transform.rotate(new Vector3(-90, 0, 0), true, false);\r\n        scene.addChild(this.plane);\r\n        //\u6750\u8D28\r\n        this.mat = new Laya.UnlitMaterial();\r\n        this.plane.meshRenderer.sharedMaterial = this.mat;\r\n\r\n        //\u753B\u5E03cavans\r\n        this.cav = Laya.Browser.createElement(\"canvas\");\r\n        var cxt = this.cav.getContext(\"2d\");\r\n        this.cav.width = 256;\r\n        this.cav.height = 256;\r\n        cxt.fillStyle = 'rgb(' + '132' + ',' + '240' + ',109)';\r\n        cxt.font = \"bold 50px \u5B8B\u4F53\";\r\n        cxt.textAlign = \"center\";//\u6587\u672C\u7684\u5BF9\u9F50\u65B9\u5F0F\r\n        cxt.textBaseline = \"center\";//\u6587\u672C\u76F8\u5BF9\u4E8E\u8D77\u70B9\u7684\u4F4D\u7F6E\r\n        //\u8BBE\u7F6E\u6587\u5B57,\u4F4D\u7F6E\r\n        cxt.fillText(\"LayaAir\", 100, 50, 200);//\u6709\u586B\u5145cxt.font=\"bold 60px \u5B8B\u4F53\";\r\n\r\n        cxt.strokeStyle = 'rgb(' + '200' + ',' + '125' + ',0)';\r\n        cxt.font = \"bold 40px \u9ED1\u4F53\";\r\n        cxt.strokeText(\"runtime\", 100, 100, 200);//\u53EA\u6709\u8FB9\u6846\r\n\r\n        //\u6587\u5B57\u8FB9\u6846\u7ED3\u5408\r\n        cxt.strokeStyle = 'rgb(' + '255' + ',' + '240' + ',109)';\r\n        cxt.font = \"bold 30px \u9ED1\u4F53\";\r\n        cxt.fillText(\"LayaBox\", 100, 150, 200);\r\n\r\n        cxt.strokeStyle = \"yellow\";\r\n        cxt.font = \"bold 30px \u9ED1\u4F53\";\r\n        cxt.strokeText(\"LayaBox\", 100, 150, 200);//\u53EA\u6709\u8FB9\u6846\r\n        this.texture2D = new Laya.Texture2D(256, 256, Laya.TextureFormat.R8G8B8A8, false, true, true);\r\n        this.texture2D.setImageData(this.cav, true, true);\r\n        this.mat.materialRenderMode = Laya.MaterialRenderMode.RENDERMODE_TRANSPARENT;\r\n\r\n        //\u7ED9\u6750\u8D28\u8D34\u56FE\r\n        this.mat.albedoTexture = this.texture2D;\r\n        (<Laya.BlinnPhongMaterial>this.plane.meshRenderer.sharedMaterial).cull = Laya.RenderState.CULL_NONE;\r\n        var rotate:Vector3 = new Vector3(0,0,1);\r\n        Laya.timer.frameLoop(1, this, ()=> {\r\n            this.plane.transform.rotate(rotate, true, false);\r\n        });\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Camera = Laya.Camera;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Loader = Laya.Loader;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('cb83f637-7a02-4212-b171-61f071ef5675', '../src/3D/Advance/UI3D.ts')\r\nexport class UI3D extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n        \r\n        //\u6570\u7EC4\u52A0\u8F7D\u65B9\u5F0F\r\n        var Resource:any[] = [\r\n            //\u53EF\u4EE5\u76F4\u63A5\u52A0\u8F7D\u5DF2\u7ECF\u5728IDE\u91CC\u5236\u4F5C\u597D\u7684lh\r\n            { url: \"resources/res/threeDimen/fbx/Danding.lh\", type: Loader.HIERARCHY },\r\n            { url: \"resources/res/ui/prefab/ui3d.lh\", type: Loader.HIERARCHY },\r\n            { url: \"resources/res/ui/prefab/ui3dpage.lh\", type: Loader.HIERARCHY }\r\n        ];\r\n\r\n        Laya.loader.load(Resource).then((res:any[])=> {\r\n\t\r\n\t\t\tvar dude:Laya.Sprite3D = this.scene.addChild(res[0].create()) as Laya.Sprite3D;\r\n\t\t\tdude.transform.position = new Laya.Vector3(0, 0, 0);\t\r\n            \r\n            //\u521B\u5EFA\u8840\u6761\r\n            let sprite3D = new Sprite3D();\r\n            dude.addChild(sprite3D);\r\n            let ui3dComponent: Laya.UI3D = sprite3D.addComponent(Laya.UI3D);\r\n            ui3dComponent.prefab = res[1];\r\n            ui3dComponent.renderMode = Laya.MaterialRenderMode.RENDERMODE_TRANSPARENT;\r\n            ui3dComponent.resolutionRate = 256;\r\n            ui3dComponent.billboard = true;\r\n            ui3dComponent.enableHit = false;\r\n            sprite3D.transform.localPositionY = 2.7;\r\n \r\n            //\u521B\u5EFA\u5DE6\u8FB9\u76843D UI\r\n            let sprite3DUI = new Sprite3D();\r\n            dude.addChild(sprite3DUI);\r\n            let ui3dComponent_ui: Laya.UI3D = sprite3DUI.addComponent(Laya.UI3D);\r\n            ui3dComponent_ui.prefab = res[2];\r\n            ui3dComponent_ui.renderMode = Laya.MaterialRenderMode.RENDERMODE_TRANSPARENT;\r\n            ui3dComponent_ui.resolutionRate = 256;\r\n            ui3dComponent_ui.scale = new Laya.Vector2(2,2);\r\n            ui3dComponent_ui.billboard = true;\r\n            ui3dComponent_ui.enableHit = true;\r\n            sprite3DUI.transform.position = new Laya.Vector3(-2,1.5,0);\r\n            // sprite3DUI.transform.localRotationEuler = new Laya.Vector3(0,45,0);          \r\n\t\t});\r\n\r\n\t}\r\n}\r\n\r\nclass UIScript extends Laya.Script {\r\n\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\tpublic onStart():void {\r\n        let tab :Laya.Tab = this.owner.getChildByName(\"Tab\") as Laya.Tab;\r\n        tab.selectHandler = new Laya.Handler(this, (index: number) => {\r\n            \r\n        });\r\n\t}\r\n\t\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport VideoTexture = Laya.VideoTexture;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport Camera = Laya.Camera;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport Script = Laya.Script;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Vector3 = Laya.Vector3;\r\nimport Color = Laya.Color;\r\nimport Vector4 = Laya.Vector4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6af74c14-698e-40a9-906d-f667109ae8f0', '../src/3D/Advance/VideoPlayIn3DWorld.ts')\r\nexport class VideoPlayIn3DWorld extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private videoPlane: MeshSprite3D;\r\n    private isoneVideo:boolean = false;\r\n    private index: number = 0;\r\n    private videoTexture = new VideoTexture();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        var mirrorFloor: ChinarMirrorPlane = this.camera.addComponent(ChinarMirrorPlane) as ChinarMirrorPlane;\r\n        mirrorFloor.onlyMainCamera =  this.camera;\r\n        mirrorFloor.mirrorPlane =  this.scene.getChildByName(\"reflectionPlan\") as MeshSprite3D;   \r\n\r\n        //\u589E\u52A0\u89C6\u9891\r\n        this.videoPlane = this.scene.getChildByName(\"moveclip\") as MeshSprite3D;\r\n        this.createVideo(\"resources/res/av/mov_bbb.mp4\");\r\n        super.addBottomButton( [\"\u5207\u6362ogg\",\"\u5207\u6362webm\",\"\u5207\u6362mp4\"] , this, [this.setType, this.setType, this.setType] );\r\n\r\n    }\r\n\r\n    onDestroy(): void {\r\n        this.videoTexture.pause();\r\n        this.videoTexture.destroy();        \r\n    }\r\n\r\n    private createVideo(url: string): void {\r\n        \r\n        if(!this.isoneVideo){\r\n            this.videoTexture.source = url;\r\n            this.videoTexture.play();\r\n            this.videoTexture.loop = true;\r\n    \r\n            let mat = new UnlitMaterial();\r\n            mat.albedoTexture = this.videoTexture;\r\n            this.videoPlane.getComponent(MeshRenderer).sharedMaterial = mat;\r\n            this.isoneVideo = true;\r\n        }        \r\n    }\r\n\r\n    //\u652F\u6301\u4E09\u79CD\u7C7B\u578B\u7684\u89C6\u9891\u6587\u4EF6\r\n\tsetType() {\r\n        this.isoneVideo = false;\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\tthis.createVideo(\"resources/res/av/mov_bbb.ogg\");\r\n\t\t}\r\n\t\telse if (this.index % 3 === 2) {\r\n\t\t\tthis.createVideo(\"resources/res/av/mov_bbb.webm\");\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.createVideo(\"resources/res/av/mov_bbb.mp4\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nexport class ChinarMirrorPlane extends Script {\r\n\r\n    //\u8FD9\u91CC\u7684mesh\u5FC5\u987B\u662F-5-5\u7684plane\u677F\uFF0C\u4FEE\u6539\u4E86mesh\u7684\u8BDD\u9700\u8981\u4FEE\u6539\u8FD9\u91CC\r\n    public static oriPa: Vector3 = new Vector3(5, 0, -5);\r\n    public static oriPb: Vector3 = new Vector3(-5, 0, -5);\r\n    public static oriPc: Vector3 = new Vector3(5, 0, 5);\r\n\r\n    public _mirrorPlane: MeshSprite3D;\r\n    public mainCamera: Camera;\r\n    private mirrorCamera: Camera = new Camera(); // \u955C\u50CF\u6444\u50CF\u673A\r\n\r\n    private renderTexture: RenderTexture = RenderTexture.createFromPool(1024, 1024, RenderTargetFormat.R8G8B8, RenderTargetFormat.DEPTH_16, false, 1);\r\n\r\n    public estimateViewFrustum: boolean = true;\r\n    public setNearClipPlane: boolean = true;\r\n    public nearClipDistanceOffset: number = -0.01;\r\n\r\n    private vn: Vector3 = new Vector3(); // \u5C4F\u5E55\u7684\u6CD5\u7EBF\r\n    private l: number; //\u5230\u5C4F\u5E55\u5DE6\u8FB9\u7F18\u7684\u8DDD\u79BB\r\n    private r: number; //\u5230\u5C4F\u5E55\u53F3\u8FB9\u7F18\u7684\u8DDD\u79BB\r\n    private b: number; //\u5230\u5C4F\u5E55\u4E0B\u8FB9\u7F18\u7684\u8DDD\u79BB\r\n    private t: number; //\u5230\u5C4F\u5E55\u4E0A\u8FB9\u7F18\u7684\u8DDD\u79BB\r\n    private d: number; //\u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u5C4F\u5E55\u7684\u8DDD\u79BB\r\n    private n: number; //\u955C\u50CF\u6444\u50CF\u673A\u7684\u8FD1\u526A\u5207\u9762\u7684\u8DDD\u79BB\r\n    private f: number; //\u955C\u50CF\u6444\u50CF\u673A\u7684\u8FDC\u526A\u5207\u9762\u7684\u8DDD\u79BB\r\n    private pa: Vector3 = new Vector3(); //\u4E16\u754C\u5750\u6807\u7CFB\u7684\u5DE6\u4E0B\u89D2\r\n    private pb: Vector3 = new Vector3(); //\u4E16\u754C\u5750\u6807\u7CFB\u7684\u53F3\u4E0B\u89D2\r\n    private pc: Vector3 = new Vector3(); //\u4E16\u754C\u5750\u6807\u7CFB\u7684\u5DE6\u4E0A\u89D2\r\n    private pe: Vector3 = new Vector3(); //\u955C\u50CF\u89C2\u5BDF\u89D2\u5EA6\u7684\u4E16\u754C\u5750\u6807\u4F4D\u7F6E\r\n    private va: Vector3 = new Vector3(); //\u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u5DE6\u4E0B\u89D2\r\n    private vb: Vector3 = new Vector3(); //\u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u53F3\u4E0B\u89D2\r\n    private vc: Vector3 = new Vector3(); //\u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u5DE6\u4E0A\u89D2\r\n    private vr: Vector3 = new Vector3(); //\u5C4F\u5E55\u7684\u53F3\u4FA7\u65CB\u8F6C\u8F74\r\n    private vu: Vector3 = new Vector3(); //\u5C4F\u5E55\u7684\u4E0A\u4FA7\u65CB\u8F6C\u8F74\r\n    private p: Matrix4x4 = new Matrix4x4();\r\n    private rm: Matrix4x4 = new Matrix4x4();\r\n    private tm: Matrix4x4 = new Matrix4x4();\r\n\r\n    private static tempMat: Matrix4x4 = new Matrix4x4();\r\n    private static tempV3 = new Vector3();\r\n\r\n    set mirrorPlane(value: MeshSprite3D) {\r\n        this._mirrorPlane = value;\r\n        var material: UnlitMaterial = new UnlitMaterial();\r\n        let value1:MeshSprite3D = value as MeshSprite3D;\r\n        value1.getComponent(MeshRenderer).sharedMaterial = material;\r\n        material.albedoTexture = this.renderTexture;\r\n        material.tilingOffset = new Vector4(-1, 1, 0, 0);\r\n    }\r\n\r\n    set onlyMainCamera(value: Camera) {\r\n        (value.scene as Scene3D).addChild(this.mirrorCamera);\r\n        this.mainCamera = value;\r\n    }\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onStart(): void {\r\n        //this.mirrorCamera = this.owner as Camera;'\r\n        this.mirrorCamera.renderTarget = this.renderTexture;\r\n        this.mirrorCamera.clearColor = new Color(0.0, 0.0, 0.0, 1.0);\r\n\r\n    }\r\n\r\n    onUpdate(): void {\r\n        if (this.mirrorCamera == null || this._mirrorPlane == null || this.mainCamera == null) {\r\n            return;\r\n        }\r\n        this._mirrorPlane.transform.worldMatrix.invert(ChinarMirrorPlane.tempMat);\r\n        Vector3.transformV3ToV3(this.mainCamera.transform.position, ChinarMirrorPlane.tempMat, ChinarMirrorPlane.tempV3);\r\n        ChinarMirrorPlane.tempV3.y = -ChinarMirrorPlane.tempV3.y;\r\n        Vector3.transformV3ToV3(ChinarMirrorPlane.tempV3, this._mirrorPlane.transform.worldMatrix, ChinarMirrorPlane.tempV3);\r\n        this.mirrorCamera.transform.position = ChinarMirrorPlane.tempV3;\r\n\r\n        // todo: plane \u56DB\u4E2A\u89D2\u7684\u70B9\u5750\u6807\r\n        Vector3.transformV3ToV3(ChinarMirrorPlane.oriPa, this._mirrorPlane.transform.worldMatrix, this.pa); // \u4E16\u754C\u5750\u6807\u7CFB\u7684\u5DE6\u4E0B\u89D2\r\n        Vector3.transformV3ToV3(ChinarMirrorPlane.oriPb, this._mirrorPlane.transform.worldMatrix, this.pb); // \u4E16\u754C\u5750\u6807\u7CFB\u7684\u53F3\u4E0B\u89D2\r\n        Vector3.transformV3ToV3(ChinarMirrorPlane.oriPc, this._mirrorPlane.transform.worldMatrix, this.pc); // \u4E16\u754C\u5750\u6807\u7CFB\u7684\u5DE6\u4E0A\u89D2\r\n\r\n        this.pe = this.mirrorCamera.transform.position; //\u955C\u50CF\u89C2\u5BDF\u89D2\u5EA6\u7684\u4E16\u754C\u5750\u6807\u4F4D\u7F6E\r\n        this.n = this.mirrorCamera.nearPlane; // \u955C\u50CF\u6444\u50CF\u673A\u7684\u8FD1\u526A\u5207\u9762\u7684\u8DDD\u79BB\r\n        this.f = this.mirrorCamera.farPlane; // \u955C\u50CF\u6444\u50CF\u673A\u7684\u8FDC\u526A\u5207\u9762\u7684\u8DDD\u79BB\r\n\r\n        Vector3.subtract(this.pa, this.pe, this.va); // \u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u5DE6\u4E0B\u89D2\r\n        Vector3.subtract(this.pb, this.pe, this.vb); // \u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u53F3\u4E0B\u89D2\r\n        Vector3.subtract(this.pc, this.pe, this.vc); // \u4ECE\u955C\u50CF\u6444\u50CF\u673A\u5230\u5DE6\u4E0A\u89D2\r\n        Vector3.subtract(this.pb, this.pa, this.vr); // \u5C4F\u5E55\u7684\u53F3\u4FA7\u65CB\u8F6C\u8F74\r\n        Vector3.subtract(this.pc, this.pa, this.vu); // \u5C4F\u5E55\u7684\u4E0A\u4FA7\u65CB\u8F6C\u8F74\r\n\r\n        // \u5982\u679C\u770B\u5411\u955C\u5B50\u7684\u80CC\u9762\r\n        Vector3.cross(this.va, this.vc, ChinarMirrorPlane.tempV3);\r\n        if (Vector3.dot(ChinarMirrorPlane.tempV3, this.vb) < 0.0) {\r\n            Vector3.scale(this.vu, -1, this.vu);\r\n            this.pc.cloneTo(this.pa);\r\n            Vector3.add(this.pa, this.vr, this.pb);\r\n            Vector3.add(this.pa, this.vu, this.pc);\r\n            Vector3.subtract(this.pa, this.pe, this.va);\r\n            Vector3.subtract(this.pb, this.pe, this.vb);\r\n            Vector3.subtract(this.pc, this.pe, this.vc);\r\n        }\r\n\r\n        Vector3.normalize(this.vr, this.vr);\r\n        Vector3.normalize(this.vu, this.vu);\r\n        Vector3.cross(this.vr, this.vu, ChinarMirrorPlane.tempV3);\r\n        Vector3.normalize(ChinarMirrorPlane.tempV3, this.vn);\r\n        this.d = Vector3.dot(this.va, this.vn);\r\n        if (this.setNearClipPlane) {\r\n            this.n = this.d + this.nearClipDistanceOffset;\r\n            this.mirrorCamera.nearPlane = this.n;\r\n        }\r\n\r\n        this.l = Vector3.dot(this.vr, this.va) * this.n / this.d;\r\n        this.r = Vector3.dot(this.vr, this.vb) * this.n / this.d;\r\n        this.b = Vector3.dot(this.vu, this.va) * this.n / this.d;\r\n        this.t = Vector3.dot(this.vu, this.vc) * this.n / this.d;\r\n\r\n        // \u6295\u5F71\u77E9\u9635\r\n        this.p.elements[0] = 2.0 * this.n / (this.r - this.l);\r\n        this.p.elements[4] = 0;\r\n        this.p.elements[8] = (this.r + this.l) / (this.r - this.l);\r\n        this.p.elements[12] = 0.0;\r\n\r\n        this.p.elements[1] = 0.0;\r\n        this.p.elements[5] = 2.0 * this.n / (this.t - this.b);\r\n        this.p.elements[9] = (this.t + this.b) / (this.t - this.b);\r\n        this.p.elements[13] = 0.0;\r\n\r\n        this.p.elements[2] = 0;\r\n        this.p.elements[6] = 0;\r\n        this.p.elements[10] = (this.f + this.n) / (this.n - this.f);\r\n        this.p.elements[14] = (2.0 * this.f * this.n / (this.n - this.f)) / 2;\r\n\r\n        this.p.elements[3] = 0;\r\n        this.p.elements[7] = 0;\r\n        this.p.elements[11] = -1;\r\n        this.p.elements[15] = 0;\r\n\r\n        this.p.elements[0] *= -1;\r\n        this.p.elements[5] *= -1;\r\n        this.p.elements[14] *= -1;\r\n\r\n        // \u65CB\u8F6C & \u5E73\u79FB \u77E9\u9635\r\n        this.rm.elements[0] = this.vr.x;\r\n        this.rm.elements[4] = this.vr.y;\r\n        this.rm.elements[8] = this.vr.z;\r\n        this.rm.elements[12] = this.pe.x;\r\n\r\n        this.rm.elements[1] = this.vu.x;\r\n        this.rm.elements[5] = this.vu.y;\r\n        this.rm.elements[9] = this.vu.z;\r\n        this.rm.elements[13] = this.pe.z;\r\n\r\n        this.rm.elements[2] = this.vn.x;\r\n        this.rm.elements[6] = this.vn.y;\r\n        this.rm.elements[10] = this.vn.z;\r\n        this.rm.elements[14] = this.pe.y;\r\n\r\n        this.rm.elements[3] = 0;\r\n        this.rm.elements[7] = 0;\r\n        this.rm.elements[11] = 0;\r\n        this.rm.elements[15] = 1;\r\n\r\n        this.mirrorCamera.projectionMatrix = this.p;\r\n        this.rm.invert(ChinarMirrorPlane.tempMat);\r\n        this.mirrorCamera.transform.worldMatrix = ChinarMirrorPlane.tempMat;\r\n        if (!this.estimateViewFrustum) return;\r\n\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Animator = Laya.Animator;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport Text = Laya.Text;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('9ee20e05-3a9e-495b-871d-8a273d7eb552', '../src/3D/Animation/AnimatorDemo.ts')\r\nexport class AnimatorDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate _animator: Animator;\r\n\tprivate _changeActionButton: Button;\r\n\tprivate _changeActionButton2: Button;\r\n\tprivate _PlayStopIndex: number = 0;\r\n\tprivate _curStateIndex: number = 0;\r\n\tprivate _text: Text = new Text();\r\n\tprivate _textName: Text = new Text();\r\n\tprivate _curActionName: string = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 3, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\r\n        Laya.loader.load(\"resources/res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\").then(res=>{\r\n            this.onLoadFinish(res);\r\n        });\r\n    }\r\n\r\n    private onLoadFinish(res:any): void {\r\n\r\n        //\u521D\u59CB\u5316\u89D2\u8272\u7CBE\u7075\r\n        var role: Sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n        //\u521D\u59CB\u5316\u80D6\u5B50\r\n        var pangzi: Sprite3D = (<Sprite3D>role.addChild(res.create()));\r\n        //\u83B7\u53D6\u52A8\u753B\u7EC4\u4EF6\r\n        this._animator = (<Animator>pangzi.getChildAt(0).getComponent(Animator));\r\n        //\u521B\u5EFA\u52A8\u4F5C\u72B6\u6001\r\n        var state1: AnimatorState = new AnimatorState();\r\n        //\u52A8\u4F5C\u540D\u79F0\r\n        state1.name = \"hello\";\r\n        //\u52A8\u4F5C\u64AD\u653E\u8D77\u59CB\u65F6\u95F4\r\n        state1.clipStart = 296 / 581;\r\n        //\u52A8\u4F5C\u64AD\u653E\u7ED3\u675F\u65F6\u95F4\r\n        state1.clipEnd = 346 / 581;\r\n        //\u8BBE\u7F6E\u52A8\u4F5C\r\n        state1.clip = this._animator.getDefaultState().clip;\r\n        //\u5FAA\u73AF\u6A21\u5F0F\r\n        state1.clip.islooping = true;\r\n        //\u4E3A\u52A8\u753B\u72B6\u6001\u6DFB\u52A0\u52A8\u753B\u72B6\u6001\u811A\u672C\r\n        state1.addScript(CustomAnimatorStateScript);\r\n        //\u4E3A\u52A8\u753B\u7EC4\u4EF6\u6DFB\u52A0\u4E00\u4E2A\u52A8\u4F5C\u72B6\u6001\r\n        this._animator.getControllerLayer(0).addState(state1);\r\n\r\n        var state2: AnimatorState = new AnimatorState();\r\n        state2.name = \"ride\";\r\n        state2.clipStart = 0 / 581;\r\n        state2.clipEnd = 33 / 581;\r\n        state2.clip = this._animator.getDefaultState().clip;\r\n        state2.clip.islooping = true;\r\n        state2.addScript(CustomAnimatorStateScript);\r\n        this._animator.getControllerLayer(0).addState(state2);\r\n        this._animator.speed = 0.0;\r\n\r\n        var state3: AnimatorState = new AnimatorState();\r\n        state3.name = \"\u52A8\u4F5C\u72B6\u6001\u4E09\";\r\n        state3.clipStart = 34 / 581;\r\n        state3.clipEnd = 100 / 581;\r\n        state3.clip = this._animator.getDefaultState().clip;\r\n        state3.clip.islooping = true;\r\n        state3.addScript(CustomAnimatorStateScript);\r\n        this._animator.getControllerLayer(0).addState(state3);\r\n        this._animator.speed = 0.0;\r\n\r\n        var state4: AnimatorState = new AnimatorState();\r\n        state4.name = \"\u52A8\u4F5C\u72B6\u6001\u56DB\";\r\n        state4.clipStart = 101 / 581;\r\n        state4.clipEnd = 200 / 581;\r\n        state4.clip = this._animator.getDefaultState().clip;\r\n        state4.clip.islooping = true;\r\n        state4.addScript(CustomAnimatorStateScript);\r\n        this._animator.getControllerLayer(0).addState(state4);\r\n        this._animator.speed = 0.0;\r\n\r\n        var state5: AnimatorState = new AnimatorState();\r\n        state5.name = \"\u52A8\u4F5C\u72B6\u6001\u4E94\"; \r\n        state5.clipStart = 201 / 581;\r\n        state5.clipEnd = 295 / 581;\r\n        state5.clip = this._animator.getDefaultState().clip;\r\n        state5.clip.islooping = true;\r\n        state5.addScript(CustomAnimatorStateScript);\r\n        this._animator.getControllerLayer(0).addState(state5);\r\n        this._animator.speed = 0.0;\r\n\r\n        var state6: AnimatorState = new AnimatorState();\r\n        state6.name = \"\u52A8\u4F5C\u72B6\u6001\u516D\";\r\n        state6.clipStart = 345 / 581;\r\n        state6.clipEnd = 581 / 581;\r\n        state6.clip = this._animator.getDefaultState().clip;\r\n        state6.clip.islooping = true;\r\n        state6.addScript(CustomAnimatorStateScript);\r\n        this._animator.getControllerLayer(0).addState(state6);\r\n        this._animator.speed = 0.0;\r\n\r\n        this.loadUI();\r\n\t\tthis._textName.width = 300;\r\n\t\tthis._textName.align = \"center\";\r\n\t\tthis._textName.x = ( this.pageWidth - this._textName.width) / 2;\r\n        this._textName.y = 10;\r\n        this._textName.overflow = Text.HIDDEN;\r\n        this._textName.color = \"#FFFFFF\";\r\n        this._textName.fontSize = 16;\r\n        this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\";\r\n        this.owner.addChild(this._textName);\r\n\r\n\t\tthis._text.width = 300;\r\n\t\tthis._text.align = \"center\";\r\n\t\tthis._text.x = ( this.pageWidth - this._text.width) / 2;\r\n        this._text.y = 50;\r\n        this._text.overflow = Text.HIDDEN;\r\n        this._text.color = \"#FFFFFF\";\r\n        this._text.fontSize = 16;\r\n        this._text.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u8FDB\u5EA6\uFF1A\";\r\n        this.owner.addChild(this._text);\r\n\r\n        Laya.timer.frameLoop(1, this, this.onFrame);\r\n\r\n        this._curActionName = \"hello\";\r\n        this._animator.play(this._curActionName);\r\n    }\r\n\r\n    private loadUI(): void {\r\n\r\n        this._changeActionButton = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u64AD\u653E\u52A8\u753B\")));\r\n        this._changeActionButton.size(150, 40);\r\n        this._changeActionButton.labelSize = 16;\r\n        this._changeActionButton.sizeGrid = \"21,83,22,76\";\r\n        this._changeActionButton.stateNum = 1;\r\n        this._changeActionButton.labelColors = \"#ffffff\";\r\n        this._changeActionButton.pos(this.pageWidth / 2 - this._changeActionButton.width - 10, this.pageHeight - 50);\r\n        this._changeActionButton.on(Event.CLICK, this, this.stypeFun0);\r\n\r\n        this._changeActionButton2 = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u5207\u6362\u52A8\u4F5C\u72B6\u6001\")));\r\n        this._changeActionButton2.size(150, 40);\r\n        this._changeActionButton2.labelSize = 16;\r\n        this._changeActionButton2.sizeGrid = \"21,83,22,76\";\r\n        this._changeActionButton2.stateNum = 1;\r\n        this._changeActionButton2.labelColors = \"#ffffff\";\r\n        this._changeActionButton2.pos(this.pageWidth / 2 + 10, this.pageHeight - 50);\r\n        this._changeActionButton2.on(Event.CLICK, this, this.stypeFun1);\r\n\r\n    }\r\n\r\n    stypeFun0(label:string = \"\u64AD\u653E\u52A8\u753B\")\r\n    {\r\n        this._PlayStopIndex++;\r\n        if (this._PlayStopIndex % 3 == 0) {\r\n            this._changeActionButton.label = \"\u64AD\u653E\u52A8\u753B\";\r\n            //\u6682\u505C\u52A8\u753B\r\n            this._animator.speed = 0.0;\r\n        } else if (this._PlayStopIndex % 3 == 1) {\r\n            this._changeActionButton.label = \"\u52A8\u753B\u878D\u5408\";\r\n            this._animator.play(this._curActionName);\r\n            //\u64AD\u653E\u52A8\u753B\r\n            this._animator.speed = 1.0;\r\n        } else if (this._PlayStopIndex % 3 == 2) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.crossFade(this._curActionName , 0.5);\r\n            //\u64AD\u653E\u52A8\u753B\r\n            this._animator.speed = 1.0;\r\n        }\r\n        label = this._changeActionButton.label;\r\n    }\r\n\r\n    stypeFun1(curStateIndex:any =0)\r\n    {\r\n        this._curStateIndex++;\r\n        if (this._curStateIndex % 6 == 0) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"hello\");\r\n            this._curActionName = \"hello\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"hello\";\r\n            this._animator.speed = 1.0;\r\n        } else if (this._curStateIndex % 6 == 1) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"ride\");\r\n            this._curActionName = \"ride\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"ride\";\r\n            this._animator.speed = 1.0;\r\n        } else if (this._curStateIndex % 6 == 2) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"\u52A8\u4F5C\u72B6\u6001\u4E09\");\r\n            this._curActionName = \"\u52A8\u4F5C\u72B6\u6001\u4E09\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"\u52A8\u4F5C\u72B6\u6001\u4E09\";\r\n            this._animator.speed = 1.0;\r\n        } else if (this._curStateIndex % 6 == 3) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"\u52A8\u4F5C\u72B6\u6001\u56DB\");\r\n            this._curActionName = \"\u52A8\u4F5C\u72B6\u6001\u56DB\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"\u52A8\u4F5C\u72B6\u6001\u56DB\";\r\n            this._animator.speed = 1.0;\r\n        } else if (this._curStateIndex % 6 == 4) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"\u52A8\u4F5C\u72B6\u6001\u4E94\");\r\n            this._curActionName = \"\u52A8\u4F5C\u72B6\u6001\u4E94\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"\u52A8\u4F5C\u72B6\u6001\u4E94\";\r\n            this._animator.speed = 1.0;\r\n        } else if (this._curStateIndex % 6 == 5) {\r\n            this._changeActionButton.label = \"\u6682\u505C\u52A8\u753B\";\r\n            this._animator.speed = 0.0;\r\n            this._animator.play(\"\u52A8\u4F5C\u72B6\u6001\u516D\");\r\n            this._curActionName = \"\u52A8\u4F5C\u72B6\u6001\u516D\";\r\n            this._textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"\u52A8\u4F5C\u72B6\u6001\u516D\";\r\n            this._animator.speed = 1.0;\r\n        }\r\n        curStateIndex = this._curStateIndex;\r\n    }\r\n\r\n    private onFrame(): void {\r\n        if (this._animator.speed > 0.0) {\r\n            //\u83B7\u53D6\u64AD\u653E\u72B6\u6001\u7684\u5F52\u4E00\u5316\u65F6\u95F4\r\n            var curNormalizedTime: string = this._animator.getControllerLayer(0).getCurrentPlayState().normalizedTime.toFixed(2);\r\n            this._text.text = \"\u5F53\u524D\u52A8\u753B\u72B6\u6001\u8FDB\u5EA6\uFF1A\" + curNormalizedTime;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport class CustomAnimatorStateScript extends Laya.AnimatorStateScript {\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t/**\r\n\t* \u52A8\u753B\u72B6\u6001\u5F00\u59CB\u65F6\u6267\u884C\u3002\r\n\t*/\r\n\tonStateEnter(): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u5F00\u59CB\u64AD\u653E\u4E86\");\r\n\t}\r\n\t/**\r\n\t * \u52A8\u753B\u72B6\u6001\u8FD0\u884C\u4E2D\r\n\t * @param normalizeTime 0-1\u52A8\u753B\u64AD\u653E\u72B6\u6001\r\n\t */\r\n\tonStateUpdate(normalizeTime: number): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u72B6\u6001\u66F4\u65B0\u4E86\");\r\n\t}\r\n\r\n\t/**\r\n\t* \u52A8\u753B\u72B6\u6001\u9000\u51FA\u65F6\u6267\u884C\u3002\r\n\t*/\r\n\tonStateExit(): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u9000\u51FA\u4E86\");\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Animator = Laya.Animator;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport Text = Laya.Text;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport AnimatorStateScript = Laya.AnimatorStateScript;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0f5c142a-89d9-42b4-802b-9e4b33f5a077', '../src/3D/Animation/AnimatorStateScriptDemo.ts')\r\nexport class AnimatorStateScriptDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate animator: Animator;\r\n\tprivate curStateIndex: number = 0;\r\n\tprivate text: Text = new Text();\r\n\tprivate textName: Text = new Text();\r\n\tprivate curActionName: string = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 3, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\r\n        Laya.loader.load(\"resources/res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\").then(res=>{\r\n            this.onLoadFinish(res);\r\n        });\r\n\t}\r\n\r\n\tprivate onLoadFinish(res:any): void {\r\n\r\n\t\t//\u521D\u59CB\u5316\u89D2\u8272\u7CBE\u7075\r\n\t\tvar role: Sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\t\t//\u521D\u59CB\u5316\u80D6\u5B50\r\n\t\tvar pangzi: Sprite3D = (<Sprite3D>role.addChild(res.create()));\r\n\t\t//\u83B7\u53D6\u52A8\u753B\u7EC4\u4EF6\r\n\t\tthis.animator = (<Animator>pangzi.getChildAt(0).getComponent(Animator));\r\n\t\t//\u521B\u5EFA\u52A8\u4F5C\u72B6\u6001\r\n\t\tvar state1: AnimatorState = new AnimatorState();\r\n\t\t//\u52A8\u4F5C\u540D\u79F0\r\n\t\tstate1.name = \"hello\";\r\n\t\t//\u52A8\u4F5C\u64AD\u653E\u8D77\u59CB\u65F6\u95F4\r\n\t\tstate1.clipStart = 296 / 581;\r\n\t\t//\u52A8\u4F5C\u64AD\u653E\u7ED3\u675F\u65F6\u95F4\r\n\t\tstate1.clipEnd = 346 / 581;\r\n\t\t//\u8BBE\u7F6E\u52A8\u4F5C\r\n\t\tstate1.clip = this.animator.getDefaultState().clip;\r\n\t\t//\u5FAA\u73AF\u6A21\u5F0F\r\n\t\tstate1.clip.islooping = true;\r\n\t\t//\u4E3A\u52A8\u753B\u72B6\u6001\u6DFB\u52A0\u52A8\u753B\u72B6\u6001\u811A\u672C\r\n\t\tvar asst1 = state1.addScript(AnimatorStateScriptTest) as AnimatorStateScriptTest;\r\n\t\tasst1.text = this.text;\r\n\t\tthis.animator.speed = 0.0;\r\n\t\t//\u4E3A\u52A8\u753B\u7EC4\u4EF6\u6DFB\u52A0\u4E00\u4E2A\u52A8\u4F5C\u72B6\u6001\r\n\t\tthis.animator.getControllerLayer(0).addState(state1);\r\n\r\n\t\tvar state2: AnimatorState = new AnimatorState();\r\n\t\tstate2.name = \"ride\";\r\n\t\tstate2.clipStart = 0 / 581;\r\n\t\tstate2.clipEnd = 33 / 581;\r\n\t\tstate2.clip = this.animator.getDefaultState().clip;\r\n\t\tstate2.clip.islooping = true;\r\n\t\tvar asst2 = state2.addScript(AnimatorStateScriptTest) as AnimatorStateScriptTest;\r\n\t\tasst2.text = this.text;\r\n\t\tthis.animator.getControllerLayer(0).addState(state2);\r\n\r\n\r\n\t\tvar state3: AnimatorState = new AnimatorState();\r\n\t\tstate3.name = \"\u52A8\u4F5C\u72B6\u6001\u4E09\";\r\n\t\tstate3.clipStart = 34 / 581;\r\n\t\tstate3.clipEnd = 100 / 581;\r\n\t\tstate3.clip = this.animator.getDefaultState().clip;\r\n\t\tstate3.clip.islooping = true;\r\n\t\tthis.animator.speed = 0.0;\r\n\t\tvar asst3 = state3.addScript(AnimatorStateScriptTest) as AnimatorStateScriptTest;\r\n\t\tasst3.text = this.text;\r\n\t\tthis.animator.getControllerLayer(0).addState(state3);\r\n\r\n\t\tthis.textName.width = 300;\r\n\t\tthis.textName.align = \"center\";\r\n\t\tthis.textName.x = ( this.pageWidth - this.textName.width) / 2;\r\n\t\tthis.textName.y = 10;\r\n\t\tthis.textName.overflow = Text.HIDDEN;\r\n\t\tthis.textName.color = \"#FFFFFF\";\r\n\t\tthis.textName.fontSize = 16;\r\n\t\tthis.textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\";\r\n\t\tthis.box2D.addChild(this.textName);\r\n\r\n\t\tthis.text.width = 300;\r\n\t\tthis.text.align = \"center\";\r\n\t\tthis.text.x = ( this.pageWidth - this.text.width) / 2;\r\n        this.text.y = 50;\r\n\t\tthis.text.overflow = Text.HIDDEN;\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.fontSize = 16;\r\n\t\tthis.text.text = \"\u52A8\u753B\u72B6\u6001\uFF1A\";\r\n\t\tthis.box2D.addChild(this.text);\r\n\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u52A8\u4F5C\u72B6\u6001\",\"\u5207\u6362\u52A8\u4F5C\u72B6\u6001\",\"\u5207\u6362\u52A8\u4F5C\u72B6\u6001\"] , this, [this.change, this.change, this.change] );\r\n\t}\r\n\r\n\tchange() {\r\n\r\n\t\tthis.curStateIndex++;\r\n\t\tif (this.curStateIndex % 3 == 0) {\r\n\t\t\tthis.animator.speed = 0.0;\r\n\t\t\tthis.animator.play(\"hello\");\r\n\t\t\tthis.textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"hello\";\r\n\t\t\tthis.animator.speed = 1.0;\r\n\t\t} else if (this.curStateIndex % 3 == 1) {\r\n\t\t\tthis.animator.speed = 0.0;\r\n\t\t\tthis.animator.play(\"ride\");\r\n\t\t\tthis.textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"ride\";\r\n\t\t\tthis.animator.speed = 1.0;\r\n\t\t} else if (this.curStateIndex % 3 == 2) {\r\n\t\t\tthis.animator.speed = 0.0;\r\n\t\t\tthis.animator.play(\"\u52A8\u4F5C\u72B6\u6001\u4E09\");\r\n\t\t\tthis.textName.text = \"\u5F53\u524D\u52A8\u4F5C\u72B6\u6001\u540D\u79F0\uFF1A\" + \"\u52A8\u4F5C\u72B6\u6001\u4E09\";\r\n\t\t\tthis.animator.speed = 1.0;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nclass AnimatorStateScriptTest extends AnimatorStateScript {\r\n\t\r\n\tprivate _text: Text = null;\r\n\r\n\tget text(): Text {\r\n\t\treturn this._text;\r\n\t}\r\n\tset text(value: Text) {\r\n\t\tthis._text = value;\r\n\t}\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t/**\r\n\t * \u52A8\u753B\u72B6\u6001\u5F00\u59CB\u65F6\u6267\u884C\u3002\r\n\t */\r\n\tonStateEnter(): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u5F00\u59CB\u64AD\u653E\u4E86\");\r\n\t\tthis._text.text = \"\u52A8\u753B\u72B6\u6001\uFF1A\u52A8\u753B\u5F00\u59CB\u64AD\u653E\";\r\n\t}\r\n\r\n\t/**\r\n\t * \u52A8\u753B\u72B6\u6001\u8FD0\u884C\u4E2D\r\n\t * @param normalizeTime 0-1\u52A8\u753B\u64AD\u653E\u72B6\u6001\r\n\t */\r\n\t onStateUpdate(normalizeTime: number): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u72B6\u6001\u66F4\u65B0\u4E86\");\r\n\t\tthis._text.text = \"\u52A8\u753B\u72B6\u6001\uFF1A\u52A8\u753B\u66F4\u65B0\u4E2D\";\r\n\t}\r\n\r\n\t/**\r\n\t* \u52A8\u753B\u72B6\u6001\u9000\u51FA\u65F6\u6267\u884C\u3002\r\n\t*/\r\n\tonStateExit(): void {\r\n\t\tconsole.log(\"\u52A8\u753B\u9000\u51FA\u4E86\");\r\n\t\tthis._text.text = \"\u52A8\u753B\u72B6\u6001\uFF1A\u52A8\u753B\u5F00\u59CB\u9000\u51FA\";\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Animator = Laya.Animator;\r\nimport Quaternion = Laya.Quaternion;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nimport Handler = Laya.Handler;\r\nimport Loader = Laya.Loader;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('7eb1f365-4358-4f60-b931-30ca03f975b6', '../src/3D/Animation/BoneLinkSprite3D.ts')\r\nexport class BoneLinkSprite3D extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate role: Sprite3D;\r\n\tprivate pangzi: Sprite3D;\r\n\tprivate dragon1: Sprite3D;\r\n\tprivate dragon2: Sprite3D;\r\n\tprivate aniSprte3D1: Sprite3D;\r\n\tprivate aniSprte3D2: Sprite3D;\r\n\tprivate animator: Animator;\r\n\tprivate dragonAnimator1: Animator;\r\n\tprivate dragonAnimator2: Animator;\r\n\tprivate _dragonScale: Vector3 = new Vector3(1.5, 1.5, 1.5);\r\n\tprivate _rotation: Quaternion = new Quaternion(-0.5, -0.5, 0.5, -0.5);\r\n\tprivate _position: Vector3 = new Vector3(-0.2, 0.0, 0.0);\r\n\tprivate _scale: Vector3 = new Vector3(0.75, 0.75, 0.75);\r\n\tprivate _translate: Vector3 = new Vector3(0, 3, 5);\r\n\tprivate _rotation2: Vector3 = new Vector3(-15, 0, 0);\r\n\tprivate _forward: Vector3 = new Vector3(-1.0, -1.0, -1.0);\r\n\tprivate changeActionButton: Button;\r\n\tprivate curStateIndex: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * \u7EC4\u4EF6\u88AB\u6FC0\u6D3B\u540E\u6267\u884C\uFF0C\u6B64\u65F6\u6240\u6709\u8282\u70B9\u548C\u7EC4\u4EF6\u5747\u5DF2\u521B\u5EFA\u5B8C\u6BD5\uFF0C\u6B64\u65B9\u6CD5\u53EA\u6267\u884C\u4E00\u6B21\r\n     */\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 3, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n        \t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u6240\u6709\u8D44\u6E90\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/skinModel/BoneLinkScene/R_kl_H_001.lh\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/BoneLinkScene/R_kl_S_009.lh\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\"];\r\n\r\n\t\tLaya.loader.load(resource, Handler.create(this, this.onLoadFinish));\r\n\t}\r\n\r\n\tprivate onLoadFinish(): void {\r\n\r\n\t\t//\u521D\u59CB\u5316\u89D2\u8272\u7CBE\u7075\r\n\t\tthis.role = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n\t\t//\u521D\u59CB\u5316\u80D6\u5B50\r\n\t\tthis.pangzi = (<Sprite3D>this.role.addChild(Loader.createNodes(\"resources/res/threeDimen/skinModel/BoneLinkScene/PangZi.lh\")));\r\n\t\t//\u83B7\u53D6\u52A8\u753B\u7EC4\u4EF6\r\n\t\tthis.animator = (<Animator>this.pangzi.getChildAt(0).getComponent(Animator));\r\n\r\n\t\t//\u521B\u5EFA\u52A8\u4F5C\u72B6\u6001\r\n\t\tvar state1: AnimatorState = new AnimatorState();\r\n\t\t//\u52A8\u4F5C\u540D\u79F0\r\n\t\tstate1.name = \"hello\";\r\n\t\t//\u52A8\u4F5C\u64AD\u653E\u8D77\u59CB\u65F6\u95F4\r\n\t\tstate1.clipStart = 296 / 581;\r\n\t\t//\u52A8\u4F5C\u64AD\u653E\u7ED3\u675F\u65F6\u95F4\r\n\t\tstate1.clipEnd = 346 / 581;\r\n\t\t//\u8BBE\u7F6E\u52A8\u4F5C\r\n\t\tstate1.clip = this.animator.getDefaultState().clip;\r\n\t\t//\u8BBE\u7F6E\u52A8\u4F5C\u5FAA\u73AF\r\n\t\tstate1.clip.islooping = true;\r\n\t\t//\u4E3A\u52A8\u753B\u7EC4\u4EF6\u6DFB\u52A0\u4E00\u4E2A\u52A8\u4F5C\u72B6\u6001\r\n\t\tthis.animator.getControllerLayer(0).addState(state1);\r\n\t\t//\u64AD\u653E\u52A8\u4F5C\r\n\t\tthis.animator.play(\"hello\");\r\n\r\n\t\tvar state2: AnimatorState = new AnimatorState();\r\n\t\tstate2.name = \"ride\";\r\n\t\tstate2.clipStart = 3 / 581;\r\n\t\tstate2.clipEnd = 33 / 581;\r\n\t\tstate2.clip = this.animator.getDefaultState().clip;\r\n\t\tstate2.clip.islooping = true;\r\n\t\tthis.animator.getControllerLayer(0).addState(state2);\r\n\r\n\t\tthis.dragon1 = Loader.createNodes(\"resources/res/threeDimen/skinModel/BoneLinkScene/R_kl_H_001.lh\");\r\n\t\tthis.dragon1.transform.localScale = this._dragonScale;\r\n\t\tthis.aniSprte3D1 = (<Sprite3D>this.dragon1.getChildAt(0));\r\n\t\tthis.dragonAnimator1 = (<Animator>this.aniSprte3D1.getComponent(Animator));\r\n\r\n\t\tvar state3: AnimatorState = new AnimatorState();\r\n\t\tstate3.name = \"run\";\r\n\t\tstate3.clipStart = 50 / 644;\r\n\t\tstate3.clipEnd = 65 / 644;\r\n\t\tstate3.clip = this.dragonAnimator1.getDefaultState().clip;\r\n\t\tstate3.clip.islooping = true;\r\n\t\tthis.dragonAnimator1.getControllerLayer(0).addState(state3);\r\n\r\n\t\tthis.dragon2 = Loader.createNodes(\"resources/res/threeDimen/skinModel/BoneLinkScene/R_kl_S_009.lh\");\r\n\t\tthis.dragon2.transform.localScale = this._dragonScale;\r\n\t\tthis.aniSprte3D2 = (<Sprite3D>this.dragon2.getChildAt(0));\r\n\t\tthis.dragonAnimator2 = (<Animator>this.aniSprte3D2.getComponent(Animator));\r\n\r\n\t\tvar state4: AnimatorState = new AnimatorState();\r\n\t\tstate4.name = \"run\";\r\n\t\tstate4.clipStart = 50 / 550;\r\n\t\tstate4.clipEnd = 65 / 550;\r\n\t\tstate4.clip = this.dragonAnimator2.getDefaultState().clip;\r\n\t\tstate4.clip.islooping = true;\r\n\t\tthis.dragonAnimator2.getControllerLayer(0).addState(state4);\r\n\r\n\t\tthis.loadUI();\r\n\t}\r\n\r\n\tprivate loadUI(): void {\r\n\r\n\t\tLaya.loader.load([\"resources/image/img_btn_bg.png\"], Handler.create(this, () => {\r\n\r\n\t\t\tthis.changeActionButton = (<Button>Laya.stage.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u4E58\u9A91\u5750\u9A91\")));\r\n\t\t\tthis.changeActionButton.size(160, 40);\r\n\t\t\tthis.changeActionButton.labelBold = true;\r\n\t\t\tthis.changeActionButton.labelSize = 30;\r\n\t\t\tthis.changeActionButton.sizeGrid = \"4,4,4,4\";\r\n\t\t\tthis.changeActionButton.pos(this.pageWidth / 2 - this.changeActionButton.width/2, this.pageHeight - 100);\r\n\t\t\tthis.changeActionButton.on(Event.CLICK, this, this.stypeFun0);\r\n\r\n\t\t}));\r\n\t}\r\n\r\n\tstypeFun0(label:string = \"\u4E58\u9A91\u5750\u9A91\"): void {\r\n\r\n\t\tthis.curStateIndex++;\r\n\t\tif (this.curStateIndex % 3 == 1) {\r\n\r\n\t\t\tthis.changeActionButton.label = \"\u5207\u6362\u5750\u9A91\";\r\n\r\n\t\t\tthis.scene.addChild(this.dragon1);\r\n\t\t\tthis.aniSprte3D1.addChild(this.role);\r\n\r\n\t\t\t//\u5173\u8054\u7CBE\u7075\u8282\u70B9\u5230Avatar\u8282\u70B9\r\n\t\t\t//this.dragonAnimator1.linkSprite3DToAvatarNode(\"point\", this.role);\r\n\r\n\t\t\tthis.animator.play(\"ride\");\r\n\t\t\tthis.dragonAnimator1.play(\"run\");\r\n\r\n\t\t\tthis.pangzi.transform.localRotation = this._rotation;\r\n\t\t\tthis.pangzi.transform.localPosition = this._position;\r\n\t\t\tthis.pangzi.transform.localScale = this._scale;\r\n\t\t}\r\n\t\telse if (this.curStateIndex % 3 == 2) {\r\n\r\n\t\t\tthis.changeActionButton.label = \"\u5378\u4E0B\u5750\u9A91\";\r\n\r\n\t\t\t//\u9AA8\u9ABC\u53D6\u6D88\u5173\u8054\u8282\u70B9\r\n\t\t\t//this.dragonAnimator1.unLinkSprite3DToAvatarNode(this.role);\r\n\t\t\tthis.aniSprte3D1.removeChild(this.role);\r\n\t\t\tthis.dragon1.removeSelf();\r\n\r\n\t\t\tthis.scene.addChild(this.dragon2);\r\n\t\t\tthis.aniSprte3D2.addChild(this.role);\r\n\t\t\t//\u9AA8\u9ABC\u5173\u8054\u8282\u70B9\r\n\t\t\t//this.dragonAnimator2.linkSprite3DToAvatarNode(\"point\", this.role);\r\n\r\n\t\t\tthis.animator.play(\"ride\");\r\n\t\t\tthis.dragonAnimator2.play(\"run\");\r\n\r\n\t\t\tthis.pangzi.transform.localRotation = this._rotation;\r\n\t\t\tthis.pangzi.transform.localPosition = this._position;\r\n\t\t\tthis.pangzi.transform.localScale = this._scale;\r\n\t\t}\r\n\t\telse {\r\n\r\n\t\t\tthis.changeActionButton.label = \"\u4E58\u9A91\u5750\u9A91\";\r\n\r\n\t\t\t//\u9AA8\u9ABC\u53D6\u6D88\u5173\u8054\u8282\u70B9\r\n\t\t\t//this.dragonAnimator2.unLinkSprite3DToAvatarNode(this.role);\r\n\t\t\tthis.aniSprte3D2.removeChild(this.role);\r\n\t\t\tthis.dragon2.removeSelf();\r\n\r\n\t\t\tthis.scene.addChild(this.role);\r\n\t\t\tthis.animator.play(\"hello\");\r\n\t\t}\r\n\r\n\t\tlabel = this.changeActionButton.label;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Animator = Laya.Animator;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport AnimationClip = Laya.AnimationClip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('50c4f116-02b5-4179-8360-c8c58b502952', '../src/3D/Animation/CameraAnimation.ts')\r\nexport class CameraAnimation extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n\r\n    private _animator: Animator;\r\n    private _animatorState: AnimatorState;\r\n    private _animatorClip: AnimationClip;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        //\u83B7\u53D6\u52A8\u753B\u7EC4\u4EF6\r\n        this._animator = (<Animator>this.camera.getComponent(Animator));\r\n        //\u83B7\u53D6\u52A8\u753B\u72B6\u6001\r\n        this._animatorState = this._animator.getControllerLayer(0).getAnimatorState(\"a1\");       \r\n        //\u83B7\u53D6\u52A8\u753BClip\r\n        this._animatorClip = this._animatorState.clip;\r\n\r\n        //\u52A8\u753B\u7684\u7F16\u8F91\u8FC7\u7A0B\u5728IDE\u7684\u65F6\u95F4\u8F74\u52A8\u753B\u4E2D\u5B8C\u6210\uFF0C\u5E76\u6DFB\u52A0\u5230\u52A8\u753B\u72B6\u6001\u673A\u4E2D\uFF0C\u4EE3\u7801\u53EF\u4EE5\u5207\u6362\u52A8\u753B\r\n        console.log(this._animatorClip);        \r\n\r\n        super.addBottomButton( [\"\u5207\u6362\u52A8\u753B\",\"\u5207\u6362\u52A8\u753B\"] , this, [this.changeAnimation2, this.changeAnimation1] );\r\n\r\n        //\u52A0\u8F7D.lani\u6587\u4EF6 \r\n        Laya.loader.load(\"resources/res/threeDimen/scene/cameraDonghua/Conventional/Assets/a2.lani\").then(res=>{\r\n            let clip = res;\r\n            //\u521B\u5EFA\u52A8\u4F5C\u72B6\u6001\r\n            var state1: AnimatorState = new AnimatorState();\r\n            //\u52A8\u4F5C\u540D\u79F0\r\n            state1.name = \"a2\";\r\n            //\u8BBE\u7F6E\u52A8\u4F5C\r\n            state1.clip = clip;\r\n            //\u5FAA\u73AF\u6A21\u5F0F\r\n            state1.clip.islooping = true;\r\n            //\u4E3A\u52A8\u753B\u7EC4\u4EF6\u6DFB\u52A0\u65B0\u7684\u52A8\u4F5C\u72B6\u6001\r\n            this._animator.getControllerLayer(0).addState(state1);\r\n            \r\n        });            \r\n    }\r\n\r\n\tchangeAnimation2 (): void {\r\n\t\tthis._animator.play(\"a2\");\r\n\t}       \r\n    \r\n\tchangeAnimation1 (): void {\r\n\t\tthis._animator.play(\"a1\");\r\n\t}     \r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Camera = Laya.Camera;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Animator = Laya.Animator;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport AnimationClip = Laya.AnimationClip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('f2170105-c2c6-437f-8654-18d17eda81a1', '../src/3D/Animation/MaterialAnimation.ts')\r\nexport class MaterialAnimation extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private _animator: Animator;\r\n    private _animatorState: AnimatorState;\r\n    private _animatorClip: AnimationClip;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        //\u83B7\u5F97Sprite3D\r\n        var cube: Sprite3D = <Sprite3D>this.scene.getChildByName(\"Cube\");\r\n        //\u83B7\u53D6\u52A8\u753B\u7EC4\u4EF6\r\n        this._animator = (<Animator>cube.getComponent(Animator));\r\n        //\u83B7\u53D6\u52A8\u753B\u72B6\u6001\r\n        this._animatorState = this._animator.getControllerLayer(0).getAnimatorState(\"Color\");       \r\n        //\u83B7\u53D6\u52A8\u753BClip\r\n        this._animatorClip = this._animatorState.clip;\r\n\r\n        //\u52A8\u753B\u7684\u7F16\u8F91\u8FC7\u7A0B\u5728IDE\u7684\u65F6\u95F4\u8F74\u52A8\u753B\u4E2D\u5B8C\u6210\uFF0C\u5E76\u6DFB\u52A0\u5230\u52A8\u753B\u72B6\u6001\u673A\u4E2D\uFF0C\u4EE3\u7801\u53EF\u4EE5\u5207\u6362\u52A8\u753B\r\n        console.log(this._animatorClip);\r\n\r\n        //super.addBottomButton( [\"\u5207\u6362\u52A8\u753B\",\"\u5207\u6362\u52A8\u753B\"] , this, [this.changeAnimation, this.changeAnimation] );\r\n\r\n        //\u52A0\u8F7D.lani\u6587\u4EF6 resources\\res\\threeDimen\\materialScene\\Conventional\\Assets\\LayaAir3D\r\n        // Laya.loader.load(\"resources/res/threeDimen/materialScene/Conventional/Assets/LayaAir3D/Specular Animation.lani\").then(res=>{\r\n        //     let SpecularClip = res;\r\n        //     //\u521B\u5EFA\u52A8\u4F5C\u72B6\u6001\r\n        //     var state1: AnimatorState = new AnimatorState();\r\n        //     //\u52A8\u4F5C\u540D\u79F0\r\n        //     state1.name = \"SpecularColor\";\r\n        //     //\u8BBE\u7F6E\u52A8\u4F5C\r\n        //     state1.clip = SpecularClip;\r\n        //     //\u5FAA\u73AF\u6A21\u5F0F\r\n        //     state1.clip.islooping = true;\r\n        //     //\u4E3A\u52A8\u753B\u7EC4\u4EF6\u6DFB\u52A0\u4E00\u4E2A\u52A8\u4F5C\u72B6\u6001\r\n        //     this._animator.getControllerLayer(0).addState(state1);\r\n\r\n            \r\n        // });        \r\n\r\n    }\r\n\r\n\t// changeAnimation (): void {\r\n\t// \tthis._animator.play(\"SpecularColor\");\r\n\t// }    \r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Handler = Laya.Handler;\r\n\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Animator = Laya.Animator;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport AnimationClip = Laya.AnimationClip;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('289c86d4-758d-4782-8d77-1bb4ef606829', '../src/3D/Animation/RigidbodyAnimationDemo.ts')\r\nexport class RigidbodyAnimationDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private _animator: Animator;\r\n    private _animatorState: AnimatorState;\r\n    private _animatorClip: AnimationClip;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        //\u83B7\u5F97Sprite3D\r\n        var cube: Sprite3D = <Sprite3D>this.scene.getChildByName(\"Cube\");\r\n        //\u83B7\u53D6\u52A8\u753B\u7EC4\u4EF6\r\n        this._animator = (<Animator>cube.getComponent(Animator));\r\n        //\u83B7\u53D6\u52A8\u753B\u72B6\u6001\r\n        this._animatorState = this._animator.getControllerLayer(0).getAnimatorState(\"a1\");       \r\n        //\u83B7\u53D6\u52A8\u753BClip\r\n        this._animatorClip = this._animatorState.clip;\r\n\r\n        //\u52A8\u753B\u7684\u7F16\u8F91\u8FC7\u7A0B\u5728IDE\u7684\u65F6\u95F4\u8F74\u52A8\u753B\u4E2D\u5B8C\u6210\uFF0C\u5E76\u6DFB\u52A0\u5230\u52A8\u753B\u72B6\u6001\u673A\u4E2D\uFF0C\u4EE3\u7801\u53EF\u4EE5\u5207\u6362\u52A8\u753B\r\n        console.log(this._animatorClip);        \r\n\r\n\r\n        super.addBottomButton( [\"\u5207\u6362\u52A8\u753B\",\"\u5207\u6362\u52A8\u753B\"] , this, [this.changeAnimation2, this.changeAnimation1] );\r\n\r\n        //\u52A0\u8F7D.lani\u6587\u4EF6 \r\n        Laya.loader.load(\"resources/res/threeDimen/scene/LayaScene_RigidbodyAnimation/Conventional/Assets/LayaAir3D/a2.lani\").then(res=>{\r\n            let clip = res;\r\n            //\u521B\u5EFA\u52A8\u4F5C\u72B6\u6001\r\n            var state1: AnimatorState = new AnimatorState();\r\n            //\u52A8\u4F5C\u540D\u79F0\r\n            state1.name = \"a2\";\r\n            //\u8BBE\u7F6E\u52A8\u4F5C\r\n            state1.clip = clip;\r\n            //\u5FAA\u73AF\u6A21\u5F0F\r\n            state1.clip.islooping = true;\r\n            //\u4E3A\u52A8\u753B\u7EC4\u4EF6\u6DFB\u52A0\u65B0\u7684\u52A8\u4F5C\u72B6\u6001\r\n            this._animator.getControllerLayer(0).addState(state1);\r\n            \r\n        });           \r\n    }\r\n\r\n\tchangeAnimation2 (): void {\r\n\t\tthis._animator.play(\"a2\");\r\n\t}       \r\n    \r\n\tchangeAnimation1 (): void {\r\n\t\tthis._animator.play(\"a1\");\r\n\t}         \r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Animator = Laya.Animator;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0400feed-d633-46aa-a964-c2d558a53e84', '../src/3D/Animation/SimpleSkinAnimationInstance.ts')\r\nexport class SimpleSkinAnimationInstance extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\r\n\tprivate animatorName: string[][] = [\r\n\t\t[\"PickUp\", \"PotionDrink\", \"BattleWalkRight\", \"VictoryStart\", \"DefendStart\", \"Die\", \"Interact\", \"VictoryMaintain\"],\r\n\t\t[\"DefendHit_SwordAndShield\", \"SwordAndShiled2\", \"Defend_SwordAndShield\", \"SwordAndShiled\", \"Attack04_Start_SwordAndShield\", \"Attack04_SwordAndShiled\"],\r\n\t];\r\n\t\r\n\tprivate oriSprite3D:Sprite3D;\r\n\tprivate widthNums:number = 20;\r\n\tprivate step:number = 2.5;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(-16.4, 2.96, 24.3);\r\n\t\tthis.camera.transform.localRotationEuler = new Vector3(-7.5, -30, 0.0);\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).intensity = 0.5;\r\n\r\n\t\t//\u901A\u8FC73.0\u7684\u52A8\u753B\u70D8\u57F9\uFF0C\u5C06\u6240\u6709\u52A8\u4F5C\u63D0\u524D\u8BA1\u7B97\u4E00\u6B21\uFF1B\u5C06\u6240\u6709\u7684\u9AA8\u9ABC\u8282\u70B9\u9884\u8BA1\u7B97\uFF0C\u5B58\u5165\u5185\u5B58\u4E2D\uFF1Bgpu\u76F4\u63A5\u901A\u8FC7\u5185\u5B58\u8BFB\u53D6\u5BF9\u5E94\u8282\u70B9\u7684\u77E9\u9635\u503C\uFF1B\u8FDB\u884C\u6E32\u67D3\r\n\t\tvar res = [\r\n\t\t\t\"resources/res/threeDimen/texAnimation/Attack01/Attack01.lh\",\r\n\t\t\t\"resources/res/threeDimen/texAnimation/role/role.lh\",\r\n\t\t];\r\n\t\tLaya.loader.load(res).then(() => {\r\n\t\t\tthis.oriSprite3D = Loader.createNodes(res[0]);\r\n\t\t\tthis.sceneBuild(0);\r\n\t\t\t// add other model\r\n\t\t\tthis.oriSprite3D = Loader.createNodes(res[1]);\r\n\t\t\tthis.sceneBuild(1);\r\n\t\t});\r\n\t}\r\n\r\n\tcloneSprite(pos: Vector3, quaterial: Vector3, aniNameIndex: number) {\r\n\t\t//\u514B\u9686\u4E00\u4E2ASprite3D\r\n\t\tvar clonesprite: Sprite3D = this.oriSprite3D.clone() as Sprite3D;\r\n\t\tthis.scene.addChild(clonesprite);\r\n\t\tvar animate: Animator = clonesprite.getComponent(Animator);\r\n\t\tvar nums: number = Math.round(Math.random() * 5);\r\n\t\tanimate.play(this.animatorName[aniNameIndex][nums], 0, Math.random());\r\n\t\tclonesprite.transform.position = pos;\r\n\t\tclonesprite.transform.rotationEuler = quaterial;\r\n\t}\r\n\r\n\tsceneBuild(aniNameIndex: number) {\r\n\t\tvar left: number = -0.5 * this.step * (this.widthNums);\r\n\t\tvar right: number = -1 * left;\r\n\t\tfor (var i: number = left; i < right; i += this.step)\r\n\t\t\tfor (var j: number = left; j < right; j += this.step) {\r\n\t\t\t\tvar xchange: number = (Math.random() - 0.5) * 5;\r\n\t\t\t\tvar zchange: number = (Math.random() - 0.5) * 5;\r\n\t\t\t\tvar quaterial: Vector3 = new Vector3(0, Math.random() * 180, 0);\r\n\t\t\t\tthis.cloneSprite(new Vector3(i + xchange, 0, j + zchange), quaterial, aniNameIndex);\r\n\t\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Text = Laya.Text;\r\nimport BitmapFont = Laya.BitmapFont;\r\nimport Handler = Laya.Handler;\r\nimport Event = Laya.Event;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('2cee0d53-9d69-4900-9245-187a54b4e801', '../src/3D/Animation/SkeletonMask.ts')\r\nexport class SkeletonMask extends BaseScript {\r\n\r\n\t@property(Laya.Camera)\r\n\tprivate camera: Camera;\r\n\t@property(Laya.Scene3D)\r\n\tprivate scene: Scene3D;\r\n\r\n\tprivate fontName: string = \"fontClip\";\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tonAwake(): void {\r\n\r\n\t\tsuper.base(this.camera);\r\n\r\n\t\tthis.loadFont();\r\n\r\n\t\t//\u52A0\u8F7D\u573A\u666F\r\n\t\tScene3D.load(\"resources/res/threeDimen/LayaScene_MaskModelTest/Conventional/MaskModelTest.ls\", Handler.create(this, (scene: Scene3D) => {\r\n\t\t\t(<Scene3D>this.scene.addChild(scene));\r\n\t\t}));\r\n\t}\r\n\r\n\r\n\tprivate loadFont(): void {\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/LayaScene_MaskModelTest/font/fontClip.fnt\", Laya.Loader.FONT).then((res: BitmapFont) => {\r\n\t\t\tthis.onFontLoaded(res);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onFontLoaded(bitmapFont: BitmapFont): void {\r\n\t\tText.registerBitmapFont(this.fontName, bitmapFont);\r\n\t\tthis.createText(this.fontName);\r\n\t\tthis.createText1(this.fontName);\r\n\t\tthis.createText2(this.fontName);\r\n\t}\r\n\r\n\tprivate createText(font: string): void {\r\n\t\tvar txt: Text = new Text();\r\n\t\ttxt.width = 250;\r\n\t\ttxt.wordWrap = true;\r\n\t\ttxt.text = \"\u5E26\u6709\u9AA8\u9ABC\u906E\u7F69\u7684\u52A8\u753B\";\r\n\t\ttxt.color = \"#FFFFFFFF\";\r\n\t\ttxt.size(200, 300);\r\n\t\ttxt.leading = 5;\r\n\t\ttxt.fontSize = 15;\r\n\t\ttxt.zOrder = 999999999;\r\n\t\t// txt.scale(Browser.pixelRatio, Browser.pixelRatio);\r\n\t\ttxt.pos(this.box2D.width / 2 - 50, this.box2D.height / 2);\r\n\t\tthis.box2D.on(Event.RESIZE, txt, () => {\r\n\t\t\ttxt.pos(this.box2D.width / 2 - 50, this.box2D.height / 2);\r\n\t\t});\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n\r\n\tcreateText1(font: string) {\r\n\t\tvar txt = new Text();\r\n\t\ttxt.width = 250;\r\n\t\ttxt.wordWrap = true;\r\n\t\ttxt.text = \"\u6B63\u5E38\u52A8\u753B\u4E00\";\r\n\t\ttxt.color = \"#FFFFFFFF\";\r\n\t\ttxt.size(200, 300);\r\n\t\ttxt.leading = 5;\r\n\t\ttxt.fontSize = 15;\r\n\t\ttxt.zOrder = 999999999;\r\n\t\ttxt.pos(this.box2D.width / 2 - 240, this.box2D.height / 2);\r\n\t\tthis.box2D.on(Event.RESIZE, txt, () => {\r\n\t\t\ttxt.pos(this.box2D.width / 2 - 240, this.box2D.height / 2);\r\n\t\t});\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n\r\n\tcreateText2(font: string) {\r\n\t\tvar txt = new Text();\r\n\t\ttxt.width = 250;\r\n\t\ttxt.wordWrap = true;\r\n\t\ttxt.text = \"\u6B63\u5E38\u52A8\u753B\u4E8C\";\r\n\t\ttxt.color = \"#FFFFFFFF\";\r\n\t\ttxt.size(200, 300);\r\n\t\ttxt.leading = 5;\r\n\t\ttxt.zOrder = 999999999;\r\n\t\ttxt.fontSize = 15;\r\n\t\ttxt.pos(this.box2D.width / 2 + 140, this.box2D.height / 2);\r\n\t\tthis.box2D.on(Event.RESIZE, txt, () => {\r\n\t\t\ttxt.pos(this.box2D.width / 2 + 140, this.box2D.height / 2);\r\n\t\t});\r\n\t\tthis.box2D.addChild(txt);\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Material = Laya.Material;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport SkyBox = Laya.SkyBox;\r\nimport Loader = Laya.Loader;\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('3ea79b10-8ea8-4553-9cab-cef8f959d4ec', '../src/3D/Camera/CameraDemo.ts')\r\nexport class CameraDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate _translate: Vector3 = new Vector3(0, 0.7, 5);\r\n\tprivate _rotation: Vector3 = new Vector3(-15, 0, 0);\r\n\tprivate _rotation2: Vector3 = new Vector3(-3.14 / 3, 0, 0);\r\n\tprivate _rotation3: Vector3 = new Vector3(0, 45, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u6240\u6709\u8D44\u6E90\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/texture/layabox.png\", \"resources/res/threeDimen/skyBox/skyBox2/skyBox2.lmat\"];\r\n\t\tLaya.loader.load(resource).then((res:any[])=>{\r\n\t\t\tthis.onPreLoadFinish(res);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onPreLoadFinish(res:any[]): void {\r\n\r\n\t\t//\u521B\u5EFA\u76F8\u673A\uFF0C\u6784\u9020\u51FD\u6570\u7684\u4E09\u4E2A\u53C2\u6570\u4E3A\u76F8\u673A\u6A2A\u7EB5\u6BD4\uFF0C\u8FD1\u8DDD\u88C1\u526A\uFF0C\u8FDC\u8DDD\u88C1\u526A\r\n\t\tthis.camera.transform.translate(this._translate);\r\n\t\tthis.camera.transform.rotate(this._rotation, true, false);\r\n\t\tthis.camera.useOcclusionCulling = false;\r\n\t\t//\u76F8\u673A\u8BBE\u7F6E\u6E05\u695A\u6807\u8BB0,\u4F7F\u7528\u56FA\u5B9A\u989C\u8272\r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\t\t//\u8BBE\u7F6E\u6444\u50CF\u673A\u89C6\u91CE\u8303\u56F4\uFF08\u89D2\u5EA6\uFF09\r\n\t\tthis.camera.fieldOfView = 60;\r\n\t\tthis.scene.addChild(this.camera);\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\t\tthis.directionLight.transform.rotate(this._rotation2);\r\n\r\n\t\t//\u6B63\u65B9\u4F53\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5))));\r\n\t\tbox.transform.position = new Vector3(0.0, 2.7, 5);\r\n\t\tbox.transform.rotate(this._rotation3, false, false);\r\n\r\n\t\t//\u521B\u5EFAlinnPhong\u6750\u8D28\r\n\t\tvar materialBill: BlinnPhongMaterial = new BlinnPhongMaterial;\r\n\t\tbox.meshRenderer.material = materialBill;\r\n\t\t//\u8BBE\u7F6E\u53CD\u7167\u7387\u8D34\u56FE\r\n\t\tmaterialBill.albedoTexture = res[0];;\r\n\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u80CC\u666F\",\"\u5207\u6362\u80CC\u666F\"] , this, [this.setSkybox, this.setSolidColor] );\r\n\t}\r\n\r\n\r\n\tsetSolidColor() {\r\n\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u6E05\u9664\u6807\u8BC6\u4E3A\u4E3A\u56FA\u5B9A\u989C\u8272\r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\t}\r\n\r\n\tsetSkybox(): void {\r\n\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u6E05\u9664\u6807\u8BC6\u4E3A\u5929\u7A7A\u76D2\r\n\t\tthis.camera.clearFlag = CameraClearFlags.Sky;\r\n\t\t//\u4F7F\u7528\u52A0\u8F7D\u5929\u7A7A\u76D2\u6750\u8D28\r\n\t\tvar skyboxMaterial: Material = (<Material>Loader.getRes(\"resources/res/threeDimen/skyBox/skyBox2/skyBox2.lmat\"));\r\n\t\t//\u83B7\u53D6\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\r\n\t\tvar skyRenderer: SkyRenderer = this.camera.skyRenderer;\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\u7684mesh\r\n\t\tskyRenderer.mesh = SkyBox.instance;\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\u7684material\r\n\t\tskyRenderer.material = skyboxMaterial;\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Material = Laya.Material;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Animator = Laya.Animator;\r\nimport Mesh = Laya.Mesh;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Quaternion = Laya.Quaternion;\r\nimport AnimationClip = Laya.AnimationClip;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport SkyBoxMaterial = Laya.SkyBoxMaterial;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport SkyBox = Laya.SkyBox;\r\nimport Vector4 = Laya.Vector4;\r\n\r\nimport Handler = Laya.Handler;\r\nimport Loader = Laya.Loader;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('51179047-4ec6-47d8-a8a9-ea1a987f1bb1', '../src/3D/Camera/CameraLayer.ts')\r\nexport class CameraLayer extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate layerIndex: number = 0;\r\n\tprivate _translate: Vector3 = new Vector3(0, 1.7, 3);\r\n\tprivate _rotation3: Quaternion = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\tprivate _rotation4: Vector3 = new Vector3(0, 60, 0);\r\n\tprivate _position: Vector3 = new Vector3(0.0, 0, 0.5);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tsuper.setCameraDirectionLight(this.camera, this.directionLight as Laya.DirectionLight);\r\n\r\n\t\t//\u79FB\u9664\u6240\u6709\u56FE\u5C42\r\n\t\tthis.camera.removeAllLayers();\r\n\t\t//\u6DFB\u52A0\u663E\u793A\u56FE\u5C42(\u4E3A\u76F8\u673A\u6DFB\u52A0\u4E00\u4E2A\u8499\u7248)\r\n\t\tthis.camera.addLayer(5);\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u6240\u6709\u8D44\u6E90\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/staticModel/grid/plane.lh\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/Materials/T_Diffuse.lmat\"];\r\n\t\tLaya.loader.load(resource).then((res:any[])=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onComplete(res:any[]): void {\r\n\r\n\t\t//\u6DFB\u52A0\u5730\u9762\r\n\t\tvar grid: Sprite3D = this.scene.addChild(res[0].create());\r\n\t\t//\u5730\u9762\u63A5\u6536\u9634\u5F71\r\n\t\t((<MeshSprite3D>grid.getChildAt(0))).meshRenderer.receiveShadow = true;\r\n\t\t//\u8BBE\u7F6E\u8BE5\u7CBE\u7075\u7684\u8499\u7248\u4E3A5(\u6240\u5C5E\u56FE\u5C42)\r\n\t\t((<MeshSprite3D>grid.getChildAt(0))).layer = 5;\r\n\r\n\t\t//\u6DFB\u52A0\u9759\u6001\u7334\u5B50\r\n\t\tvar staticLayaMonkey: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(res[1])));\r\n\t\t//\u8BBE\u7F6E\u9759\u6001\u7334\u5B50\u7684\u6750\u8D28\r\n\t\tstaticLayaMonkey.meshRenderer.material = res[2];\r\n\t\t//\u8BBE\u7F6E\u9759\u6001\u7334\u5B50\u7684\u8499\u7248\u4E3A1(\u6240\u5C5E\u56FE\u5C42)\r\n\t\tstaticLayaMonkey.layer = 1;\r\n\t\tstaticLayaMonkey.transform.position = new Vector3(0, 0, 0.5);\r\n\t\tstaticLayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\tstaticLayaMonkey.transform.rotation = this._rotation3;\r\n\t\t//\u4EA7\u751F\u9634\u5F71\r\n\t\tstaticLayaMonkey.meshRenderer.castShadow = true;\r\n\r\n\t\t//\u514B\u9686sprite3d\r\n\t\tvar layaMonkey_clone1: Sprite3D = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position);\r\n\t\tvar layaMonkey_clone2: Sprite3D = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position);\r\n\t\tvar layaMonkey_clone3: Sprite3D = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position);\r\n\r\n\t\t//\u8BBE\u7F6E\u8499\u7248(\u6240\u5C5E\u56FE\u5C42)\r\n\t\tlayaMonkey_clone1.layer = 2;\r\n\t\tlayaMonkey_clone2.layer = 3;\r\n\t\tlayaMonkey_clone3.layer = 0;\r\n\t\t//\u5E73\u79FB\r\n\t\tthis._translate.setValue(1.5, 0, 0.0);\r\n\t\tlayaMonkey_clone1.transform.translate(this._translate);\r\n\t\tthis._translate.setValue(-1.5, 0, 0.0);\r\n\t\tlayaMonkey_clone2.transform.translate(this._translate);\r\n\t\tthis._translate.setValue(2.5, 0, 0.0);\r\n\t\tlayaMonkey_clone3.transform.translate(this._translate);\r\n\t\t//\u65CB\u8F6C\r\n\t\tlayaMonkey_clone2.transform.rotate(this._rotation4, false, false);\r\n\t\t//\u7F29\u653E\r\n\t\tlayaMonkey_clone3.transform.localScale = new Vector3(0.1, 0.1, 0.1);\r\n\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u56FE\u5C42\",\"\u5207\u6362\u56FE\u5C42\",\"\u5207\u6362\u56FE\u5C42\"] , this, [this.setLayer, this.setLayer, this.setLayer] );\r\n\t}\r\n\r\n\tsetLayer (): void {\r\n\t\tthis.camera.removeAllLayers();\r\n\t\tthis.layerIndex++;\r\n\t\tthis.camera.addLayer(this.layerIndex % 3);\r\n\t\tthis.camera.addLayer(5);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('50cce2c0-484a-4f78-9669-e9153e3d9dce', '../src/3D/Camera/CameraLookAt.ts')\r\nexport class CameraLookAt extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate index: number = 0;\r\n\tprivate box: MeshSprite3D;\r\n\tprivate capsule: MeshSprite3D;\r\n\tprivate cylinder: MeshSprite3D;\r\n\tprivate _translate = new Vector3(0, 0.7, 5);\r\n\tprivate _rotation: Vector3 = new Vector3(-15, 0, 0);\r\n\tprivate _rotation2: Vector3 = new Vector3(-3.14 / 3, 0, 0);\r\n\tprivate _rotation3: Vector3 = new Vector3(0, 45, 0);\r\n\tprivate _position: Vector3 = new Vector3(1.5, 0.0, 2);\r\n\tprivate _position2: Vector3 = new Vector3(-1.5, 0.0, 2);\r\n\tprivate _position3: Vector3 = new Vector3(0.0, 0.0, 2);\r\n\tprivate _up: Vector3 = new Vector3(0, 1, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/layabox.png\").then(()=>{\r\n\t\t\tthis.onPreLoadFinish();\r\n\t\t});\r\n\t}\r\n\r\n\tprivate onPreLoadFinish(): void {\r\n\r\n\t\t//\u521B\u5EFA\u76F8\u673A\uFF0C\u6784\u9020\u51FD\u6570\u7684\u4E09\u4E2A\u53C2\u6570\u4E3A\u76F8\u673A\u6A2A\u7EB5\u6BD4\uFF0C\u8FD1\u8DDD\u88C1\u526A\uFF0C\u8FDC\u8DDD\u88C1\u526A\r\n\t\tthis.camera.transform.position = (this._translate);\r\n\t\tthis.camera.transform.rotate(this._rotation, true, false);\r\n\r\n\t\t//\u76F8\u673A\u8BBE\u7F6E\u6E05\u695A\u6807\u8BB0,\u4F7F\u7528\u56FA\u5B9A\u989C\u8272\r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\t\t//\u8BBE\u7F6E\u6444\u50CF\u673A\u89C6\u91CE\u8303\u56F4\uFF08\u89D2\u5EA6\uFF09\r\n\t\tthis.camera.fieldOfView = 60;\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\t\tthis.directionLight.transform.rotate(this._rotation2);\r\n\r\n\t\tvar sprite: Sprite3D = new Sprite3D;\r\n\t\tthis.scene.addChild(sprite);\r\n\r\n\t\t//\u6B63\u65B9\u4F53\r\n\t\tthis.box = (<MeshSprite3D>sprite.addChild(new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5))));\r\n\t\tthis.box.transform.position = this._position;\r\n\t\tthis.box.transform.rotate(this._rotation3, false, false);\r\n\r\n\t\t//\u80F6\u56CA\u4F53\r\n\t\tthis.capsule = new MeshSprite3D(PrimitiveMesh.createCapsule(0.25, 1, 10, 20));\r\n\t\tthis.capsule.transform.position = this._position2;\r\n\t\tsprite.addChild(this.capsule);\r\n\r\n\t\t//\u5706\u67F1\r\n\t\tthis.cylinder = new MeshSprite3D(PrimitiveMesh.createCylinder(0.25, 1, 20));\r\n\t\tthis.cylinder.transform.position = this._position3;\r\n\t\tsprite.addChild(this.cylinder);\r\n\r\n\t\t//\u521B\u5EFAlinnPhong\u6750\u8D28\r\n\t\tvar materialBill: BlinnPhongMaterial = new BlinnPhongMaterial;\r\n\t\tthis.box.meshRenderer.material = materialBill;\r\n\t\tthis.capsule.meshRenderer.material = materialBill;\r\n\t\tthis.cylinder.meshRenderer.material = materialBill;\r\n\r\n\t\t//\u4E3A\u6750\u8D28\u52A0\u8F7D\u7EB9\u7406\r\n\t\tvar tex = Loader.getTexture2D(\"resources/res/threeDimen/texture/layabox.png\");\r\n\t\t//\u8BBE\u7F6E\u53CD\u7167\u7387\u8D34\u56FE\r\n\t\tmaterialBill.albedoTexture = tex;\r\n\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u6CE8\u89C6\",\"\u5207\u6362\u6CE8\u89C6\",\"\u5207\u6362\u6CE8\u89C6\"] , this, [this.setLookAt, this.setLookAt, this.setLookAt] );\r\n\t\tthis.camera.transform.lookAt(this.cylinder.transform.position, this._up);\r\n\t}\r\n\r\n\tsetLookAt(index:number = 0) {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\t//\u6444\u50CF\u673A\u6355\u6349\u6A21\u578B\u76EE\u6807\r\n\t\t\tthis.camera.transform.lookAt(this.box.transform.position, this._up);\r\n\t\t}\r\n\t\telse if (this.index % 3 === 2) {\r\n\t\t\t//\u6444\u50CF\u673A\u6355\u6349\u6A21\u578B\u76EE\u6807\r\n\t\t\tthis.camera.transform.lookAt(this.cylinder.transform.position, this._up);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//\u6444\u50CF\u673A\u6355\u6349\u6A21\u578B\u76EE\u6807\r\n\t\t\tthis.camera.transform.lookAt(this.capsule.transform.position, this._up);\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Mesh = Laya.Mesh;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ff58303b-019f-43f7-91f6-0c9138cf7968', '../src/3D/Camera/CameraMSAADemo.ts')\r\nexport class CameraMSAADemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private renderTarget1:Laya.RenderTexture;\r\n    private renderTarget2:Laya.RenderTexture;\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera, true, true);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 1, 3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t//\u65B9\u5411\u5149\u7684\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.5, 0.5, 0.5, 1);\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n        this.addObjectInScene(this.scene);\r\n        this.setMsaaOn();\r\n        super.addBottomButton( [\"\u5173\u95EDMSAA\",\"\u5F00\u542FMSAA\"] , this, [this.setMsaaOff, this.setMsaaOn] );\r\n        \r\n    }\r\n\r\n    setMsaaOn(): void {\r\n        \r\n        //\u5F00\u542FMSAA\r\n        this.camera.msaa = true;\r\n        if( Index.curPage )\r\n        {\r\n            this.renderTarget2 = new Laya.RenderTexture(Index.pageWidth*2, Index.pageHeight*2, Laya.RenderTargetFormat.R8G8B8A8, Laya.RenderTargetFormat.DEPTH_32, false, 4);\r\n            this.camera.renderTarget = this.renderTarget2;\r\n            Index.curPage.texture = new Laya.Texture(this.camera.renderTarget);\r\n        }\r\n\r\n    }\r\n\r\n    setMsaaOff(): void {\r\n\r\n        //\u5173\u95EDMSAA\r\n        this.camera.msaa = false;\r\n        if( Index.curPage )\r\n        {        \r\n            this.renderTarget1 = new Laya.RenderTexture(Index.pageWidth*2, Index.pageHeight*2, Laya.RenderTargetFormat.R8G8B8A8, Laya.RenderTargetFormat.DEPTH_32, false, 1);\r\n            this.camera.renderTarget = this.renderTarget1;\r\n            Index.curPage.texture = new Laya.Texture(this.camera.renderTarget);\r\n        }\r\n    }  \r\n\r\n    addObjectInScene(scene: Scene3D) {\r\n\r\n        let sprite: Sprite3D = new Sprite3D();\r\n        scene.addChild(sprite);\r\n\r\n        let planeMesh: Mesh = PrimitiveMesh.createPlane(10, 10,1,1);\r\n        let plane: MeshSprite3D = new MeshSprite3D(planeMesh);\r\n        scene.addChild(plane);\r\n\r\n        let cubeMesh: Mesh = PrimitiveMesh.createBox();\r\n        let sphere:Mesh = PrimitiveMesh.createSphere(0.3);\r\n        let cube0: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let cube1: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let cube2: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let cube3: MeshSprite3D = new MeshSprite3D(cubeMesh);\r\n        let sphere0:MeshSprite3D = new MeshSprite3D(sphere);\r\n        let sphere1:MeshSprite3D = new MeshSprite3D(sphere);\r\n        let sphere2:MeshSprite3D = new MeshSprite3D(sphere);\r\n        let sphere3:MeshSprite3D = new MeshSprite3D(sphere);\r\n\r\n        cube0.meshRenderer.sharedMaterial = new BlinnPhongMaterial;\r\n\r\n        sprite.addChild(cube0);\r\n        sprite.addChild(cube1);\r\n        sprite.addChild(cube2);\r\n        sprite.addChild(cube3);\r\n        sprite.addChild(sphere0);\r\n        sprite.addChild(sphere1);\r\n        sprite.addChild(sphere2);\r\n        sprite.addChild(sphere3);\r\n\r\n        cube1.transform.position = new Vector3(-1, 0, 0);\r\n        cube2.transform.position = new Vector3(-1, 0, 1);\r\n        cube3.transform.position = new Vector3(-1, 1, 0);\r\n\r\n        sphere0.transform.position = new Vector3(-3,0,0);\r\n        sphere1.transform.position = new Vector3(2,0,0);\r\n        sphere2.transform.position = new Vector3(2,0.5,0);\r\n        sphere3.transform.position = new Vector3(-1,0,2);\r\n    }\r\n\r\n    onDestroy(): void {\r\n\r\n        this.renderTarget1.destroy();\r\n        this.renderTarget2.destroy();\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Event = Laya.Event;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Vector2 = Laya.Vector2;\r\nimport HitResult = Laya.HitResult;\r\nimport Ray = Laya.Ray;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('3cda26cf-5b90-48c6-91bd-41a7b4e78f79', '../src/3D/Camera/CameraRay.ts')\r\nexport class CameraRay extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate _ray: Ray;\r\n\tprivate outs: HitResult[] = [];\r\n\tprivate point: Vector2 = new Vector2();\r\n\r\n\tprivate _forward: Vector3 = new Vector3(-1.0, -1.0, -1.0);\r\n\tprivate _tilingOffset: Vector4 = new Vector4(10, 10, 0, 0);\r\n\r\n\tprivate tmpVector: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate tmpVector2: Vector3 = new Vector3(0, 0, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tsuper.setCameraDirectionLight(this.camera, this.scene.getChildByName(\"Direction Light\") as DirectionLight);\r\n\r\n\t\t//\u5E73\u9762\r\n\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(10, 10, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/grass.png\").then((tex: Texture2D) => {\r\n\t\t\tplaneMat.albedoTexture = tex;\r\n\t\t});\r\n\t\t//\u8BBE\u7F6E\u7EB9\u7406\u5E73\u94FA\u548C\u504F\u79FB\r\n\t\tplaneMat.tilingOffset = this._tilingOffset;\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\r\n\t\t//\u5E73\u9762\u6DFB\u52A0\u7269\u7406\u78B0\u649E\u4F53\u7EC4\u4EF6\r\n\t\tvar planeStaticCollider: PhysicsCollider = plane.addComponent(PhysicsCollider);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar planeShape: BoxColliderShape = new BoxColliderShape(10, 0, 10);\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F62\u72B6\r\n\t\tplaneStaticCollider.colliderShape = planeShape;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u6469\u64E6\u529B\r\n\t\tplaneStaticCollider.friction = 2;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F39\u529B\r\n\t\tplaneStaticCollider.restitution = 0.3;\r\n\t\t//\u5C04\u7EBF\u521D\u59CB\u5316\uFF08\u5FC5\u987B\u521D\u59CB\u5316\uFF09\r\n\t\tthis._ray = new Ray(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n\r\n\t\tthis.owner.on( Event.MOUSE_DOWN, this, this.onMouseDown );\r\n\t}\r\n\r\n\taddBoxXYZ(x: number, y: number, z: number): void {\r\n\r\n\t\t//\u968F\u673A\u751F\u6210\u5750\u6807\u503C\r\n\t\tvar sX: number = Math.random() * 0.5;\r\n\t\tvar sY: number = Math.random() * 0.5;\r\n\t\tvar sZ: number = Math.random() * 0.5;\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\tthis.tmpVector.setValue(x, y, z);\r\n\t\tbox.transform.position = this.tmpVector;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u89D2\r\n\t\tthis.tmpVector2.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\tbox.transform.rotationEuler = this.tmpVector2;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\tonMouseDown(e:Laya.Event): void {\r\n\r\n\t\tif( Index.curPage )\r\n\t\t{\r\n\t\t\tthis.point.x = e.target.mouseX * Index.screenWidth / Index.pageWidth;\r\n\t\t\tthis.point.y = e.target.mouseY * Index.screenHeight / Index.pageHeight;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tthis.point.x = e.target.mouseX ;\r\n\t\t\tthis.point.y = e.target.mouseY ;\t\t\t\r\n\t\t}\r\n\r\n\t\tconsole.log(e.target.mouseX,e.target.mouseY);\r\n\t\t//\u4EA7\u751F\u5C04\u7EBF\r\n\t\tthis.camera.viewportPointToRay(this.point, this._ray);\r\n\t\t//\u62FF\u5230\u5C04\u7EBF\u78B0\u649E\u7684\u7269\u4F53\r\n\t\tthis.scene.physicsSimulation.rayCastAll(this._ray, this.outs);\r\n\r\n\t\t//\u5982\u679C\u78B0\u649E\u5230\u7269\u4F53\r\n\t\tif (this.outs.length != 0) {\r\n\r\n\t\t\tfor (var i: number = 0; i < this.outs.length; i++) {\r\n\t\t\t\t//\u5728\u5C04\u7EBF\u51FB\u4E2D\u7684\u4F4D\u7F6E\u6DFB\u52A0\u4E00\u4E2A\u7ACB\u65B9\u4F53\r\n\t\t\t\tthis.addBoxXYZ(this.outs[i].point.x, this.outs[i].point.y, this.outs[i].point.z);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c6d2764b-c444-41f0-8f03-8530525d9f01', '../src/3D/Camera/D3SpaceToD2Space.ts')\r\nexport class D3SpaceToD2Space extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private layaMonkey3D:Laya.Sprite3D;\r\n    private layaMonkey2D:Laya.Image;\r\n    private _position:Laya.Vector3 = new Laya.Vector3();\r\n    private _outPos:Laya.Vector4 = new Laya.Vector4();\r\n    private scaleDelta:number = 0;\r\n    private clientScaleX = 0;\r\n    private clientScaleY = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.clientScaleY = Laya.stage.clientScaleX;\r\n        this.clientScaleX = Laya.stage.clientScaleY;\r\n\r\n        this.camera.transform.position = new Laya.Vector3(0, 0.75, 1.2);\r\n        this.camera.transform.rotationEuler = new Laya.Vector3( -30, 0, 0);\r\n        \r\n        Laya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then( (res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n    }\r\n\r\n    private onComplete(res: any): void {\r\n        \r\n        this.layaMonkey3D = res.create();\r\n        this.scene.addChild(this.layaMonkey3D);\r\n        this.layaMonkey2D = this.owner.addChild(new Laya.Image(\"resources/res/threeDimen/monkey.png\")) as Laya.Image;\r\n        this.layaMonkey2D.anchorX = 0.5;\r\n        this.layaMonkey2D.scale(0.5,0.5);\r\n        Laya.timer.frameLoop(1, this, this.animate);\r\n    }\r\n\r\n    private animate(): void {\r\n\r\n        this._position.x = Math.sin(this.scaleDelta += 0.01);\r\n        this.layaMonkey3D.transform.position = this._position;\r\n        //\u8F6C\u6362\u5750\u6807\r\n        this.camera.viewport.project(this.layaMonkey3D.transform.position, this.camera.projectionViewMatrix, this._outPos);\r\n\r\n        let x = 0;\r\n        let y = 0;\r\n\r\n        //\u8D4B\u503C\u7ED92D        \r\n        if( Index.curPage && !Laya.Browser.PLATFORM_PC)\r\n        {\r\n            x = this._outPos.x / this.clientScaleX;\r\n            y = this._outPos.y / this.clientScaleY;\r\n        }\r\n        else if( Index.curPage )\r\n        {\r\n            x = this._outPos.x * Index.pageWidth * Index.scaleWidth / Laya.Browser.clientWidth;\r\n            y = this._outPos.y * Index.pageHeight * Index.scaleHeight / Laya.Browser.clientHeight;\r\n        }\r\n        else\r\n        {\r\n            x = this._outPos.x / this.clientScaleX;\r\n            y = this._outPos.y / this.clientScaleY;\r\n        }\r\n        this.layaMonkey2D.pos(x, y);\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport Vector3 = Laya.Vector3;\r\nimport SkyBoxMaterial = Laya.SkyBoxMaterial;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport SkyBox = Laya.SkyBox;\r\nimport Color = Laya.Color;\r\nimport Viewport = Laya.Viewport;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8a04c2c6-169d-435f-9e41-4829041370b4', '../src/3D/Camera/MultiCamera.ts')\r\nexport class MultiCamera extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.5, 1.5);\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u6E05\u9664\u989C\u8272\r\n\t\tthis.camera.clearColor = new Color(0.3, 0.3, 0.3, 1.0);\r\n\t\t//\u8BBE\u7F6E\u88C1\u526A\u7A7A\u95F4\u7684\u89C6\u53E3\r\n\t\tthis.camera.normalizedViewport = new Viewport(0, 0, 0.5, 1.0);\r\n\r\n\t\t//\u521B\u5EFA\u53F3\u8FB9\u76F8\u673A\r\n\t\tvar camera2: Camera = (<Camera>this.scene.addChild(new Camera(0, 0.1, 100)));\r\n\t\tcamera2.transform.position = new Vector3(0, 0.5, 1.5);\r\n\t\tcamera2.transform.rotationEuler = new Vector3(-15, 0, 0);\t\t\r\n\t\tcamera2.normalizedViewport = new Viewport(0.5, 0.0, 0.5, 1.0);\r\n\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u6E05\u9664\u6807\u5FD7\uFF0C\u4F7F\u7528\u5929\u7A7A\r\n\t\tcamera2.clearFlag = CameraClearFlags.Sky;\r\n\t\tcamera2.renderTarget = Index.rt;\r\n\r\n\t\t//\u52A0\u8F7D\u53F3\u8FB9\u6444\u50CF\u673A\u7684\u5929\u7A7A\u76D2\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skyBox/skyBox2/skyBox2.lmat\").then((mat: SkyBoxMaterial)=>{\r\n\t\t\tvar skyRenderer: SkyRenderer = camera2.skyRenderer;\r\n\t\t\tskyRenderer.mesh = SkyBox.instance;\r\n\t\t\tskyRenderer.material = mat;\r\n\t\t});\r\n\t\t\r\n\t\t//\u52A0\u8F7D3D lh\u8D44\u6E90\uFF0C\u4F7F\u7528res.create()\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then((res)=>{\r\n\t\t\tthis.scene.addChild(res.create());\r\n\t\t});\r\n\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('87d9c5a0-6c51-4c1b-8e9a-65f2426d4939', '../src/3D/Camera/OrthographicCamera.ts')\r\nexport class Orthographicthiscamera extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.2, 0.7));\r\n        //\u6B63\u4EA4\u6295\u5F71\u5C5E\u6027\u8BBE\u7F6E\uFF0C\u5F00\u542F\r\n\t\tthis.camera.orthographic = true;\r\n\t\t//\u6B63\u4EA4\u6295\u5F71\u5782\u76F4\u77E9\u9635\u5C3A\u5BF8\r\n\t\tthis.camera.orthographicVerticalSize = 3;            \r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then((res)=>{\r\n\r\n            let layaMonkey = res.create();\r\n\t\t\tthis.scene.addChild(layaMonkey);\r\n\t\t\tlayaMonkey.transform.position = new Vector3(0, 0, 0);            \r\n\t\t});\r\n\r\n        super.addBottomButton( [\"\u5173\u95ED\u6B63\u4EA4\u6295\u5F71\",\"\u5F00\u542F\u6B63\u4EA4\u6295\u5F71\"] , this, [this.setOrthographic1, this.setOrthographic2] );\r\n\t}\r\n \r\n    setOrthographic1(): void{\r\n\r\n        //\u6B63\u4EA4\u6295\u5F71\u5C5E\u6027\u8BBE\u7F6E\uFF0C\u5173\u95ED\r\n        this.camera.orthographic = false;\r\n    }\r\n\r\n    setOrthographic2(): void{\r\n\r\n        //\u6B63\u4EA4\u6295\u5F71\u5C5E\u6027\u8BBE\u7F6E\uFF0C\u5F00\u542F\r\n        this.camera.orthographic = true;\r\n\t\t//\u6B63\u4EA4\u6295\u5F71\u5782\u76F4\u77E9\u9635\u5C3A\u5BF8\r\n\t\tthis.camera.orthographicVerticalSize = 3;        \r\n    }    \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Text = Laya.Text;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport Ray = Laya.Ray;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d3e98771-5917-4850-ac70-8ee068dca896', '../src/3D/Camera/PickPixel.ts')\r\nexport class PickPixel extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\t@property(Laya.Camera)\r\n    private camera2: Laya.Camera;  \r\n\r\n\tprivate scene1: Scene3D;\r\n\tprivate ray: Ray;\r\n\tprivate text: Text = new Text();\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * \u7EC4\u4EF6\u88AB\u6FC0\u6D3B\u540E\u6267\u884C\uFF0C\u6B64\u65F6\u6240\u6709\u8282\u70B9\u548C\u7EC4\u4EF6\u5747\u5DF2\u521B\u5EFA\u5B8C\u6BD5\uFF0C\u6B64\u65B9\u6CD5\u53EA\u6267\u884C\u4E00\u6B21\r\n     */\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u5C04\u7EBF\u521D\u59CB\u5316\uFF08\u5FC5\u987B\u521D\u59CB\u5316\uFF09\r\n\t\tthis.ray = new Ray(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n\t\t//\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/scene/CourtyardScene/Courtyard.ls\").then((res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n\t}\r\n\r\n\t\r\n\tprivate onComplete(res:any): void {\r\n\t\tthis.scene1 = res.create();\r\n\t\tthis.scene.addChild(this.scene1);\r\n\r\n\t\t//\u9009\u62E9\u6E32\u67D3\u76EE\u6807\u4E3A\u7EB9\u7406\r\n\t\tvar stageWidth: number = this.pageWidth;\r\n\t\tvar stageHeight: number = this.pageHeight;\r\n\r\n\t\tif( Index.curPage )\r\n        {\r\n\t\t\tstageWidth = Index.pageWidth;\r\n\t\t\tstageHeight = Index.pageHeight;\r\n\t\t}\r\n\t\tthis.camera2.renderTarget = RenderTexture.createFromPool(stageWidth, stageHeight, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.DEPTH_16, false, 1, false, true);\r\n\t\t//\u6E32\u67D3\u987A\u5E8F\r\n\t\tthis.camera2.renderingOrder = -1;\r\n\r\n\t\tthis.text.width = 200;\r\n\t\tthis.text.align = \"center\";\r\n\t\tthis.text.x = ( this.pageWidth - this.text.width) / 2;\r\n\t\tthis.text.y = 50;\r\n\t\tthis.text.overflow = Text.HIDDEN;\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.fontSize = 20;\r\n\t\tthis.text.text = \"\u9009\u4E2D\u7684\u989C\u8272\uFF1A\";\r\n\t\tthis.owner.addChild(this.text);\r\n\t}\r\n\r\n\tonMouseDown(e:Event) {\r\n\t\tvar posX: number = e.target.mouseX;\r\n\t\tvar posY: number = e.target.mouseY;\r\n\t\tvar out = new Uint8Array(4);\r\n\t\tthis.camera2.renderTarget.getData(posX, posY, 1, 1, out);\r\n\t\tthis.text.text =  out[0] + \" \" + out[1] + \" \" + out[2] + \" \" + out[3];\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Event = Laya.Event;\r\nimport Mesh = Laya.Mesh;\r\nimport Text = Laya.Text;\r\nimport Quaternion = Laya.Quaternion;\r\nimport HitResult = Laya.HitResult;\r\nimport Vector2 = Laya.Vector2;\r\nimport Ray = Laya.Ray;\r\nimport MeshFilter = Laya.MeshFilter;\r\nimport MeshColliderShape = Laya.MeshColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Loader = Laya.Loader;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('5ccea1d7-4091-4a5b-8b15-2abdaed39d1a', '../src/3D/Interaction/MouseInteraction.ts')\r\nexport class MouseInteraction extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private _ray: Ray;\r\n\tprivate _outHitResult: HitResult = new HitResult();\r\n\tprivate point: Vector2 = new Vector2();\r\n\tprivate text: Text = new Text();\r\n\tprivate tmpVector: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate infoText: Label;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 0.7, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n\t\t//\u6279\u91CF\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load([\"resources/res/threeDimen/staticModel/grid/plane.lh\", \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"]).then(()=>{\r\n\t\t\tthis.onComplete();\r\n\t\t})\r\n\r\n\t}\r\n\r\n\tprivate onComplete(): void {\r\n\t\t//\u52A0\u8F7D\u5730\u9762\r\n\t\tvar grid: Sprite3D = (<Sprite3D>this.scene.addChild(Loader.createNodes(\"resources/res/threeDimen/staticModel/grid/plane.lh\")));\r\n\t\t//\u6307\u5B9A\u7CBE\u7075\u7684\u56FE\u5C42\r\n\t\tgrid.layer = 10;\r\n\t\t//\u52A0\u8F7D\u9759\u6001\u5C0F\u7334\u5B50\r\n\t\tvar staticLayaMonkey: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(Loader.getRes(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\"))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tstaticLayaMonkey.meshRenderer.material = Loader.getRes(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/Materials/T_Diffuse.lmat\");\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tstaticLayaMonkey.transform.position = new Vector3(0, 0, 0.5);\r\n\t\t//\u8BBE\u7F6E\u7F29\u653E\r\n\t\tstaticLayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\t//\u8BBE\u7F6E\u65CB\u8F6C\r\n\t\tstaticLayaMonkey.transform.rotation = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n\t\t//\u514B\u9686sprite3d\r\n\t\tthis.tmpVector.setValue(0.0, 0, 0.5);\r\n\t\tvar layaMonkey_clone1: MeshSprite3D = (<MeshSprite3D>Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this.tmpVector));\r\n\t\tvar layaMonkey_clone2: MeshSprite3D = (<MeshSprite3D>Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this.tmpVector));\r\n\t\tvar layaMonkey_clone3: MeshSprite3D = (<MeshSprite3D>Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this.tmpVector));\r\n\t\t//\u8BBE\u7F6E\u7CBE\u7075\u540D\u5B57\r\n\t\tstaticLayaMonkey.name = \"\u5927\u718A\";\r\n\t\tlayaMonkey_clone1.name = \"\u4E8C\u718A\";\r\n\t\tlayaMonkey_clone2.name = \"\u4E09\u718A\";\r\n\t\tlayaMonkey_clone3.name = \"\u5C0F\u718A\";\r\n\r\n\t\t//\u5E73\u79FB\r\n\t\tthis.tmpVector.setValue(1.5, 0, 0.0);\r\n\t\tlayaMonkey_clone1.transform.translate(this.tmpVector);\r\n\t\tthis.tmpVector.setValue(-1.5, 0, 0.0);\r\n\t\tlayaMonkey_clone2.transform.translate(this.tmpVector);\r\n\t\tthis.tmpVector.setValue(2.5, 0, 0.0);\r\n\t\tlayaMonkey_clone3.transform.translate(this.tmpVector);\r\n\t\t//\u65CB\u8F6C\r\n\t\tthis.tmpVector.setValue(0, 60, 0);\r\n\t\tlayaMonkey_clone2.transform.rotate(this.tmpVector, false, false);\r\n\t\t//\u7F29\u653E\r\n\t\tthis.tmpVector.setValue(0.1, 0.1, 0.1);\r\n\t\tvar scale: Vector3 = new Vector3(0.1, 0.1, 0.1);\r\n\t\tlayaMonkey_clone3.transform.localScale = this.tmpVector;\r\n\r\n\t\t//\u7ED9\u6A21\u578B\u6DFB\u52A0\u78B0\u649E\u7EC4\u4EF6\r\n\t\tvar meshCollider: PhysicsCollider = staticLayaMonkey.addComponent(PhysicsCollider);\r\n\t\t//\u521B\u5EFA\u7F51\u683C\u78B0\u649E\u5668\r\n\t\tvar meshShape: MeshColliderShape = new MeshColliderShape();\r\n\t\t//\u83B7\u53D6\u6A21\u578B\u7684mesh\r\n\t\tmeshShape.mesh = (<Mesh>staticLayaMonkey.meshFilter.sharedMesh);\r\n\t\t//\u8BBE\u7F6E\u6A21\u578B\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\tmeshCollider.colliderShape = meshShape;\r\n\r\n\t\tvar meshCollider1: PhysicsCollider = layaMonkey_clone1.addComponent(PhysicsCollider);\r\n\t\tvar meshShape1: MeshColliderShape = new MeshColliderShape();\r\n\t\tmeshShape1.mesh = (<Mesh>layaMonkey_clone1.getComponent(MeshFilter).sharedMesh);\r\n\t\tmeshCollider1.colliderShape = meshShape1;\r\n\r\n\t\tvar meshCollider2: PhysicsCollider = layaMonkey_clone2.addComponent(PhysicsCollider);\r\n\t\tvar meshShape2: MeshColliderShape = new MeshColliderShape();\r\n\t\tmeshShape2.mesh = (<Mesh>layaMonkey_clone2.getComponent(MeshFilter).sharedMesh);\r\n\t\tmeshCollider2.colliderShape = meshShape2;\r\n\r\n\t\tvar meshCollider3: PhysicsCollider = layaMonkey_clone3.addComponent(PhysicsCollider);\r\n\t\tvar meshShape3: MeshColliderShape = new MeshColliderShape();\r\n\t\tmeshShape3.mesh = (<Mesh>layaMonkey_clone3.getComponent(MeshFilter).sharedMesh);\r\n\t\tmeshCollider3.colliderShape = meshShape3;\r\n\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tthis.text.y = 50;\r\n\r\n\t\t//\u5C04\u7EBF\u521D\u59CB\u5316\uFF08\u5FC5\u987B\u521D\u59CB\u5316\uFF09\r\n\t\tthis._ray = new Ray(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n\t\t//\u6DFB\u52A0\u9F20\u6807\u4E8B\u4EF6\r\n\t\tthis.addMouseEvent();\r\n\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tthis.text.name = \"text\";\r\n\t\tthis.text.overflow = Text.HIDDEN;\r\n\t\tthis.text.color = \"#FFFFFF\";\r\n\t\tthis.text.font = \"Impact\";\r\n\t\tthis.text.fontSize = 20;\r\n\t\tthis.text.x = this.pageWidth / 2 - 60;\r\n\t\tthis.owner.addChild(this.text);\r\n\r\n\t\tstaticLayaMonkey.addComponent(SceneScript);\r\n\t\tlayaMonkey_clone1.addComponent(SceneScript);\r\n\t\tlayaMonkey_clone2.addComponent(SceneScript);\r\n\t\tlayaMonkey_clone3.addComponent(SceneScript);\r\n\r\n\t\t//\u8BBE\u7F6E\u64CD\u4F5C\u63D0\u793A\u6846\r\n\t\tthis.infoText = new Laya.Label();\r\n\t\tthis.infoText.x = this.pageWidth / 2;\r\n\t\tthis.infoText.y = 10;\r\n\t\tthis.infoText.width = this.pageWidth;\r\n\t\tthis.infoText.anchorX = 0.5;\r\n\t\tthis.infoText.align = \"center\";\r\n\t\tthis.infoText.text = \"\u70B9\u51FB\u6BCF\u4E2A\u5BF9\u8C61\";\r\n\t\tthis.infoText.overflow = Laya.Text.HIDDEN;\r\n\t\tthis.infoText.color = \"#FFFFFF\";\r\n\t\tthis.infoText.font = \"Impact\";\r\n\t\tthis.infoText.fontSize = 25;\r\n\t\tthis.owner.addChild(this.infoText);\t\t\r\n\r\n\t}\r\n\r\n\tprivate addMouseEvent(): void {\r\n\t\t//\u9F20\u6807\u4E8B\u4EF6\u76D1\u542C\r\n\t\tthis.owner.on(Event.MOUSE_DOWN, this, this.onStageMouseDown);\r\n\t}\r\n\r\n\tonStageMouseDown(e:Event): void {\r\n\r\n\t\tthis.point.x = e.target.mouseX;\r\n\t\tthis.point.y = e.target.mouseY;\r\n\r\n\t\tif( Index.curPage )\r\n        {\r\n            this.point.x = this.point.x * Index.screenWidth / Index.pageWidth;\r\n            this.point.y = this.point.y * Index.screenHeight / Index.pageHeight;\r\n        }\r\n        else\r\n        {\r\n        }\r\n\r\n\t\tlet point1 = new Laya.Point(this.point.x,this.point.y);\r\n\t\tconsole.log(e.target.mouseX,e.target.mouseY);\r\n\t\t// point1 = Index.curPage.localToGlobal(point1);\r\n\t\tthis.point.x = point1.x;\r\n\t\tthis.point.y = point1.y;\r\n\r\n\r\n\t\t//\u4EA7\u751F\u5C04\u7EBF\r\n\t\tthis.camera.viewportPointToRay(this.point, this._ray);\r\n\t\t//\u62FF\u5230\u5C04\u7EBF\u78B0\u649E\u7684\u7269\u4F53\r\n\t\tthis.scene.physicsSimulation.rayCast(this._ray, this._outHitResult);\r\n\t\t//\u5982\u679C\u78B0\u649E\u5230\u7269\u4F53\r\n\t\tif (this._outHitResult.succeeded) {\r\n\t\t\t//\u5220\u9664\u78B0\u649E\u5230\u7684\u7269\u4F53\r\n\t\t\tthis.text.text = \"\u78B0\u649E\u5230\u4E86\" + this._outHitResult.collider.owner.name;\r\n\t\t\tconsole.log(\"\u78B0\u649E\u5230\u7269\u4F53\uFF01\uFF01\");\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\nclass SceneScript extends Laya.Script {\r\n\tprivate meshSprite: MeshSprite3D;\r\n\tprivate text: Laya.Text;\r\n\tprivate _albedoColor: Laya.Color = new Laya.Color(0.0, 0.0, 0.0, 1.0);\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tonAwake(): void {\r\n\t\tthis.meshSprite = (<MeshSprite3D>this.owner);\r\n\t\tthis.text = (<Laya.Text>this.owner.getChildByName(\"text\"));\r\n\t}\r\n\r\n\t/**\r\n\t * \u8986\u5199\u7EC4\u4EF6\u66F4\u65B0\u65B9\u6CD5\uFF08\u76F8\u5F53\u4E8E\u5E27\u5FAA\u73AF\uFF09\r\n\t */\r\n\tonUpdate(): void {\r\n\t}\r\n\r\n\t//\u7269\u4F53\u5FC5\u987B\u62E5\u6709\u78B0\u649E\u7EC4\u4EF6\uFF08Collider\uFF09\r\n\t//\u5F53\u88AB\u9F20\u6807\u70B9\u51FB\r\n\tonMouseDown(): void {\r\n\t\tthis.text.text = \"\u78B0\u649E\u5230\u4E86\" + this.owner.name;\r\n\t\t//\u4ECE\u7236\u5BB9\u5668\u9500\u6BC1\u6211\u81EA\u5DF1\r\n\t\t//box.removeSelf();\r\n\t}\r\n\r\n\t//\u5F53\u4EA7\u751F\u78B0\u649E\r\n\tonCollisionEnter(collision: Laya.Collision): void {\r\n\t\t((<BlinnPhongMaterial>this.meshSprite.meshRenderer.sharedMaterial)).albedoColor = this._albedoColor;\r\n\t\t// box.removeSelf();\r\n\t}\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Text = Laya.Text;\r\nimport Vector2 = Laya.Vector2;\r\nimport Label = Laya.Label;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('dd06ebfc-04a2-4fd3-8c94-6ccfdb89ffd4', '../src/3D/Interaction/MultiTouch.ts')\r\nexport class MultiTouch extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tpublic static text: Label;\r\n\tprivate infoText: Label;\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * \u7EC4\u4EF6\u88AB\u6FC0\u6D3B\u540E\u6267\u884C\uFF0C\u6B64\u65F6\u6240\u6709\u8282\u70B9\u548C\u7EC4\u4EF6\u5747\u5DF2\u521B\u5EFA\u5B8C\u6BD5\uFF0C\u6B64\u65B9\u6CD5\u53EA\u6267\u884C\u4E00\u6B21\r\n     */\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 0.8, 1.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then((res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t})\r\n\t}\r\n\r\n\tprivate onComplete(res:any): void {\r\n\t\t//\u52A0\u8F7D\u5C0F\u7334\u5B50\u7CBE\u7075\r\n\t\tvar monkey: Sprite3D = res.create();\r\n\t\t//\u7334\u5B50\u7CBE\u7075\u6DFB\u52A0\u7EC4\u4EF6\uFF08\u811A\u672C\uFF09\r\n\t\tmonkey.addComponent(MonkeyScript);\r\n\t\tthis.scene.addChild(monkey);\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u89C2\u5BDF\u76EE\u6807\u4E3A\u5C0F\u7334\u5B50\r\n\t\tthis.camera.transform.lookAt(monkey.transform.position, new Vector3(0, 1, 0));\r\n\r\n\t\tMultiTouch.text = new Label();\r\n\t\t//\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n\t\tMultiTouch.text.text = \"\u89E6\u63A7\u70B9\u5F52\u96F6\";\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\tMultiTouch.text.name = \"ceshi\";\r\n\t\tMultiTouch.text.width = this.pageWidth;\r\n\t\tMultiTouch.text.align = \"center\";\r\n\t\tMultiTouch.text.anchorX = 0.5;\r\n\t\tMultiTouch.text.overflow = Text.HIDDEN;\r\n\t\tMultiTouch.text.color = \"#FFFFFF\";\r\n\t\tMultiTouch.text.font = \"Impact\";\r\n\t\tMultiTouch.text.fontSize = 25;\r\n\t\tMultiTouch.text.x = this.pageWidth / 2;\r\n\t\tMultiTouch.text.y = 70;\r\n\t\tthis.owner.addChild(MultiTouch.text);\r\n\r\n\t\t//\u8BBE\u7F6E\u64CD\u4F5C\u63D0\u793A\u6846\r\n\t\tthis.infoText = new Laya.Label();\r\n\t\tthis.infoText.x = this.pageWidth / 2;\r\n\t\tthis.infoText.y = 20;\r\n\t\tthis.infoText.width = this.pageWidth;\r\n\t\tthis.infoText.anchorX = 0.5;\r\n\t\tthis.infoText.align = \"center\";\r\n\t\tthis.infoText.text = \"\u5355\u6307\u65CB\u8F6C\uFF0C\u53CC\u6307\u7F29\u653E(\u8BF7\u4F7F\u7528\u624B\u673A\u8BBE\u5907)\";\r\n\t\tthis.infoText.overflow = Laya.Text.HIDDEN;\r\n\t\tthis.infoText.color = \"#FFFFFF\";\r\n\t\tthis.infoText.font = \"Impact\";\r\n\t\tthis.infoText.fontSize = 25;\r\n\t\tthis.owner.addChild(this.infoText);\r\n\t}\r\n}\r\n\r\nclass MonkeyScript extends Laya.Script {\r\n\r\n\tprivate _scene: Scene3D;\r\n\tprivate _text: Label;\r\n\tprivate _camera: Camera;\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\tprivate lastPosition: Vector2 = new Vector2(0, 0);\r\n\tprivate distance: number = 0.0;\r\n\tprivate disVector1: Vector2 = new Vector2(0, 0);\r\n\tprivate disVector2: Vector2 = new Vector2(0, 0);\r\n\tprivate isTwoTouch: boolean = false;\r\n\tprivate first: boolean = true;\r\n\tprivate twoFirst: boolean = true;\r\n\tprivate tmpVector: Vector3 = new Vector3(0, 0, 0);\r\n\r\n\tonAwake(): void {\r\n\t}\r\n\r\n\tonStart(): void {\r\n\t\tthis._scene = (<Scene3D>((<Sprite3D>this.owner)).parent);\r\n\t\tthis._text = MultiTouch.text;\r\n\t\tthis._camera = (<Camera>this._scene.getChildByName(\"Main Camera\"));\r\n\t}\r\n\r\n\tonUpdate(): void {\r\n\t\tvar touchCount: number = Laya.InputManager.touchCount;\r\n\t\tif (1 === touchCount) {\r\n\t\t\t//\u5224\u65AD\u662F\u5426\u4E3A\u4E24\u6307\u89E6\u63A7\uFF0C\u64A4\u53BB\u4E00\u6839\u624B\u6307\u540E\u5F15\u53D1\u7684touchCount===1\r\n\t\t\tif (this.isTwoTouch) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis._text.text = \"\u89E6\u63A7\u70B9\u4E3A1\";\r\n\t\t\t//\u83B7\u53D6\u5F53\u524D\u7684\u89E6\u63A7\u70B9\uFF0C\u6570\u91CF\u4E3A1\r\n\t\t\tvar touch = Laya.InputManager.touches[0];\r\n\t\t\t//\u662F\u5426\u4E3A\u65B0\u4E00\u6B21\u89E6\u78B0\uFF0C\u5E76\u672A\u53D1\u751F\u79FB\u52A8\r\n\t\t\tif (this.first) {\r\n\t\t\t\t//\u83B7\u53D6\u89E6\u78B0\u70B9\u7684\u4F4D\u7F6E\r\n\t\t\t\tthis.lastPosition.x = touch.pos.x;\r\n\t\t\t\tthis.lastPosition.y = touch.pos.y;\r\n\t\t\t\tthis.first = false;\r\n\t\t\t} else {\r\n\t\t\t\t//\u79FB\u52A8\u89E6\u78B0\u70B9\r\n\t\t\t\tvar deltaY: number = touch.pos.y - this.lastPosition.y;\r\n\t\t\t\tvar deltaX: number = touch.pos.x - this.lastPosition.x;\r\n\t\t\t\tthis.lastPosition.x = touch.pos.x;\r\n\t\t\t\tthis.lastPosition.y = touch.pos.y;\r\n\t\t\t\t//\u6839\u636E\u79FB\u52A8\u7684\u8DDD\u79BB\u8FDB\u884C\u65CB\u8F6C\r\n\t\t\t\tthis.tmpVector.setValue(1 * deltaY / 2, 1 * deltaX / 2, 0);\r\n\t\t\t\t((<Sprite3D>this.owner)).transform.rotate(this.tmpVector, true, false);\r\n\t\t\t}\r\n\t\t} else if (2 === touchCount) {\r\n\t\t\tthis._text.text = \"\u89E6\u63A7\u70B9\u4E3A2\";\r\n\t\t\tthis.isTwoTouch = true;\r\n\t\t\t//\u83B7\u53D6\u4E24\u4E2A\u89E6\u78B0\u70B9\r\n\t\t\tvar touch = Laya.InputManager.touches[0];\r\n\t\t\tvar touch2 = Laya.InputManager.touches[1];\r\n\t\t\t//\u662F\u5426\u4E3A\u65B0\u4E00\u6B21\u89E6\u78B0\uFF0C\u5E76\u672A\u53D1\u751F\u79FB\u52A8\r\n\t\t\tif (this.twoFirst) {\r\n\t\t\t\t//\u83B7\u53D6\u89E6\u78B0\u70B9\u7684\u4F4D\u7F6E\r\n\t\t\t\tthis.disVector1.x = touch.pos.x - touch2.pos.x;\r\n\t\t\t\tthis.disVector1.y = touch.pos.y - touch2.pos.y;\r\n\t\t\t\tthis.distance = Vector2.scalarLength(this.disVector1);\r\n\t\t\t\tthis.twoFirst = false;\r\n\t\t\t} else {\r\n\t\t\t\tthis.disVector2.x = touch.pos.x - touch2.pos.x;\r\n\t\t\t\tthis.disVector2.y = touch.pos.y - touch2.pos.y;\r\n\t\t\t\tvar distance2: number = Vector2.scalarLength(this.disVector2);\r\n\t\t\t\t//\u6839\u636E\u79FB\u52A8\u7684\u8DDD\u79BB\u8FDB\u884C\u7F29\u653E\r\n\t\t\t\tthis.tmpVector.setValue(0, 0, -0.01 * (distance2 - this.distance));\r\n\t\t\t\tthis._camera.transform.translate(this.tmpVector);\r\n\t\t\t\tthis.distance = distance2;\r\n\t\t\t}\r\n\t\t} else if (0 === touchCount) {\r\n\t\t\tthis._text.text = \"\u89E6\u63A7\u70B9\u5F52\u96F6\";\r\n\t\t\tthis.first = true;\r\n\t\t\tthis.twoFirst = true;\r\n\t\t\tthis.lastPosition.x = 0;\r\n\t\t\tthis.lastPosition.y = 0;\r\n\t\t\tthis.isTwoTouch = false;\r\n\t\t}\r\n\t}\r\n\r\n\tonLateUpdate(): void {\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c62a7d01-a001-47e8-b09e-9735cf9150db', '../src/3D/Light/DirectionLightDemo.ts')\r\nexport class DirectionLightDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate _quaternion: Quaternion = new Quaternion();\r\n\tprivate _direction: Vector3 = new Vector3();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.7, 1.3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t//\u65B9\u5411\u5149\u7684\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\t//\u52A0\u8F7D\u5730\u9762\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/staticModel/grid/plane.lh\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"];\r\n\t\tLaya.loader.load(resource).then((res:any[])=>{\r\n\r\n\t\t\tthis.scene.addChild(res[0].create());\r\n\t\t\tthis.scene.addChild(res[1].create());\r\n\r\n\t\t\t//\u8BBE\u7F6E\u65F6\u949F\u5B9A\u65F6\u6267\u884C\r\n\t\t\tLaya.timer.frameLoop(1, this, this.roll);\r\n\t\t});\r\n\r\n\t}\r\n\r\n\troll(): void{\r\n\t\t//\u4ECE\u6B27\u62C9\u89D2\u751F\u6210\u56DB\u5143\u6570\uFF08\u987A\u5E8F\u4E3AYaw\u3001Pitch\u3001Roll\uFF09\r\n\t\tQuaternion.createFromYawPitchRoll(0.025, 0, 0, this._quaternion);\r\n\t\t//\u6839\u636E\u56DB\u5143\u6570\u65CB\u8F6C\u4E09\u7EF4\u5411\u91CF\r\n\t\tthis.directionLight.transform.worldMatrix.getForward(this._direction);\r\n\t\tVector3.transformQuat(this._direction, this._quaternion, this._direction);\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(this._direction);\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\t}\r\n\r\n    onDestroy(): void {\r\n\t\tLaya.timer.clear(this, this.roll);\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport SpotLight = Laya.SpotLight;\r\nimport PointLight = Laya.PointLight;\r\nimport Transform3D = Laya.Transform3D;\r\nimport LightSprite = Laya.LightSprite;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('e3509569-515c-4fcd-b7b0-cdf89dc01af5', '../src/3D/Light/MultiLight.ts')\r\nexport class MultiLight extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar moveScript: LightMoveScript = this.camera.addComponent(LightMoveScript);\r\n\t\tvar moverLights: LightSprite[] = moveScript.lights;\r\n\t\tvar offsets: Vector3[] = moveScript.offsets;\r\n\t\tvar moveRanges: Vector3[] = moveScript.moveRanges;\r\n\t\tmoverLights.length = 15;\r\n\t\tfor (var i: number = 0; i < 15; i++) {\r\n\t\t\tvar pointLight: PointLight = (<PointLight>this.scene.addChild(new PointLight()));\r\n\t\t\tpointLight.range = 2.0 + Math.random() * 8.0;\r\n\t\t\tpointLight.color.setValue(Math.random(), Math.random(), Math.random(), 1);\r\n\t\t\tpointLight.intensity = 6.0 + Math.random() * 8;\r\n\t\t\tmoverLights[i] = pointLight;\r\n\t\t\toffsets[i] = new Vector3((Math.random() - 0.5) * 10, pointLight.range * 0.75, (Math.random() - 0.5) * 10);\r\n\t\t\tmoveRanges[i] = new Vector3((Math.random() - 0.5) * 40, 0, (Math.random() - 0.5) * 40);\r\n\t\t}\r\n\r\n\t\tvar spotLight: SpotLight = (<SpotLight>this.scene.addChild(new SpotLight()));\r\n\t\tspotLight.transform.localPosition = new Vector3(0.0, 9.0, -35.0);\r\n\t\tspotLight.transform.localRotationEuler = new Vector3(-15.0, 180.0, 0.0);\r\n\t\tspotLight.color.setValue(Math.random(), Math.random(), Math.random(), 1);\r\n\t\tspotLight.range = 50;\r\n\t\tspotLight.intensity = 15;\r\n\t\tspotLight.spotAngle = 60;\r\n\t}\r\n}\r\n\r\nclass LightMoveScript extends Laya.Script {\r\n\r\n\tforward: Vector3 = new Vector3();\r\n\tlights: LightSprite[] = [];\r\n\toffsets: Vector3[] = [];\r\n\tmoveRanges: Vector3[] = [];\r\n\r\n\tonUpdate(): void {\r\n\t\tvar seed: number = Laya.timer.currTimer * 0.002;\r\n\t\tfor (var i: number = 0, n: number = this.lights.length; i < n; i++) {\r\n\t\t\tvar transform: Transform3D = this.lights[i].transform;\r\n\t\t\tvar pos: Vector3 = transform.localPosition;\r\n\t\t\tvar off: Vector3 = this.offsets[i];\r\n\t\t\tvar ran: Vector3 = this.moveRanges[i];\r\n\t\t\tpos.x = off.x + Math.sin(seed) * ran.x;\r\n\t\t\tpos.y = off.y + Math.sin(seed) * ran.y;\r\n\t\t\tpos.z = off.z + Math.sin(seed) * ran.z;\r\n\t\t\ttransform.localPosition = pos;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\nimport PointLight = Laya.PointLight;\r\nimport Color = Laya.Color;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0b10d4a8-5e80-476f-b4ad-26659ca00747', '../src/3D/Light/PointLightDemo.ts')\r\nexport class PointLightDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate _temp_position: Vector3 = new Vector3();\r\n\tprivate _temp_quaternion: Quaternion = new Quaternion();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.7, 1.3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.active = false;\r\n\r\n\t\t//\u8BBE\u7F6E\u573A\u666F\u73AF\u5883\u5149\u989C\u8272\r\n\t\tthis.scene.ambientColor = new Color(0.1, 0.1, 0.1);\r\n\r\n\t\t//\u521B\u5EFA\u70B9\u5149\u6E90\r\n\t\tvar pointLight: PointLight = (<PointLight>this.scene.addChild(new PointLight()));\r\n\t\t//\u70B9\u5149\u6E90\u7684\u989C\u8272\r\n\t\tpointLight.color = new Color(1.0, 0.5, 0.0, 1);\r\n\t\tpointLight.transform.position = new Vector3(0.4, 0.4, 0.0);\r\n\t\t//\u8BBE\u7F6E\u70B9\u5149\u6E90\u7684\u8303\u56F4\r\n\t\tpointLight.range = 3.0;\r\n\r\n\t\t//\u52A0\u8F7D\u5730\u9762\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/staticModel/grid/plane.lh\",\r\n\t\t\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"];\r\n\t\tLaya.loader.load(resource).then((res:any[])=>{\r\n\r\n\t\t\tthis.scene.addChild(res[0].create());\r\n\t\t\tthis.scene.addChild(res[1].create());\r\n\r\n\t\t\t//\u8BBE\u7F6E\u65F6\u949F\u5B9A\u65F6\u6267\u884C\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\t\t//\u4ECE\u6B27\u62C9\u89D2\u751F\u6210\u56DB\u5143\u6570\uFF08\u987A\u5E8F\u4E3AYaw\u3001Pitch\u3001Roll\uFF09\r\n\t\t\t\tQuaternion.createFromYawPitchRoll(0.025, 0, 0, this._temp_quaternion);\r\n\t\t\t\t//\u6839\u636E\u56DB\u5143\u6570\u65CB\u8F6C\u4E09\u7EF4\u5411\u91CF\r\n\t\t\t\tVector3.transformQuat(pointLight.transform.position, this._temp_quaternion, this._temp_position);\r\n\t\t\t\tpointLight.transform.position = this._temp_position;\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport SkinnedMeshSprite3D = Laya.SkinnedMeshSprite3D;\r\nimport ShadowCascadesMode = Laya.ShadowCascadesMode;\r\nimport ShadowMode = Laya.ShadowMode;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c0342e29-ea97-4912-b2a1-7b242ff73181', '../src/3D/Light/RealTimeShadow.ts')\r\nexport class RealTimeShadow extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\t/** Roation speed. */\r\n\tautoRotateSpeed: Vector3 = new Vector3(0, 0.05, 0);\r\n\t/** If roation. */\r\n\trotation: boolean = true;\r\n\trotationScript: RotationScript;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.5, 2);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t//\u65B9\u5411\u5149\u7684\u989C\u8272\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.85, 0.85, 0.8, 1);\r\n\r\n\t\tLaya.loader.load([\r\n\t\t\t\"resources/res/threeDimen/staticModel/grid/plane.lh\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"\r\n\t\t]).then( ()=>{\r\n            this.onComplete();\r\n        });\r\n\t}\r\n\r\n\tprivate onComplete(): void {\r\n\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-Math.PI / 3, 0, 0));\r\n\r\n\t\t// Use soft shadow.\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).shadowMode = ShadowMode.SoftLow;\r\n\t\t// Set shadow max distance from camera.\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).shadowDistance = 50;\r\n\t\t// Set shadow cascade mode.\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).shadowCascadesMode = ShadowCascadesMode.FourCascades;\r\n\t\t// Set shadow normal bias.\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).shadowNormalBias = 1;\r\n\t\t// Add rotation script to light.\r\n\t\tthis.rotationScript = this.directionLight.addComponent(RotationScript);\r\n\r\n\t\t// A plane receive shadow.\r\n\t\tvar grid: Sprite3D = <Sprite3D>this.scene.addChild(Loader.getRes(\"resources/res/threeDimen/staticModel/grid/plane.lh\").create());\r\n\t\t(<MeshSprite3D>grid.getChildAt(0)).meshRenderer.receiveShadow = true;\r\n\r\n\t\t// A monkey cast shadow.\r\n\t\tvar layaMonkey: Sprite3D = <Sprite3D>this.scene.addChild(Loader.getRes(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").create());\r\n\t\tlayaMonkey.transform.setWorldLossyScale(new Vector3(3.3, 3.3, 3.3));\r\n\t\t(<SkinnedMeshSprite3D>layaMonkey.getChildAt(0).getChildAt(1)).skinnedMeshRenderer.castShadow = true;\r\n\r\n\t\t// A sphere cast/receive shadow.\r\n\t\tvar sphereSprite: MeshSprite3D = this.addPBRSphere(PrimitiveMesh.createSphere(0.1), new Vector3(0, 0.2, 0.5), this.scene);\r\n\t\tsphereSprite.meshRenderer.castShadow = true;\r\n\t\t// sphereSprite.meshRenderer.receiveShadow = true;\r\n\r\n\t\tsuper.addBottomButton( [\"\u505C\u6B62\u65CB\u8F6C\",\"\u5F00\u59CB\u65CB\u8F6C\"] , this, [this.Rotation, this.Rotation] );\r\n\t}\r\n\r\n\t/**\r\n\t * Add one with smoothness and metallic sphere.\r\n\t */\r\n\taddPBRSphere(sphereMesh: Mesh, position: Vector3, scene: Scene3D): MeshSprite3D {\r\n\t\tvar mat: PBRStandardMaterial = new PBRStandardMaterial();\r\n\t\tmat.smoothness = 0.2;\r\n\r\n\t\tvar meshSprite: MeshSprite3D = new MeshSprite3D(sphereMesh);\r\n\t\tmeshSprite.meshRenderer.sharedMaterial = mat;\r\n\t\tvar transform: Transform3D = meshSprite.transform;\r\n\t\ttransform.localPosition = position;\r\n\t\tscene.addChild(meshSprite);\r\n\t\treturn meshSprite;\r\n\t}\r\n\r\n\tRotation(): void {\r\n\r\n\t\tif (this.rotationScript.rotation) {\r\n\t\t\tthis.rotationScript.rotation = false;\r\n\t\t} else {\r\n\t\t\tthis.rotationScript.rotation = true;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Light rotation script.\r\n */\r\nclass RotationScript extends Laya.Script3D {\r\n\t/** Roation speed. */\r\n\tautoRotateSpeed: Vector3 = new Vector3(0, 0.05, 0);\r\n\t/** If roation. */\r\n\trotation: boolean = true;\r\n\r\n\tonUpdate(): void {\r\n\t\tif (this.rotation)\r\n\t\t\t(<DirectionLight>this.owner).transform.rotate(this.autoRotateSpeed, false);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Color = Laya.Color;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8191f8b7-bd56-41d1-bf6e-724ee1cdbe6d', '../src/3D/Light/SpotLightDemo.ts')\r\nexport class SpotLightDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight:Laya.Sprite3D;\r\n\r\n    private _quaternion:Laya.Quaternion = new Laya.Quaternion();\r\n    private _direction:Laya.Vector3 = new Laya.Vector3();\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.7, 1.3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.active = false;\r\n\t\t//\u8BBE\u7F6E\u573A\u666F\u73AF\u5883\u5149\u989C\u8272\r\n\t\tthis.scene.ambientColor = new Color(0.1, 0.1, 0.1);\r\n\r\n        //\u805A\u5149\u706F\r\n        var spotLight:Laya.SpotLight = this.scene.addChild(new Laya.SpotLight()) as Laya.SpotLight;\r\n        spotLight.color = new Laya.Color(1, 1, 0);\r\n        spotLight.transform.position = new Laya.Vector3(0.0, 1.2, 0.0);\r\n        var mat = spotLight.transform.worldMatrix;\r\n        mat.setForward(new Laya.Vector3(0.15, -1.0, 0.0));\r\n        spotLight.transform.worldMatrix = mat;\r\n        spotLight.range = 6.0;\r\n        spotLight.spotAngle = 32;\r\n\r\n\t\t//\u52A0\u8F7D\u5730\u9762\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/staticModel/grid/plane.lh\",\r\n\t\t                        \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"];\r\n                                \r\n\t\tLaya.loader.load(resource).then((res:any[])=>{\r\n\r\n\t\t\tthis.scene.addChild(res[0].create());\r\n\t\t\tthis.scene.addChild(res[1].create());\r\n\r\n            Laya.timer.frameLoop(1, this, ()=> {\r\n                Laya.Quaternion.createFromYawPitchRoll(0.025, 0, 0, this._quaternion);\r\n                spotLight.transform.worldMatrix.getForward(this._direction);\r\n                Laya.Vector3.transformQuat(this._direction, this._quaternion, this._direction);\r\n                var mat = spotLight.transform.worldMatrix;\r\n                mat.setForward(this._direction);\r\n                spotLight.transform.worldMatrix = mat;\r\n            });\r\n\t\t});\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport ShadowMode = Laya.ShadowMode;\r\nimport SpotLight = Laya.SpotLight;\r\nimport Node = Laya.Node;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d2730298-3464-4561-b69e-ac6f409e1038', '../src/3D/Light/SpotLightShadowMap.ts')\r\nexport class SpotLightShadowMap extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onStart(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        //\u805A\u5149\u706F\r\n        var spotLight:Laya.SpotLight = this.scene.addChild(new Laya.SpotLight()) as Laya.SpotLight;\r\n        spotLight.color = new Laya.Color(1, 1, 0);\r\n        spotLight.transform.position = new Laya.Vector3(-0.13, 7.86, 0.23);\r\n        spotLight.transform.rotationEuler = new Laya.Vector3(-90, 180, 0);\r\n        spotLight.range = 10;\r\n        spotLight.spotAngle = 53;\r\n\r\n        this.receaveRealShadow(this.scene);\r\n    }\r\n\r\n    receaveRealShadow(scene3d: Scene3D): void {\r\n\r\n        var childLength: number = scene3d.numChildren;\r\n        for (var i: number = 0; i < childLength; i++) {\r\n            var childSprite: Node = scene3d.getChildAt(i);\r\n            if (childSprite instanceof SpotLight) {\r\n                childSprite.shadowMode = ShadowMode.Hard;\r\n                // Set shadow max distance from camera.\r\n                childSprite.shadowDistance = 3;\r\n                // Set shadow resolution.\r\n                childSprite.shadowResolution = 512;\r\n                // set shadow Bias\r\n                childSprite.shadowDepthBias = 1.0;\r\n            }\r\n            else {\r\n                console.log(childSprite.name);\r\n                if( childSprite.getComponent(MeshRenderer) )\r\n                {\r\n                    childSprite.getComponent(MeshRenderer).receiveShadow = true;\r\n                    childSprite.getComponent(MeshRenderer).castShadow = true;\r\n                }\r\n                \r\n            }\r\n        }\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Quaternion = Laya.Quaternion;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('54227be2-84b8-4d3f-968a-33281d39294f', '../src/3D/Material/BlinnPhongMaterialLoad.ts')\r\nexport class BlinnPhongMaterialLoad extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u52A0\u8F7D\u6A21\u578B\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\").then((res)=> {\r\n\t\t\tvar layaMonkey: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(res)));\r\n\t\t\tlayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\t\tlayaMonkey.transform.rotation = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n\t\t\t//\u52A0\u8F7D\u6750\u8D28\r\n\t\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/Materials/T_Diffuse.lmat\").then((mat)=> {\r\n\t\t\t\tlayaMonkey.meshRenderer.material = mat;\r\n\t\t\t});\r\n\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=>  {\r\n\t\t\t\tlayaMonkey.transform.rotate(this.rotation, false);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Mesh = Laya.Mesh;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('61db83bc-6e33-4c07-b303-5a7de873bee3', '../src/3D/Material/BlinnPhong_DiffuseMap.ts')\r\nexport class BlinnPhong_DiffuseMap extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0, 2));\r\n\t\tthis.camera.transform.rotate(new Vector3(0, 0, 0), true, false);\r\n\t\t\r\n\t\t//\u521B\u5EFA\u4E00\u4E2ASphereMesh\r\n\t\tvar sphereMesh: Mesh = PrimitiveMesh.createSphere();\r\n\r\n\t\tvar earth1: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(sphereMesh)));\r\n\t\tearth1.transform.position = new Vector3(-0.6, 0, 0);\r\n\r\n\t\tvar earth2: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(sphereMesh)));\r\n\t\tearth2.transform.position = new Vector3(0.6, 0, 0);\r\n\t\tvar material: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\r\n\t\t//\u6F2B\u53CD\u5C04\u8D34\u56FE\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/earth.png\").then((texture: Texture2D)=>{\r\n\t\t\tmaterial.albedoTexture = texture;\r\n\t\t});\r\n\t\tearth2.meshRenderer.material = material;\r\n\r\n\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\tearth1.transform.rotate(this.rotation, false);\r\n\t\t\tearth2.transform.rotate(this.rotation, false);\r\n\t\t});\r\n\r\n\t\t//\u53EF\u4FEE\u6539\u6750\u8D28\u7684\u53CD\u7167\u7387\u5F3A\u5EA6\u7B49\r\n\t\tthis.addSlider(300, 0.01, 4, 1, 0.01, (value: number)=> {\r\n\t\t\tmaterial.albedoIntensity = value;\r\n\t\t});\r\n\t}\r\n\r\n    addSlider(width: number, min: number, max: number, value: number, tick: number, changeFunc: Function) {\r\n        let slider: Laya.HSlider = <Laya.HSlider>this.owner.addChild(new Laya.HSlider(\"resources/res/ui/hslider.png\"));\r\n        slider.width = width;\r\n        slider.min = min;\r\n        slider.max = max;\r\n        slider.value = value;\r\n        slider.tick = tick;\r\n\t\tslider.anchorX = 0.5;\r\n\t\tslider.x = this.pageWidth / 2;\r\n\t\tslider.y = this.pageHeight - 50;\r\n        slider.changeHandler = Laya.Handler.create(this, changeFunc, [], false);\r\n\r\n\t\tlet text = new Laya.Label(\"\u53CD\u7167\u7387\u5F3A\u5EA6\");\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\ttext.color = \"#FFFFFF\";\r\n\t\ttext.fontSize = 16;\r\n\t\ttext.width = 100;\r\n\t\ttext.anchorX = 0.5;\r\n\t\ttext.align = \"center\"; \r\n\t\ttext.x = slider.width / 2;\r\n\t\ttext.y = 20;\r\n\t\tslider.addChild(text);\t\t\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8fb78f89-ddaf-487f-a02b-cbfbc870d08a', '../src/3D/Material/BlinnPhong_NormalMap.ts')\r\nexport class BlinnPhong_NormalMap extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\tprivate normalMapUrl: any[] = [\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizardeye_norm.png\", \r\n\t\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_norm.png\", \r\n\t\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/rock_norm.png\"];\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0.6, 1.1));\r\n\t\tthis.camera.transform.rotate(new Vector3(-30, 0, 0), true, false);\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(0.0, -0.8, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/staticModel/lizard/lizard.lh\").then((res)=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n\t}\r\n\r\n\tonComplete(res:any): void {\r\n\r\n\t\tvar monster1: Sprite3D = (<Sprite3D>this.scene.addChild(res.create()));\r\n\t\tmonster1.transform.position = new Vector3(-0.6, 0, 0);\r\n\t\tmonster1.transform.localScale = new Vector3(0.075, 0.075, 0.075);\r\n\r\n\t\t\r\n\t\tvar monster2: Sprite3D = Sprite3D.instantiate(monster1, this.scene, false, new Vector3(0.6, 0, 0));\r\n\t\tmonster2.transform.localScale = new Vector3(0.075, 0.075, 0.075);\r\n\t\tfor (var i: number = 0; i < monster2.getChildByName(\"lizard\").numChildren; i++) {\r\n\t\t\tvar meshSprite3D: MeshSprite3D = (<MeshSprite3D>monster2.getChildByName(\"lizard\").getChildAt(i));\r\n\t\t\tvar material: BlinnPhongMaterial = (<BlinnPhongMaterial>meshSprite3D.getComponent(MeshRenderer).material);\r\n\t\t\t//\u6CD5\u7EBF\u8D34\u56FE\r\n\t\t\tLaya.loader.load(this.normalMapUrl[i]).then((texture: Texture2D)=> {\r\n\t\t\t\tmaterial.normalTexture = texture;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\tLaya.timer.frameLoop(1, this, () => {\r\n\t\t\tmonster1.transform.rotate(this.rotation);\r\n\t\t\tmonster2.transform.rotate(this.rotation);\r\n\t\t});\r\n\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Texture2D = Laya.Texture2D;\r\nimport SkinnedMeshRenderer = Laya.SkinnedMeshRenderer;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('70b4a5ec-a309-479e-8321-159ab6f342a6', '../src/3D/Material/BlinnPhong_SpecularMap.ts')\r\nexport class BlinnPhong_SpecularMap extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private rotation:Laya.Vector3 = new Laya.Vector3(0, 0.01, 0);\r\n    private specularMapUrl:Array<string> = [\r\n        \"resources/res/threeDimen/skinModel/dude/Assets/dude/headS.png\", \r\n        \"resources/res/threeDimen/skinModel/dude/Assets/dude/jacketS.png\", \r\n        \"resources/res/threeDimen/skinModel/dude/Assets/dude/pantsS.png\", \r\n        \"resources/res/threeDimen/skinModel/dude/Assets/dude/upBodyS.png\",\r\n        \"resources/res/threeDimen/skinModel/dude/Assets/dude/upBodyS.png\"\r\n    ];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 3, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n\t\tvar mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Vector3(0.0, -0.8, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/dude/dude.lh\").then((res)=> {\r\n\t\r\n\t\t\tvar dude1:Laya.Sprite3D = this.scene.addChild(res.create()) as Laya.Sprite3D;\r\n\t\t\tdude1.transform.position = new Laya.Vector3(-1.5, 0, 0);\r\n\t\t\t\r\n\t\t\tvar dude2:Laya.Sprite3D = Laya.Sprite3D.instantiate(dude1, this.scene, false, new Laya.Vector3(1.5, 0, 0));\r\n\t\t\tvar skinnedMeshSprite3d:Laya.SkinnedMeshSprite3D = dude2.getChildAt(0).getChildAt(0) as Laya.SkinnedMeshSprite3D;\r\n\t\t\t\r\n\t\t\t//\u9AD8\u5149\u8D34\u56FE\r\n\t\t\tfor (var i:number = 0; i < skinnedMeshSprite3d.getComponent(SkinnedMeshRenderer).materials.length; i++) {\r\n\t\t\t\tvar material:Laya.BlinnPhongMaterial = skinnedMeshSprite3d.getComponent(SkinnedMeshRenderer).materials[i] as Laya.BlinnPhongMaterial;\r\n\t\t\t\tLaya.loader.load(this.specularMapUrl[i]).then((texture: Texture2D)=> {\r\n\t\t\t\t\tmaterial.specularTexture = texture;\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\t\tdude1.transform.rotate(this.rotation);\r\n\t\t\t\tdude2.transform.rotate(this.rotation);\r\n\t\t\t});\r\n\r\n\t\t\t//\u53EF\u4FEE\u6539\u6750\u8D28\u7684\u9AD8\u5149\u5F3A\u5EA6\u7B49\r\n\t\t\tthis.addSlider(300, 0.01, 1, 0.07, 0.01, (value: number)=> {\r\n\t\t\t\t\r\n\t\t\t\tfor (var i:number = 0; i < skinnedMeshSprite3d.getComponent(SkinnedMeshRenderer).materials.length; i++) {\r\n\t\t\t\t\tvar material:Laya.BlinnPhongMaterial = skinnedMeshSprite3d.getComponent(SkinnedMeshRenderer).materials[i] as Laya.BlinnPhongMaterial;\r\n\t\t\t\t\tmaterial.shininess = value;\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t});\t\t\t\r\n\t\t});\r\n\t}\r\n\r\n    addSlider(width: number, min: number, max: number, value: number, tick: number, changeFunc: Function) {\r\n        let slider: Laya.HSlider = <Laya.HSlider>this.owner.addChild(new Laya.HSlider(\"resources/res/ui/hslider.png\"));\r\n        slider.width = width;\r\n        slider.min = min;\r\n        slider.max = max;\r\n        slider.value = value;\r\n        slider.tick = tick;\r\n\t\tslider.anchorX = 0.5;\r\n\t\tslider.x = this.pageWidth / 2;\r\n\t\tslider.y = this.pageHeight - 50;\r\n        slider.changeHandler = Laya.Handler.create(this, changeFunc, [], false);\r\n\r\n\t\tlet text = new Laya.Label(\"\u9AD8\u5149\u4EAE\u5EA6\");\r\n\t\t//\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n\t\ttext.color = \"#FFFFFF\";\r\n\t\ttext.fontSize = 16;\r\n\t\ttext.width = 100;\r\n\t\ttext.anchorX = 0.5;\r\n\t\ttext.align = \"center\"; \r\n\t\ttext.x = slider.width / 2;\r\n\t\ttext.y = 20;\r\n\t\tslider.addChild(text);\t\t\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Color = Laya.Color;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('de772b6a-4e10-4c52-9378-621b23e856fa', '../src/3D/Material/Blinnphong_Transmission.ts')\r\nexport class Blinnphong_Transmission extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate rabbitMaterial:BlinnPhongMaterial;\r\n\tprivate monkeyMaterial:BlinnPhongMaterial;\r\n\tprivate resource = [\r\n\t\t\"resources/res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/monkeyThinkness.png\",\r\n\t\t\"resources/res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/rabbitthickness.jpg\"\r\n\t];\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(9.48667, -0.10189, 6.16654));\r\n\t\tthis.camera.transform.rotate(new Vector3(-4.645, -17.161, 0), true, false);\r\n\r\n\t\t//\u52A0\u8F7D\u573A\u666F\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/LayaScene_TransmissionScene/Conventional/TransmissionScene.ls\").then((res)=> {\r\n\t\t\tlet scene = (<Scene3D>this.scene.addChild(res.create()));\r\n\t\t\tthis.rabbitMaterial = scene.getChildByName(\"rabbit\").getComponent(MeshRenderer).sharedMaterial as Laya.BlinnPhongMaterial;\r\n\t\t\tthis.monkeyMaterial = scene.getChildByName(\"monkey\").getComponent(MeshRenderer).sharedMaterial as Laya.BlinnPhongMaterial;\r\n\t\t\tthis.loadThinkNessTexture();\r\n\t\t});\r\n\r\n\t}\r\n\tloadThinkNessTexture(){\r\n\r\n\t\tLaya.loader.load(this.resource).then( ()=>{\r\n\t\t\tthis.onPreLoadFinish();\r\n\t\t} );\r\n\t}\r\n\r\n\tonPreLoadFinish(){\r\n\r\n\t\tthis.monkeyMaterial.thinknessTexture = Loader.getRes(\"resources/res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/monkeyThinkness.png\");\r\n\t\tthis.rabbitMaterial.thinknessTexture = Loader.getRes(\"resources/res/threeDimen/LayaScene_TransmissionScene/Conventional/Assets/rabbitthickness.jpg\");\r\n\t\tthis.rabbitMaterial.enableTransmission = true;\r\n\t\tthis.rabbitMaterial.transmissionRata = 0.0;\r\n\t\tthis.rabbitMaterial.backDiffuse = 4.88;\r\n\t\tthis.rabbitMaterial.transmissionColor = new Color(1.0,1.0,1.0,1.0);\r\n\t\tthis.rabbitMaterial.backScale = 1.0;\r\n\r\n\t\tthis.monkeyMaterial.enableTransmission = true;\r\n\t\tthis.monkeyMaterial.transmissionRata = 0.0;\r\n\t\tthis.monkeyMaterial.backDiffuse = 1.0;\r\n\t\tthis.monkeyMaterial.transmissionColor = new Color(0.2,1.0,0.0,1.0);\r\n\t\tthis.monkeyMaterial.backScale = 1.0;\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport EffectMaterial = Laya.EffectMaterial;\r\nimport Color = Laya.Color;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('87076eac-d1a3-472c-8c27-2bdba6ccaa32', '../src/3D/Material/EffectMaterialDemo.ts')\r\nexport class EffectMaterialDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0, 2));\r\n\t\tthis.camera.transform.rotate(new Vector3(0, 0, 0), true, false);\r\n\t\tthis.camera.clearFlag = CameraClearFlags.Sky;\r\n\r\n\t\tvar earth: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere())));\r\n\t\tearth.transform.position = new Vector3(0, 0, 0);\r\n\t\t//\u521B\u5EFAEffectMaterial\u6750\u8D28\r\n\t\tvar material: EffectMaterial = new EffectMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/earth.png\").then((texture: Texture2D)=>{\r\n\t\t\t//\u8BBE\u7F6E\u7EB9\u7406\r\n\t\t\tmaterial.texture = texture;\r\n\t\t\t//\u8BBE\u7F6E\u6750\u8D28\u989C\u8272\r\n\t\t\tmaterial.color = new Color(1, 1, 1, 1);\r\n\t\t});\r\n\t\t\r\n\t\tearth.meshRenderer.material = material;\r\n\r\n\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\tearth.transform.rotate(this.rotation, false);\r\n\t\t});\r\n\t\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport Loader = Laya.Loader;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c1827786-5bfe-44a2-9cb6-75d7084f93b2', '../src/3D/Material/MaterialDemo.ts')\r\nexport class MaterialDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private sphere: MeshSprite3D;\r\n\tprivate pbrStandardMaterial: PBRStandardMaterial;\r\n\tprivate pbrTexture: Texture2D;\r\n\tprivate billinMaterial: BlinnPhongMaterial;\r\n\tprivate index: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/earth.png\").then(()=>{\r\n\t\t\tthis.onPreLoadFinish();\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonPreLoadFinish() {\r\n\t\t//\u83B7\u53D6\u7403\u578B\u7CBE\u7075\r\n\t\tthis.sphere = (<MeshSprite3D>this.scene.getChildByName(\"Sphere\"));\r\n\t\t//\u83B7\u53D6\u7403\u578B\u7CBE\u7075\u81EA\u5E26\u7684BlinnPhong\u6750\u8D28\r\n\t\tthis.billinMaterial = (<BlinnPhongMaterial>this.sphere.getComponent(MeshRenderer).material);\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u65B0\u7684PBRStandard\u6750\u8D28\r\n\t\tthis.pbrStandardMaterial = new PBRStandardMaterial();\r\n\t\t//\u83B7\u53D6\u65B0\u7684\u7EB9\u7406\r\n\t\tthis.pbrTexture = Loader.getTexture2D(\"resources/res/threeDimen/texture/earth.png\");\r\n\t\t//\u4E3APBRStandard\u6750\u8D28\u8BBE\u7F6E\u6F2B\u53CD\u5C04\u8D34\u56FE\r\n\t\tthis.pbrStandardMaterial.albedoTexture = this.pbrTexture;\r\n\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362\u6750\u8D28\",\"\u5207\u6362\u6750\u8D28\"] , this, [this.change, this.change]);\r\n\t}\r\n\r\n\tchange(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 2 === 1) {\r\n\t\t\t//\u5207\u6362\u81F3PBRStandard\u6750\u8D28\r\n\t\t\tthis.sphere.getComponent(MeshRenderer).material = this.pbrStandardMaterial;\r\n\t\t} else {\r\n\t\t\t//\u5207\u6362\u81F3BlinnPhong\u6750\u8D28\r\n\t\t\tthis.sphere.getComponent(MeshRenderer).material = this.billinMaterial;\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport Transform3D = Laya.Transform3D;\r\nimport Color = Laya.Color;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('89f380ef-a603-42b1-bea4-0a77880435de', '../src/3D/Material/PBRCoatMaterialDemo.ts')\r\nexport class PBRCoatMaterialDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\t\r\n    private static _tempPos: Vector3 = new Vector3();\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar sphereMesh: Mesh = PrimitiveMesh.createSphere(0.25, 32, 32);\r\n\t\tconst row: number = 6;\r\n\t\tthis.addSpheresSmoothnessMetallic(sphereMesh, new Vector3(0, 1.5, 0), this.scene, 2, 6, new Color(186 / 255, 110 / 255, 64 / 255, 1.0), 1.0);\r\n\t\tvar label = new Laya.Label();\r\n\t\t//label.text = \"\u7B2C\u4E00\u884C\u4E3A\u9ED8\u8BA4PBR, \u7B2C\u4E8C\u884C\u4E3A\u5E26\u6709Coat\u6548\u679CPBR,\u5149\u6ED1\u5EA6\u4E3A0, \u4ECE\u5DE6\u81F3\u53F3\u91D1\u5C5E\u5EA6\u4F9D\u6B21\u9012\u589E\";\r\n\t\t// label.fontSize = 30;\r\n\t\t// label.color = \"#DC143C\";\r\n\t\t// label.pos(Laya.stage.width / 2 - 550, Laya.stage.height - 50);\r\n\t\t// Laya.stage.addChild(label);\r\n\t}\r\n\r\n\t/**\r\n\t * Add one with smoothness and metallic sphere.\r\n\t */\r\n\taddPBRSphere(sphereMesh: Mesh, position: Vector3, scene: Scene3D, color: Color, smoothness: number, metallic: number, coat : number, coatR : number, state : boolean): PBRStandardMaterial {\r\n\t\tvar mat: PBRStandardMaterial = new PBRStandardMaterial();\r\n\t\tmat.albedoColor = color;\r\n\t\tmat.smoothness = smoothness;\r\n\t\tmat.metallic = metallic;\r\n\t\tmat.clearCoatEnable = state;\r\n\t\tif(state)\r\n\t\t{\r\n\t\t\tmat.clearCoat = coat;\r\n\t\t\tmat.clearCoatRoughness = coatR;\r\n\t\t}\r\n\t\tvar meshSprite: MeshSprite3D = new MeshSprite3D(sphereMesh);\r\n\t\tmeshSprite.meshRenderer.sharedMaterial = mat;\r\n\t\tvar transform: Transform3D = meshSprite.transform;\r\n\t\ttransform.localPosition = position;\r\n\t\tscene.addChild(meshSprite);\r\n\t\treturn mat;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Add some different smoothness and metallic sphere.\r\n\t */\r\n\taddSpheresSmoothnessMetallic(sphereMesh: Mesh, offset: Vector3, scene: Scene3D, row: number, col: number, color: Color): void {\r\n\t\tconst width: number = col * 0.5;\r\n\t\tconst height: number = row * 0.5;\r\n\t\tfor (var i: number = 0, n: number = col; i < n; i++) {//diffenent smoothness\r\n\t\t\tfor (var j: number = 0, m: number = row; j < m; j++) {//diffenent metallic\r\n\t\t\t\tvar smoothness: number = 0.0;\r\n\t\t\t\tvar metallic: number = 1.0;\r\n\t\t\t\tif(j == 1) \r\n\t\t\t\t{\r\n\t\t\t\t\tvar state = true;\r\n\t\t\t\t\tvar coat = i / (m - 1) * (1 / col);\r\n\t\t\t\t\tvar coatR = 0.0;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tvar state = false;\r\n\t\t\t\t\tvar coat = 0.0;\r\n\t\t\t\t\tvar coatR = 0.0;\r\n\t\t\t\t} \r\n\r\n\t\t\t\tvar pos: Vector3 = PBRCoatMaterialDemo._tempPos;\r\n\t\t\t\tpos.setValue(-width / 2 + i * width / (n - 1), height / 2 - j * height / (m - 1), 3.0);\r\n\t\t\t\tVector3.add(offset, pos, pos);\r\n\t\t\t\tthis.addPBRSphere(sphereMesh, pos, scene, color, smoothness, metallic, coat, coatR, state);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\nimport Transform3D = Laya.Transform3D;\r\nimport Color = Laya.Color;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('05d3d54e-0e48-467e-ad79-dd0e9eb95d46', '../src/3D/Material/PBRMaterialDemo.ts')\r\nexport class PBRMaterialDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\t\r\n    private static _tempPos: Vector3 = new Vector3();\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar sphereMesh: Mesh = PrimitiveMesh.createSphere(0.25, 32, 32);\r\n\t\tconst row: number = 6;\r\n\t\tthis.addSpheresSpecialMetallic(sphereMesh, new Vector3(0, 1.5, 0), this.scene, row, new Color(186 / 255, 110 / 255, 64 / 255, 1.0), 1.0);\r\n\t\tthis.addSpheresSmoothnessMetallic(sphereMesh, new Vector3(0, 0, 0), this.scene, 3, row, new Color(1.0, 1.0, 1.0, 1.0));\r\n\t\tthis.addSpheresSpecialMetallic(sphereMesh, new Vector3(0, -1.5, 0), this.scene, row, new Color(0.0, 0.0, 0.0, 1.0), 0.0);\r\n\t\r\n\t}\r\n\r\n\t/**\r\n\t * Add one with smoothness and metallic sphere.\r\n\t */\r\n\taddPBRSphere(sphereMesh: Mesh, position: Vector3, scene: Scene3D, color: Color, smoothness: number, metallic: number): PBRStandardMaterial {\r\n\t\tvar mat: PBRStandardMaterial = new PBRStandardMaterial();\r\n\t\tmat.albedoColor = color;\r\n\t\tmat.smoothness = smoothness;\r\n\t\tmat.metallic = metallic;\r\n\r\n\t\tvar meshSprite: MeshSprite3D = new MeshSprite3D(sphereMesh);\r\n\t\tmeshSprite.meshRenderer.sharedMaterial = mat;\r\n\t\tvar transform: Transform3D = meshSprite.transform;\r\n\t\ttransform.localPosition = position;\r\n\t\tscene.addChild(meshSprite);\r\n\t\treturn mat;\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * Add some different smoothness and metallic sphere.\r\n\t */\r\n\taddSpheresSmoothnessMetallic(sphereMesh: Mesh, offset: Vector3, scene: Scene3D, row: number, col: number, color: Color): void {\r\n\t\tconst width: number = col * 0.5;\r\n\t\tconst height: number = row * 0.5;\r\n\t\tfor (var i: number = 0, n: number = col; i < n; i++) {//diffenent smoothness\r\n\t\t\tfor (var j: number = 0, m: number = row; j < m; j++) {//diffenent metallic\r\n\t\t\t\tvar smoothness: number = i / (n - 1);\r\n\t\t\t\tvar metallic: number = 1.0 - j / (m - 1);\r\n\r\n\t\t\t\tvar pos: Vector3 = PBRMaterialDemo._tempPos;\r\n\t\t\t\tpos.setValue(-width / 2 + i * width / (n - 1), height / 2 - j * height / (m - 1), 3.0);\r\n\t\t\t\tVector3.add(offset, pos, pos);\r\n\r\n\t\t\t\tthis.addPBRSphere(sphereMesh, pos, scene, color, smoothness, metallic);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * Add some different smoothness with special metallic sphere.\r\n\t */\r\n\taddSpheresSpecialMetallic(sphereMesh: Mesh, offset: Vector3, scene: Scene3D, col: number, color: Color, metallic: number = 0): void {\r\n\t\tconst width: number = col * 0.5;\r\n\t\tfor (var i: number = 0, n: number = col; i < n; i++) {//diffenent smoothness\r\n\t\t\tvar smoothness: number = i / (n - 1);\r\n\t\t\t// var metallic: number = metallic;\r\n\r\n\t\t\tvar pos: Vector3 = PBRMaterialDemo._tempPos;\r\n\t\t\tpos.setValue(-width / 2 + i * width / (n - 1), 0, 3.0);\r\n\t\t\tVector3.add(offset, pos, pos);\r\n\r\n\t\t\tthis.addPBRSphere(sphereMesh, pos, scene, color, smoothness, metallic);\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Material = Laya.Material;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Loader = Laya.Loader;\r\nimport Color = Laya.Color;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport Button = Laya.Button;\r\nimport RenderState = Laya.RenderState;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('41105c5b-6fc2-4b4c-b2ce-3ef3b9a36ab2', '../src/3D/Material/StencilDemo.ts')\r\nexport class StencilDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private sphere: MeshSprite3D;\r\n\tprivate stencilMat:Material;\r\n\tprivate index: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.depthTextureFormat = RenderTargetFormat.DEPTHSTENCIL_24_8;\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u6240\u6709\u8D44\u6E90\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/texture/earth.png\"];\r\n\t\tLaya.loader.load(resource).then(()=>{\r\n\t\t\tthis.onPreLoadFinish();\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tonPreLoadFinish() {\r\n        \r\n\t\t//\u83B7\u53D6\u7403\u578B\u7CBE\u7075\r\n\t\tthis.sphere = (<MeshSprite3D>this.scene.getChildByName(\"Sphere\"));\r\n        let sphereClone:MeshSprite3D = this.sphere.clone() as MeshSprite3D;\r\n        this.scene.addChild(sphereClone) \r\n        let matW = this.sphere.getComponent(MeshRenderer).sharedMaterial;\r\n\r\n        //\u6253\u5F00\u6750\u8D28\u6A21\u677F\u5199\u5165\r\n        matW.stencilRef = 2;\r\n        matW.stencilWrite = true;\r\n        matW.stencilTest = RenderState.STENCILTEST_ALWAYS;\r\n        matW.renderQueue = Material.RENDERQUEUE_OPAQUE;\r\n\r\n\t\tVector3.scale(sphereClone.transform.localScale,1.5,sphereClone.transform.localScale) ;\r\n        sphereClone.transform.localScale = sphereClone.transform.localScale;\r\n\r\n\t\t//\u5927\u7403\r\n        let mat:UnlitMaterial = new UnlitMaterial();\r\n        mat.albedoColor = new Color(0.8,0.5,0.1);\r\n\t\tmat.albedoTexture = Loader.getTexture2D(\"resources/res/threeDimen/texture/earth.png\");\r\n        sphereClone.getComponent(MeshRenderer).sharedMaterial = mat;\r\n        mat.stencilRef = 0;\r\n        mat.stencilWrite = false;\r\n        mat.stencilTest = RenderState.STENCILTEST_GEQUAL;\r\n        mat.renderQueue = Material.RENDERQUEUE_OPAQUE+1;\r\n        this.stencilMat = mat;\r\n        super.addBottomButton( [\"Stencil\u5173\u95ED\",\"Stencil\u5F00\u542F\"] , this, [this.setStencilTest, this.setStencilTest] );\r\n\t}\r\n\r\n\r\n\tsetStencilTest(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 2 === 1) {\r\n            this.stencilMat.stencilTest = RenderState.STENCILTEST_OFF;\r\n\t\t} else {\r\n            this.stencilMat.stencilTest = RenderState.STENCILTEST_GEQUAL;\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Mesh = Laya.Mesh;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('7c325942-90e6-468a-866c-dafa3682719e', '../src/3D/Material/UnlitMaterialDemo.ts')\r\nexport class UnlitMaterialDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = (new Vector3(0, 0, 2));\r\n\t\tthis.camera.transform.rotate(new Vector3(0, 0, 0), true, false);\r\n\t\tthis.camera.clearFlag = CameraClearFlags.Sky;\r\n\r\n\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u516C\u7528\u7684sphereMesh\r\n\t\tvar sphereMesh: Mesh = PrimitiveMesh.createSphere();\r\n\t\tvar earth1: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(sphereMesh)));\r\n\t\tearth1.transform.position = new Vector3(-0.6, 0, 0);\r\n\t\tvar earth2: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(sphereMesh)));\r\n\t\tearth2.transform.position = new Vector3(0.6, 0, 0);\r\n\r\n\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\tvar material: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/earth.png\").then((texture: Texture2D)=>{\r\n\t\t\t//\u8BBE\u7F6E\u53CD\u7167\u7387\u8D34\u56FE\r\n\t\t\tmaterial.albedoTexture = texture;\r\n\t\t});\r\n\t\tearth1.meshRenderer.material = material;\r\n\r\n\t\t//\u521B\u5EFAUnlit\u6750\u8D28\r\n\t\tvar material2: UnlitMaterial = new UnlitMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/earth.png\").then((texture: Texture2D)=>{\r\n\t\t\t//\u8BBE\u7F6E\u53CD\u7167\u7387\u8D34\u56FE\r\n\t\t\tmaterial2.albedoTexture = texture;\r\n\t\t});\r\n\t\tearth2.meshRenderer.material = material2;\r\n\r\n\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\tearth1.transform.rotate(this.rotation, false);\r\n\t\t\tearth2.transform.rotate(this.rotation, false);\r\n\t\t});\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport Quaternion = Laya.Quaternion;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Color = Laya.Color;\r\nimport PixelLineSprite3D = Laya.PixelLineSprite3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('3b0cde81-33ee-4c51-9e5f-19f8ee9bac28', '../src/3D/Mesh/BlendShape.ts')\r\nexport class MeshLoad extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\tprivate lineSprite3D: Sprite3D;\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\tprivate curStateIndex: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.8, 1.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\r\n\t\t//\u521B\u5EFA\u7CBE\u7075\r\n\t\tthis.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\t\tthis.lineSprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n\t\tLaya.loader.load(\"resources/gltf/monster.glb\", Laya.Loader.HIERARCHY).then(res => {\r\n\t\t\tthis.sprite3D = res.create();\r\n\t\t\tvar ani = this.sprite3D.getComponent(Laya.Animator);\r\n\t\t\tani.speed = 0.0;\r\n\t\t\tthis.scene.addChild(this.sprite3D);\r\n\t\t\tthis.initSlider();\r\n\t\t});\r\n\t}\r\n\r\n\tinitSlider(): void {\r\n\t\tvar skins: any[] = [];\r\n\t\tskins.push(\"resources/image/hslider.png\", \"resources/image/hslider$bar.png\");\r\n\t\tLaya.loader.load(skins, Laya.Handler.create(this, this.onLoadComplete));\r\n\t}\r\n\r\n\tprivate onLoadComplete(e: any = null): void {\r\n\t\tthis.placeHSlider();\r\n\t\tthis.placeHSlider1();\r\n\t}\r\n\r\n\tprivate placeHSlider(): void {\r\n\t\tvar hs: Laya.HSlider = new Laya.HSlider();\r\n\t\tvar label = new Laya.Label(\"target 20\");\r\n\t\tlabel.fontSize = 15;\r\n\t\tlabel.pos(this.pageWidth - 350, 170);\r\n\t\ths.skin = \"resources/image/hslider.png\";\r\n\t\ths.width = 300;\r\n\t\ths.pos(this.pageWidth - 350, 190);\r\n\t\ths.min = 0;\r\n\t\ths.max = 1;\r\n\t\ths.value = 0.1;\r\n\t\ths.tick = 0.01;\r\n\r\n\t\ths.changeHandler = new Laya.Handler(this, this.onChange);\r\n\t\tthis.box2D.addChild(hs);\r\n\t\tthis.box2D.addChild(label);\r\n\t}\r\n\r\n\tprivate placeHSlider1(): void {\r\n\t\tvar hs1: Laya.HSlider = new Laya.HSlider();\r\n\t\tvar label1 = new Laya.Label(\"target 26\");\r\n\t\tlabel1.fontSize = 15;\r\n\t\tlabel1.pos(this.pageWidth - 350, 210);\r\n\t\ths1.skin = \"resources/image/hslider.png\";\r\n\t\ths1.width = 300;\r\n\t\ths1.pos(this.pageWidth - 350, 230);\r\n\t\ths1.min = 0;\r\n\t\ths1.max = 1;\r\n\t\ths1.value = 0.1;\r\n\t\ths1.tick = 0.01;\r\n\r\n\t\ths1.changeHandler = new Laya.Handler(this, this.onChange1);\r\n\t\tthis.box2D.addChild(hs1);\r\n\t\tthis.box2D.addChild(label1);\r\n\t}\r\n\r\n\tprivate onChange(value: number): void {\r\n\t\tvar skin = this.sprite3D.getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0);\r\n\t\tvar skinRender : Laya.SkinnedMeshRenderer\u00A0= skin.getComponent(Laya.SkinnedMeshRenderer);\r\n\t\tskinRender.setMorphChannelWeight(\"target_20\", value)\r\n\t}\r\n\r\n\tprivate onChange1(value: number): void {\r\n\t\tvar skin = this.sprite3D.getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0).getChildAt(0);\r\n\t\tvar skinRender : Laya.SkinnedMeshRenderer\u00A0= skin.getComponent(Laya.SkinnedMeshRenderer);\r\n\t\tskinRender.setMorphChannelWeight(\"target_26\", value)\r\n\t}\r\n \r\n}\r\n\r\n// export class Tool {\r\n// \tprivate static transVertex0: Vector3 = new Vector3();\r\n// \tprivate static transVertex1: Vector3 = new Vector3();\r\n// \tprivate static transVertex2: Vector3 = new Vector3();\r\n// \tprivate static corners: Vector3[] = [];\r\n// \tstatic linearModel(sprite3D: Sprite3D, lineSprite3D: PixelLineSprite3D, color: Color): void {\r\n// \t\tif (sprite3D instanceof MeshSprite3D) {\r\n// \t\t\tvar meshSprite3D: MeshSprite3D = <MeshSprite3D>sprite3D;\r\n// \t\t\tvar mesh: Mesh = meshSprite3D.meshFilter.sharedMesh;\r\n// \t\t\tvar positions: Array<Vector3> = [];\r\n// \t\t\tmesh.getPositions(positions);\r\n// \t\t\tvar indices = mesh.getSubMesh(0).getIndices();\r\n\r\n// \t\t\tfor (var i: number = 0; i < indices.length; i += 3) {\r\n// \t\t\t\tvar vertex0: Vector3 = positions[indices[i]];\r\n// \t\t\t\tvar vertex1: Vector3 = positions[indices[i + 1]];\r\n// \t\t\t\tvar vertex2: Vector3 = positions[indices[i + 2]];\r\n// \t\t\t\tVector3.transformCoordinate(vertex0, meshSprite3D.transform.worldMatrix, this.transVertex0);\r\n// \t\t\t\tVector3.transformCoordinate(vertex1, meshSprite3D.transform.worldMatrix, this.transVertex1);\r\n// \t\t\t\tVector3.transformCoordinate(vertex2, meshSprite3D.transform.worldMatrix, this.transVertex2);\r\n// \t\t\t\tlineSprite3D.addLine(this.transVertex0, this.transVertex1, color, color);\r\n// \t\t\t\tlineSprite3D.addLine(this.transVertex1, this.transVertex2, color, color);\r\n// \t\t\t\tlineSprite3D.addLine(this.transVertex2, this.transVertex0, color, color);\r\n// \t\t\t}\r\n// \t\t}\r\n\r\n// \t\tfor (var i: number = 0, n: number = sprite3D.numChildren; i < n; i++)\r\n// \t\t\tTool.linearModel((<Sprite3D>sprite3D.getChildAt(i)), lineSprite3D, color);\r\n// \t}\r\n\r\n// \tstatic DrawBoundingBox(sprite3D: Sprite3D, sprite: Sprite3D, color: Color): void {\r\n// \t\t(<MeshSprite3D>sprite3D).meshRenderer.bounds.getCorners(Tool.corners);\r\n\r\n// \t\tvar rotate: Vector3 = new Vector3(0, 0, 90);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[1], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[2], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 90);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[3], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[0], rotate, sprite);\r\n\r\n// \t\trotate.setValue(0, 0, 90);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[4], Tool.corners[5], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[5], Tool.corners[6], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 90);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[6], Tool.corners[7], rotate, sprite);\r\n// \t\trotate.setValue(0, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[7], Tool.corners[4], rotate, sprite);\r\n\r\n// \t\trotate.setValue(90, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[4], rotate, sprite);\r\n// \t\trotate.setValue(90, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[5], rotate, sprite);\r\n\r\n// \t\trotate.setValue(90, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[6], rotate, sprite);\r\n// \t\trotate.setValue(90, 0, 0);\r\n// \t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[7], rotate, sprite);\r\n// \t}\r\n\r\n// \tprivate static DrawTwelveLines(start: Vector3, end: Vector3, rotate: Vector3, sprite3D: Sprite3D): void {\r\n// \t\tvar length: number = Vector3.distance(start, end);\r\n// \t\tvar cylinder: MeshSprite3D = (<MeshSprite3D>sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.004, length, 3))));\r\n// \t\tcylinder.transform.rotate(rotate, true, false);\r\n// \t\tvar cylPos: Vector3 = cylinder.transform.position;\r\n// \t\tvar x: number = start.x + end.x;\r\n// \t\tvar y: number = start.y + end.y;\r\n// \t\tvar z: number = start.z + end.z;\r\n// \t\tcylPos.setValue(x / 2, y / 2, z / 2);\r\n// \t\tcylinder.transform.position = cylPos;\r\n// \t}\r\n\r\n// \tconstructor() {\r\n// \t}\r\n\r\n// }", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport MeshFilter = Laya.MeshFilter;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('7a9f3e82-8383-4e45-84ce-8900012ca076', '../src/3D/Mesh/ChangeMesh.ts')\r\nexport class ChangeMesh extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate sphere: MeshSprite3D;\r\n\tprivate index: number = 0;\r\n\tprivate sphereMesh: Mesh;\r\n\tprivate box: Mesh;\r\n\tprivate capsule: Mesh;\r\n\tprivate cylinder: Mesh;\r\n\tprivate cone: Mesh;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n\t\t//\u83B7\u53D6\u7403\u578B\u7CBE\u7075\r\n\t\tthis.sphere = (<MeshSprite3D>this.scene.getChildByName(\"Sphere\"));\r\n\t\t//\u83B7\u53D6\u7CBE\u7075\u7684mesh\r\n\t\tthis.sphereMesh = this.sphere.getComponent(MeshFilter).sharedMesh;\r\n\t\t\r\n\t\tsuper.addBottomButton( [\"\u5207\u6362mesh\",\"\u5207\u6362mesh\",\"\u5207\u6362mesh\"] , this, [this.setMesh, this.setMesh, this.setMesh]);\r\n\r\n\t}\r\n\r\n\tsetMesh(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\t//\u5207\u6362mesh\r\n\t\t\tthis.box = PrimitiveMesh.createBox(0.5, 0.5, 0.5);\r\n\t\t\tthis.sphere.getComponent(MeshFilter).sharedMesh = this.box;\r\n\t\t} else if (this.index % 3 === 2) {\r\n\t\t\t//\u5207\u6362mesh\r\n\t\t\tthis.capsule = PrimitiveMesh.createCapsule(0.25, 1, 10, 20);\r\n\t\t\tthis.sphere.getComponent(MeshFilter).sharedMesh = this.capsule;\r\n\t\t} else {\r\n\t\t\t//\u5207\u6362mesh\r\n\t\t\tthis.sphere.getComponent(MeshFilter).sharedMesh = this.sphereMesh;\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Color = Laya.Color;\r\nimport PixelLineSprite3D = Laya.PixelLineSprite3D;\r\nimport Mesh = Laya.Mesh;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('4c9dc53e-0e5b-43ef-8b01-430008da119e', '../src/3D/Mesh/CustomMesh.ts')\r\nexport class CustomMesh extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\tprivate lineSprite3D: Sprite3D;\r\n\tprivate curStateIndex: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.8, 1.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\r\n\t\tthis.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\t\tthis.lineSprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n\t\t//\u6B63\u65B9\u4F53\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5))));\r\n\t\tbox.transform.position = new Vector3(2.0, 0.25, 0);\r\n\t\tbox.transform.rotate(new Vector3(0, 45, 0), false, false);\r\n\t\t//\u4E3A\u6B63\u65B9\u4F53\u6DFB\u52A0\u50CF\u7D20\u7EBF\u6E32\u67D3\u7CBE\u7075\r\n\t\tvar boxLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(100)));\r\n\t\t//\u8BBE\u7F6E\u50CF\u7D20\u7EBF\u6E32\u67D3\u7CBE\u7075\u7EBF\u6A21\u5F0F\r\n\t\tTool.linearModel(box, boxLineSprite3D, Color.GREEN);\r\n\r\n\t\t//\u7403\u4F53\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.25, 20, 20))));\r\n\t\tsphere.transform.position = new Vector3(1.0, 0.25, 0);\r\n\t\tvar sphereLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(3500)));\r\n\t\tTool.linearModel(sphere, sphereLineSprite3D, Color.GREEN);\r\n\r\n\t\t//\u5706\u67F1\u4F53\r\n\t\tvar cylinder: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.25, 1, 20))));\r\n\t\tcylinder.transform.position = new Vector3(0, 0.5, 0);\r\n\t\tvar cylinderLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(1000)));\r\n\t\tTool.linearModel(cylinder, cylinderLineSprite3D, Color.GREEN);\r\n\r\n\t\t//\u80F6\u56CA\u4F53\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(0.25, 1, 10, 20))));\r\n\t\tcapsule.transform.position = new Vector3(-1.0, 0.5, 0);\r\n\t\tvar capsuleLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(3000)));\r\n\t\tTool.linearModel(capsule, capsuleLineSprite3D, Color.GREEN);\r\n\r\n\t\t//\u5706\u9525\u4F53\r\n\t\tvar cone: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCone(0.25, 0.75))));\r\n\t\tcone.transform.position = new Vector3(-2.0, 0.375, 0);\r\n\t\tvar coneLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(500)));\r\n\t\tTool.linearModel(cone, coneLineSprite3D, Color.GREEN);\r\n\r\n\t\t//\u5E73\u9762\r\n\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(6, 6, 10, 10))));\r\n\t\tvar planeLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(1000)));\r\n\t\tTool.linearModel(plane, planeLineSprite3D, Color.GRAY);\r\n\r\n\t\tthis.lineSprite3D.active = false;\r\n\t\tsuper.addBottomButton( [\"\u7F51\u683C\u6A21\u5F0F\",\"\u6B63\u5E38\u6A21\u5F0F\"] , this, [this.setMesh, this.setMesh]);\r\n\t}\r\n\r\n\tsetMesh(): void {\r\n\t\tif (++this.curStateIndex % 2 == 1) {\r\n\t\t\tthis.sprite3D.active = false;\r\n\t\t\tthis.lineSprite3D.active = true;\r\n\t\t} else {\r\n\t\t\tthis.sprite3D.active = true;\r\n\t\t\tthis.lineSprite3D.active = false;\r\n\t\t}\r\n\t}\r\n \r\n}\r\n\r\nexport class Tool {\r\n\tprivate static transVertex0: Vector3 = new Vector3();\r\n\tprivate static transVertex1: Vector3 = new Vector3();\r\n\tprivate static transVertex2: Vector3 = new Vector3();\r\n\tprivate static corners: Vector3[] = [];\r\n\tstatic linearModel(sprite3D: Sprite3D, lineSprite3D: PixelLineSprite3D, color: Color): void {\r\n\t\tif (sprite3D instanceof MeshSprite3D) {\r\n\t\t\tvar meshSprite3D: MeshSprite3D = <MeshSprite3D>sprite3D;\r\n\t\t\tvar mesh: Mesh = meshSprite3D.meshFilter.sharedMesh;\r\n\t\t\tvar positions: Array<Vector3> = [];\r\n\t\t\tmesh.getPositions(positions);\r\n\t\t\tvar indices = mesh.getSubMesh(0).getIndices();\r\n\r\n\t\t\tfor (var i: number = 0; i < indices.length; i += 3) {\r\n\t\t\t\tvar vertex0: Vector3 = positions[indices[i]];\r\n\t\t\t\tvar vertex1: Vector3 = positions[indices[i + 1]];\r\n\t\t\t\tvar vertex2: Vector3 = positions[indices[i + 2]];\r\n\t\t\t\tVector3.transformCoordinate(vertex0, meshSprite3D.transform.worldMatrix, this.transVertex0);\r\n\t\t\t\tVector3.transformCoordinate(vertex1, meshSprite3D.transform.worldMatrix, this.transVertex1);\r\n\t\t\t\tVector3.transformCoordinate(vertex2, meshSprite3D.transform.worldMatrix, this.transVertex2);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex0, this.transVertex1, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex1, this.transVertex2, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex2, this.transVertex0, color, color);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i: number = 0, n: number = sprite3D.numChildren; i < n; i++)\r\n\t\t\tTool.linearModel((<Sprite3D>sprite3D.getChildAt(i)), lineSprite3D, color);\r\n\t}\r\n\r\n\tstatic DrawBoundingBox(sprite3D: Sprite3D, sprite: Sprite3D, color: Color): void {\r\n\t\t(<MeshSprite3D>sprite3D).meshRenderer.bounds.getCorners(Tool.corners);\r\n\r\n\t\tvar rotate: Vector3 = new Vector3(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[1], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[2], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[3], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[0], rotate, sprite);\r\n\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[4], Tool.corners[5], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[5], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[6], Tool.corners[7], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[7], Tool.corners[4], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[4], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[5], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[7], rotate, sprite);\r\n\t}\r\n\r\n\tprivate static DrawTwelveLines(start: Vector3, end: Vector3, rotate: Vector3, sprite3D: Sprite3D): void {\r\n\t\tvar length: number = Vector3.distance(start, end);\r\n\t\tvar cylinder: MeshSprite3D = (<MeshSprite3D>sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.004, length, 3))));\r\n\t\tcylinder.transform.rotate(rotate, true, false);\r\n\t\tvar cylPos: Vector3 = cylinder.transform.position;\r\n\t\tvar x: number = start.x + end.x;\r\n\t\tvar y: number = start.y + end.y;\r\n\t\tvar z: number = start.z + end.z;\r\n\t\tcylPos.setValue(x / 2, y / 2, z / 2);\r\n\t\tcylinder.transform.position = cylPos;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n}\r\n\r\n\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport Quaternion = Laya.Quaternion;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Color = Laya.Color;\r\nimport PixelLineSprite3D = Laya.PixelLineSprite3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('24ca5702-da0a-4d0b-bb44-8e1bd939c940', '../src/3D/Mesh/MeshLoad.ts')\r\nexport class MeshLoad extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\tprivate lineSprite3D: Sprite3D;\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\tprivate curStateIndex: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.8, 1.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\r\n\t\t//\u521B\u5EFA\u7CBE\u7075\r\n\t\tthis.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\t\tthis.lineSprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n\t\t//\u52A0\u8F7Dmesh\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\").then((mesh: Mesh)=> {\r\n\t\t\tvar layaMonkey: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(mesh)));\r\n\t\t\tlayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\t\tlayaMonkey.transform.rotation = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n\t\t\t//\u521B\u5EFA\u50CF\u7D20\u7EBF\u6E32\u67D3\u7CBE\u7075\r\n\t\t\tvar layaMonkeyLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(5000)));\r\n\t\t\t//\u8BBE\u7F6E\u50CF\u7D20\u7EBF\u6E32\u67D3\u7CBE\u7075\u7EBF\u6A21\u5F0F\r\n\t\t\tTool.linearModel(layaMonkey, layaMonkeyLineSprite3D, Color.GREEN);\r\n\r\n\t\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(6, 6, 10, 10))));\r\n\t\t\tplane.transform.position = new Vector3(0, 0, -1);\r\n\t\t\tvar planeLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(1000)));\r\n\t\t\tTool.linearModel(plane, planeLineSprite3D, Color.GRAY);\r\n\r\n\t\t\t//\u8BBE\u7F6E\u65F6\u949F\u5B9A\u65F6\u6267\u884C\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\t\tlayaMonkeyLineSprite3D.transform.rotate(this.rotation, false);\r\n\t\t\t\tlayaMonkey.transform.rotate(this.rotation, false);\r\n\t\t\t});\r\n\r\n\t\t\tthis.lineSprite3D.active = false;\r\n\t\t\tsuper.addBottomButton( [\"\u7F51\u683C\u6A21\u5F0F\",\"\u6B63\u5E38\u6A21\u5F0F\"] , this, [this.setMesh, this.setMesh]);\r\n\t\t});\r\n\t}\r\n\r\n\tsetMesh(): void {\r\n\t\t\r\n\t\tif (++this.curStateIndex % 2 == 1) {\r\n\t\t\tthis.sprite3D.active = false;\r\n\t\t\tthis.lineSprite3D.active = true;\r\n\t\t} else {\r\n\t\t\tthis.sprite3D.active = true;\r\n\t\t\tthis.lineSprite3D.active = false;\r\n\t\t}\r\n\t}\r\n \r\n}\r\n\r\nexport class Tool {\r\n\tprivate static transVertex0: Vector3 = new Vector3();\r\n\tprivate static transVertex1: Vector3 = new Vector3();\r\n\tprivate static transVertex2: Vector3 = new Vector3();\r\n\tprivate static corners: Vector3[] = [];\r\n\tstatic linearModel(sprite3D: Sprite3D, lineSprite3D: PixelLineSprite3D, color: Color): void {\r\n\t\tif (sprite3D instanceof MeshSprite3D) {\r\n\t\t\tvar meshSprite3D: MeshSprite3D = <MeshSprite3D>sprite3D;\r\n\t\t\tvar mesh: Mesh = meshSprite3D.meshFilter.sharedMesh;\r\n\t\t\tvar positions: Array<Vector3> = [];\r\n\t\t\tmesh.getPositions(positions);\r\n\t\t\tvar indices = mesh.getSubMesh(0).getIndices();\r\n\r\n\t\t\tfor (var i: number = 0; i < indices.length; i += 3) {\r\n\t\t\t\tvar vertex0: Vector3 = positions[indices[i]];\r\n\t\t\t\tvar vertex1: Vector3 = positions[indices[i + 1]];\r\n\t\t\t\tvar vertex2: Vector3 = positions[indices[i + 2]];\r\n\t\t\t\tVector3.transformCoordinate(vertex0, meshSprite3D.transform.worldMatrix, this.transVertex0);\r\n\t\t\t\tVector3.transformCoordinate(vertex1, meshSprite3D.transform.worldMatrix, this.transVertex1);\r\n\t\t\t\tVector3.transformCoordinate(vertex2, meshSprite3D.transform.worldMatrix, this.transVertex2);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex0, this.transVertex1, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex1, this.transVertex2, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex2, this.transVertex0, color, color);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i: number = 0, n: number = sprite3D.numChildren; i < n; i++)\r\n\t\t\tTool.linearModel((<Sprite3D>sprite3D.getChildAt(i)), lineSprite3D, color);\r\n\t}\r\n\r\n\tstatic DrawBoundingBox(sprite3D: Sprite3D, sprite: Sprite3D, color: Color): void {\r\n\t\t(<MeshSprite3D>sprite3D).meshRenderer.bounds.getCorners(Tool.corners);\r\n\r\n\t\tvar rotate: Vector3 = new Vector3(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[1], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[2], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[3], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[0], rotate, sprite);\r\n\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[4], Tool.corners[5], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[5], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[6], Tool.corners[7], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[7], Tool.corners[4], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[4], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[5], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[7], rotate, sprite);\r\n\t}\r\n\r\n\tprivate static DrawTwelveLines(start: Vector3, end: Vector3, rotate: Vector3, sprite3D: Sprite3D): void {\r\n\t\tvar length: number = Vector3.distance(start, end);\r\n\t\tvar cylinder: MeshSprite3D = (<MeshSprite3D>sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.004, length, 3))));\r\n\t\tcylinder.transform.rotate(rotate, true, false);\r\n\t\tvar cylPos: Vector3 = cylinder.transform.position;\r\n\t\tvar x: number = start.x + end.x;\r\n\t\tvar y: number = start.y + end.y;\r\n\t\tvar z: number = start.z + end.z;\r\n\t\tcylPos.setValue(x / 2, y / 2, z / 2);\r\n\t\tcylinder.transform.position = cylPos;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport Color = Laya.Color;\r\nimport ShurikenParticleRenderer = Laya.ShurikenParticleRenderer;\r\nimport ShurikenParticleSystem = Laya.ShurikenParticleSystem;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('5eea8353-e9cb-4b19-b502-9476e37c9539', '../src/3D/Particle/Particle_BurningGround.ts')\r\nexport class Particle_BurningGround extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private particle: Sprite3D;\r\n    private particleSystem: ShurikenParticleSystem[] = [];\r\n\tprivate index: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\t\tthis.camera.clearColor = new Color(0, 0, 0, 1);\r\n\r\n        //\u57283.0IDE\u4E2D\u5236\u4F5C\u7C92\u5B50\u7CFB\u7EDF\uFF0C\u53EF\u4EE5\u7528\u4EE3\u7801\u4FEE\u6539\u7C92\u5B50\u7CFB\u7EDF\u7684\u5C5E\u6027\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/particle/ETF_Burning_Ground.lh\").then( (res)=> {\r\n\t\t\tthis.particle = this.scene.addChild(res.create());\r\n\r\n            this.particle = this.particle.getChildAt(0) as Sprite3D;\r\n            //\u901A\u8FC7Sprite3D\u83B7\u5F97ShurikenParticleRenderer\r\n            let particleRenderer: ShurikenParticleRenderer = this.particle.getComponent(ShurikenParticleRenderer);\r\n            var mat = particleRenderer.sharedMaterial;\r\n            console.log(particleRenderer);\r\n            //\u901A\u8FC7ShurikenParticleRenderer\u83B7\u5F97ShurikenParticleSystem\r\n            this.particleSystem.push(particleRenderer.particleSystem);\r\n\r\n            for( let i = 0; i< this.particle.numChildren; i++ )\r\n            {\r\n                //\u901A\u8FC7Sprite3D\u83B7\u5F97ShurikenParticleRenderer\r\n                let particleRenderer1: ShurikenParticleRenderer = this.particle.getChildAt(i).getComponent(ShurikenParticleRenderer);\r\n                //\u901A\u8FC7ShurikenParticleRenderer\u83B7\u5F97ShurikenParticleSystem\r\n                this.particleSystem.push(particleRenderer1.particleSystem);\r\n            }\r\n\t\t});\r\n\r\n        super.addBottomButton( [\"\u53BB\u6389\u5FAA\u73AF\u64AD\u653E\",\"\u6062\u590D\u5FAA\u73AF\u64AD\u653E\",\"\u52A0\u901F\u64AD\u653E\"] , this, [this.change, this.change, this.change]);\r\n\r\n\t}\r\n\r\n\tchange(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\t//\u53BB\u6389\u5FAA\u73AF\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n            {\r\n                this.particleSystem[i].looping = false;\r\n                this.particleSystem[i].simulationSpeed = 1;\r\n            }\r\n                \r\n\t\t} else if (this.index % 3 === 2) {\r\n\t\t\t//\u6062\u590D\u5FAA\u73AF\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n            {\r\n                this.particleSystem[i].looping = true;\r\n                this.particleSystem[i].play();\r\n            }\r\n                \r\n\t\t} else {\r\n\t\t\t//\u52A0\u901F\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n                this.particleSystem[i].simulationSpeed = 10;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport Color = Laya.Color;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport ShurikenParticleRenderer = Laya.ShurikenParticleRenderer;\r\nimport ShurikenParticleSystem = Laya.ShurikenParticleSystem;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d541fe0e-8ad3-4fe5-ad82-88c95454d9b7', '../src/3D/Particle/Particle_EternalLight.ts')\r\nexport class Particle_EternalLight extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private particle: Sprite3D;\r\n    private particleSystem: ShurikenParticleSystem[] = [];\r\n\tprivate index: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tthis.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\t\tthis.camera.clearColor = new Color(0, 0, 0, 1);\r\n\r\n        //\u57283.0IDE\u4E2D\u5236\u4F5C\u7C92\u5B50\u7CFB\u7EDF\uFF0C\u53EF\u4EE5\u7528\u4EE3\u7801\u4FEE\u6539\u7C92\u5B50\u7CFB\u7EDF\u7684\u5C5E\u6027\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/particle/ETF_Eternal_Light.lh\").then( (res)=> {\r\n\r\n\t\t\tthis.particle = this.scene.addChild(res.create());\r\n\r\n            this.particle = this.particle.getChildAt(0) as Sprite3D;\r\n            //\u901A\u8FC7Sprite3D\u83B7\u5F97ShurikenParticleRenderer\r\n            let particleRenderer: ShurikenParticleRenderer = this.particle.getComponent(ShurikenParticleRenderer);\r\n            //\u901A\u8FC7ShurikenParticleRenderer\u83B7\u5F97ShurikenParticleSystem\r\n            this.particleSystem.push(particleRenderer.particleSystem);\r\n\r\n            for( let i = 0; i< this.particle.numChildren; i++ )\r\n            {\r\n                //\u901A\u8FC7Sprite3D\u83B7\u5F97ShurikenParticleRenderer\r\n                let particleRenderer1: ShurikenParticleRenderer = this.particle.getChildAt(i).getComponent(ShurikenParticleRenderer);\r\n                //\u901A\u8FC7ShurikenParticleRenderer\u83B7\u5F97ShurikenParticleSystem\r\n                this.particleSystem.push(particleRenderer1.particleSystem);\r\n            }\r\n\t\t});\r\n        super.addBottomButton( [\"\u53BB\u6389\u5FAA\u73AF\u64AD\u653E\",\"\u6062\u590D\u5FAA\u73AF\u64AD\u653E\",\"\u52A0\u901F\u64AD\u653E\"] , this, [this.change, this.change, this.change]);\r\n\r\n\t}\r\n\r\n\tchange(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\t//\u53BB\u6389\u5FAA\u73AF\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n            {\r\n                this.particleSystem[i].looping = false;\r\n                this.particleSystem[i].simulationSpeed = 1;\r\n            }\r\n                \r\n\t\t} else if (this.index % 3 === 2) {\r\n\t\t\t//\u6062\u590D\u5FAA\u73AF\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n            {\r\n                this.particleSystem[i].looping = true;\r\n                this.particleSystem[i].play();\r\n            }\r\n                \r\n\t\t} else {\r\n\t\t\t//\u52A0\u901F\u64AD\u653E\r\n            for( let i = 0; i< this.particleSystem.length; i++ )\r\n                this.particleSystem[i].simulationSpeed = 10;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Scene3D = Laya.Scene3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Mesh = Laya.Mesh;\r\nimport Texture2D = Laya.Texture2D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('05b00a16-ebe7-459a-81d3-ba04127e4f17', '../src/3D/PerformanceTest/DynamicBatchTest.ts')\r\nexport class DynamicBatchTest extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6.2, 10.5);\r\n\t\tthis.camera.transform.rotationEuler = new Vector3(-40, 0, 0);\r\n\r\n        Laya.loader.load(\"resources/res/threeDimen/layabox.png\").then((tex:Texture2D)=>{\r\n\t\t\tvar radius: Vector3 = new Vector3(0, 0, 1);\r\n\t\t\tvar radMatrix: Matrix4x4 = new Matrix4x4();\r\n\t\t\tvar circleCount: number = 50;\r\n\r\n\t\t\tvar boxMesh: Mesh = PrimitiveMesh.createBox(0.02, 0.02, 0.02);\r\n\t\t\tvar boxMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t\tboxMat.albedoTexture = tex;\r\n\t\t\tfor (var i: number = 0; i < circleCount; i++) {\r\n\t\t\t\tradius.z = 1.0 + i * 0.15;\r\n\t\t\t\tradius.y = i * 0.03;\r\n\t\t\t\tvar oneCircleCount: number = 100 + i * 15;\r\n\t\t\t\tfor (var j: number = 0; j < oneCircleCount; j++) {\r\n\t\t\t\t\tvar boxSprite: MeshSprite3D = new MeshSprite3D(boxMesh);\r\n\t\t\t\t\tboxSprite.meshRenderer.sharedMaterial = boxMat;\r\n\t\t\t\t\tvar localPos: Vector3 = boxSprite.transform.localPosition;\r\n\t\t\t\t\tvar rad: number = ((Math.PI * 2) / oneCircleCount) * j;\r\n\t\t\t\t\tMatrix4x4.createRotationY(rad, radMatrix);\r\n\t\t\t\t\tVector3.transformCoordinate(radius, radMatrix, localPos);\r\n\t\t\t\t\tboxSprite.transform.localPosition = localPos;\r\n\t\t\t\t\tthis.scene.addChild(boxSprite);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Material = Laya.Material;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Animator = Laya.Animator;\r\nimport Mesh = Laya.Mesh;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Quaternion = Laya.Quaternion;\r\nimport AnimationClip = Laya.AnimationClip;\r\nimport AnimatorState = Laya.AnimatorState;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport SkyBoxMaterial = Laya.SkyBoxMaterial;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport SkyBox = Laya.SkyBox;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\n\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0b1e65a6-6e00-4885-b58a-54ae9acbda08', '../src/3D/PerformanceTest/StaticBatchingTest.ts')\r\nexport class StaticBatchingTest extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * \u7EC4\u4EF6\u88AB\u6FC0\u6D3B\u540E\u6267\u884C\uFF0C\u6B64\u65F6\u6240\u6709\u8282\u70B9\u548C\u7EC4\u4EF6\u5747\u5DF2\u521B\u5EFA\u5B8C\u6BD5\uFF0C\u6B64\u65B9\u6CD5\u53EA\u6267\u884C\u4E00\u6B21\r\n     */\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport CylinderColliderShape = Laya.CylinderColliderShape;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport ConeColliderShape = Laya.ConeColliderShape;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('3f74ca02-f4fc-4548-8292-63f8adf9ccde', '../src/3D/PhysicsWorld/PhysicsWorld_BaseCollider.ts')\r\nexport class PhysicsWorld_BaseCollider extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tvar resource:any[] = [\r\n\r\n            \"resources/res/threeDimen/Physics/rocks.jpg\",\r\n            \"resources/res/threeDimen/Physics/plywood.jpg\",\r\n\t\t\t\"resources/res/threeDimen/Physics/wood.jpg\",\r\n\t\t\t\"resources/res/threeDimen/Physics/steel2.jpg\",\r\n\t\t\t\"resources/res/threeDimen/Physics/steel.jpg\"\r\n        ];\r\n\r\n        Laya.loader.load(resource).then( (res:any[] )=>{\r\n\r\n\t\t\t//\u521D\u59CB\u5316\u8D44\u6E90\r\n            this.onComplete(res);\r\n        });\r\n\r\n\t}\r\n\r\n\tonComplete(res:any[]):void{\r\n\r\n        //\u5E73\u9762\r\n        var plane:Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(20, 20, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n        planeMat.albedoTexture = res[2];\r\n        //\u8BBE\u7F6E\u7EB9\u7406\u5E73\u94FA\u548C\u504F\u79FB\r\n        planeMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n        //\u8BBE\u7F6E\u6750\u8D28\r\n        plane.meshRenderer.material = planeMat;\r\n\r\n        //\u5E73\u9762\u6DFB\u52A0\u7269\u7406\u78B0\u649E\u4F53\u7EC4\u4EF6\r\n        var planeStaticCollider: PhysicsCollider = plane.addComponent(PhysicsCollider);\r\n        //\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n        var planeShape: BoxColliderShape = new BoxColliderShape(10, 0, 10);\r\n        //\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F62\u72B6\r\n        planeStaticCollider.colliderShape = planeShape;\r\n        //\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u6469\u64E6\u529B\r\n        planeStaticCollider.friction = 2;\r\n        //\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F39\u529B\r\n        planeStaticCollider.restitution = 0.3;\r\n\r\n\t\tthis.addBox();\r\n        //\u968F\u673A\u751F\u6210\u7CBE\u7075\r\n        this.randomAddPhysicsSprite();\r\n\t}\r\n    \r\n\trandomAddPhysicsSprite(): void {\r\n\t\tLaya.timer.loop(1000, this, ()=> {\r\n\t\t\tvar random: number = Math.floor(Math.random() * 5) % 5;\r\n\t\t\tswitch (random) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthis.addBox();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.addSphere();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tthis.addCapsule();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 3:\r\n\t\t\t\t\tthis.addCone();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 4:\r\n\t\t\t\t\tthis.addCylinder();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddBox(): void {\r\n\r\n\t\t//\u968F\u673A\u751F\u6210\u5750\u6807\u503C\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tbox.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((res)=>{\r\n\t\t\t(box.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddSphere(): void {\r\n\r\n\t\t//\u968F\u673A\u751F\u6210\u534A\u5F84\u5927\u5C0F\r\n\t\tvar radius: number = Math.random() * 0.2 + 0.2;\r\n\t\t//\u521B\u5EFA\u7403\u578BMeshSprite3D\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tsphere.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((res)=>{\r\n\t\t\t(sphere.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\t\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\t//\u6DFB\u52A0\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCapsule(): void {\r\n\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u80F6\u56CAMeshSprite3D\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcapsule.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(capsule.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u80F6\u56CAMeshSprite3D\u7684\u6B27\u62C9\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCone(): void {\r\n\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u5706\u9525MeshSprite3D\r\n\t\tvar cone: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createCone(raidius, height));\r\n\t\tthis.scene.addChild(cone);\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcone.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/steel2.jpg\").then((res)=>{\r\n\t\t\t(cone.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tvar pos: Vector3 = cone.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tcone.transform.position = pos;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = cone.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar coneShape: ConeColliderShape = new ConeColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = coneShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCylinder(): void {\r\n\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u5706\u9525MeshSprite3D\r\n\t\tvar cylinder: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createCylinder(raidius, height));\r\n\t\tthis.scene.addChild(cylinder);\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcylinder.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/steel.jpg\").then((res)=>{\r\n\t\t\t(cylinder.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tvar transform: Transform3D = cylinder.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u5706\u67F1MeshSprite3D\u7684\u6B27\u62C9\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = cylinder.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar cylinderShape: CylinderColliderShape = new CylinderColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = cylinderShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport Index from \"../../Index\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Event = Laya.Event;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport HitResult = Laya.HitResult;\r\nimport Vector2 = Laya.Vector2;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Ray = Laya.Ray;\r\nimport Mesh = Laya.Mesh;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('bff20f3d-f89d-431c-a225-c6962910008d', '../src/3D/PhysicsWorld/PhysicsWorld_BuildingBlocks.ts')\r\nexport class PhysicsWorld_BuildingBlocks extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate ray: Ray = new Ray(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n\tprivate point: Vector2 = new Vector2();\r\n\tprivate _outHitResult: HitResult = new HitResult();\r\n\tprivate hasSelectedSprite: Sprite3D;\r\n\tprivate hasSelectedRigidBody: Rigidbody3D;\r\n\tprivate ZERO = new Vector3(0, 0, 0);\r\n\tprivate ONE = new Vector3(1, 1, 1);\r\n\tprivate posX: number;\r\n\tprivate posY: number;\r\n\tprivate delX: number;\r\n\tprivate delY: number;\r\n\r\n\tprivate mat: BlinnPhongMaterial;\r\n\tprivate mesh1: Mesh;\r\n\tprivate mesh2: Mesh;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\tvar resource:any[] = [\r\n\r\n            \"resources/res/threeDimen/Physics/wood.jpg\",\r\n            \"resources/res/threeDimen/Physics/plywood.jpg\",\r\n        ];\r\n\r\n        Laya.loader.load(resource).then( (res:any[] )=>{\r\n            this.onComplete(res);\r\n        });\r\n\r\n\t}\r\n\r\n\tonComplete(res:any[]):void{\t\r\n        this.camera.transform.position = new Vector3(4.5, 6, 4.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-30, 45, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(1, 1, 1, 1);\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, 1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\r\n\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(13, 13, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tplaneMat.albedoTexture = res[0];\r\n\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\t\tplane.meshRenderer.receiveShadow = true;\r\n\r\n\t\tthis.mesh1 = PrimitiveMesh.createBox(2, 0.33, 0.5);\r\n\t\tthis.mesh2 = PrimitiveMesh.createBox(0.5, 0.33, 2);\r\n\t\tthis.mat = new BlinnPhongMaterial();\r\n\r\n\t\t//\u7EB9\u7406\u8D44\u6E90\r\n\t\tthis.mat.albedoTexture = res[1];\r\n\r\n\t\tvar rigidBody: PhysicsCollider = (<PhysicsCollider>plane.addComponent(PhysicsCollider));\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(13, 0, 13);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\tthis.addMouseEvent();\r\n\r\n\t\tthis.addBox();\r\n\t}\r\n\r\n\taddBox(): void {\r\n\r\n\t\tfor (var i: number = 0; i < 8; i++) {\r\n\t\t\tthis.addVerticalBox(-0.65, 0.165 + i * 0.33 * 2, 0);\r\n\t\t\tthis.addVerticalBox(0, 0.165 + i * 0.33 * 2, 0);\r\n\t\t\tthis.addVerticalBox(0.65, 0.165 + i * 0.33 * 2, 0);\r\n\r\n\t\t\tthis.addHorizontalBox(0, 0.165 + 0.33 + i * 0.33 * 2, -0.65);\r\n\t\t\tthis.addHorizontalBox(0, 0.165 + 0.33 + i * 0.33 * 2, 0);\r\n\t\t\tthis.addHorizontalBox(0, 0.165 + 0.33 + i * 0.33 * 2, 0.65);\r\n\t\t}\r\n\t}\r\n\r\n\taddHorizontalBox(x: number, y: number, z: number): void {\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(this.mesh1)));\r\n\t\tbox.meshRenderer.material = this.mat;\r\n\t\tbox.meshRenderer.castShadow = true;\r\n\t\tbox.meshRenderer.receiveShadow = true;\r\n\t\tbox.transform.position = new Vector3(x, y, z);\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = (<Rigidbody3D>box.addComponent(Rigidbody3D));\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.friction = 0.4;\r\n\t\trigidBody.restitution = 0.2;\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(2, 0.33, 0.5);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t}\r\n\r\n\taddVerticalBox(x: number, y: number, z: number): void {\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(this.mesh2)));\r\n\t\tbox.meshRenderer.material = this.mat;\r\n\t\tbox.meshRenderer.castShadow = true;\r\n\t\tbox.meshRenderer.receiveShadow = true;\r\n\t\tbox.transform.position = new Vector3(x, y, z);\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = (<Rigidbody3D>box.addComponent(Rigidbody3D));\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.friction = 0.4;\r\n\t\trigidBody.restitution = 0.2;\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(0.5, 0.33, 2);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t}\r\n\r\n\taddMouseEvent(): void {\r\n\t\tthis.owner.on(Event.MOUSE_DOWN, this, this.onMouseDown);\r\n\t\tthis.owner.on(Event.MOUSE_UP, this, this.onMouseUp);\r\n\t\tthis.owner.on(Event.MOUSE_OUT, this, this.onMouseOut);\r\n\t}\r\n\r\n\tonMouseDown(e:Event): void {\r\n\t\tthis.posX = this.point.x = e.target.mouseX;\r\n\t\t//  * Index.screenWidth / Index.pageWidth;\r\n\t\tthis.posY = this.point.y = e.target.mouseY;\r\n\t\t//  * Index.screenHeight / Index.pageHeight;\r\n\r\n\t\tthis.camera.viewportPointToRay(this.point, this.ray);\r\n\t\tthis.scene.physicsSimulation.rayCast(this.ray, this._outHitResult);\r\n\t\tif (this._outHitResult.succeeded) {\r\n\t\t\tvar collider: Rigidbody3D = <Rigidbody3D>this._outHitResult.collider;\r\n\t\t\tthis.hasSelectedSprite = <Sprite3D>collider.owner;\r\n\t\t\tthis.hasSelectedRigidBody = collider;\r\n\t\t\tcollider.angularFactor = this.ZERO;\r\n\t\t\tcollider.angularVelocity = this.ZERO;\r\n\t\t\tcollider.linearFactor = this.ZERO;\r\n\t\t\tcollider.linearVelocity = this.ZERO;\r\n\t\t}\r\n\t\tthis.owner.on(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t}\r\n\r\n\tonMouseMove(e:Event): void {\r\n\r\n\t\tthis.delX = e.target.mouseX - this.posX;\r\n\t\t//  * Index.screenWidth / Index.pageWidth - this.posX;\r\n\t\tthis.delY = e.target.mouseY - this.posY;\r\n\t\t//  * Index.screenHeight / Index.pageHeight - this.posY;\r\n\t\tif (this.hasSelectedSprite) {\r\n\t\t\tthis.hasSelectedRigidBody.linearVelocity = new Vector3(this.delX / 2, 0, this.delY / 2);\r\n\t\t}\r\n\t\tthis.posX = e.target.mouseX\r\n\t\t//  * Index.screenWidth / Index.pageWidth;\r\n\t\tthis.posY = e.target.mouseY\r\n\t\t//  * Index.screenHeight / Index.pageHeight;\r\n\t}\r\n\r\n\tonMouseUp(e:Event): void {\r\n\t\tthis.owner.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\tif (this.hasSelectedSprite) {\r\n\t\t\tthis.hasSelectedRigidBody.angularFactor = this.ONE;\r\n\t\t\tthis.hasSelectedRigidBody.linearFactor = this.ONE;\r\n\t\t\tthis.hasSelectedSprite = null;\r\n\t\t}\r\n\t}\r\n\r\n\tonMouseOut(e:Event): void {\r\n\t\tthis.owner.off(Event.MOUSE_MOVE, this, this.onMouseMove);\r\n\t\tif (this.hasSelectedSprite) {\r\n\t\t\tthis.hasSelectedRigidBody.angularFactor = this.ONE;\r\n\t\t\tthis.hasSelectedRigidBody.linearFactor = this.ONE;\r\n\t\t\tthis.hasSelectedSprite = null;\r\n\t\t}\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nimport Sprite3D = Laya.Sprite3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('20248bc4-a0e2-43b8-aa4c-b90c988dfbdf', '../src/3D/PhysicsWorld/PhysicsWorld_Character.ts')\r\nexport class PhysicsWorld_Character extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate kinematicSphere: Sprite3D;\r\n\tprivate translateW: Vector3 = new Vector3(0, 0, -0.2);\r\n\tprivate translateS: Vector3 = new Vector3(0, 0, 0.2);\r\n\tprivate translateA: Vector3 = new Vector3(-0.2, 0, 0);\r\n\tprivate translateD: Vector3 = new Vector3(0.2, 0, 0);\r\n\tprivate mat1: BlinnPhongMaterial;\r\n\tprivate mat2: BlinnPhongMaterial;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tvar resource:any[] = [\r\n\r\n            \"resources/res/threeDimen/Physics/plywood.jpg\",\r\n            \"resources/res/threeDimen/Physics/wood.jpg\",\r\n            \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"\r\n        ];\r\n\r\n        Laya.loader.load(resource).then( (res:any[] )=>{\r\n            this.onComplete(res);\r\n        });\r\n\r\n\t}\r\n\r\n\tonComplete(res:any[]):void{\t\t\r\n        this.mat1 = new Laya.BlinnPhongMaterial();\r\n        this.mat2 = new Laya.BlinnPhongMaterial();\r\n        //\u52A0\u8F7D\u8D44\u6E90\r\n        this.mat1.albedoTexture = res[0];\r\n        this.mat2.albedoTexture = res[1];\r\n        \r\n        var plane:Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createPlane(20, 20, 10, 10))) as Laya.MeshSprite3D;\r\n        var planeMat:Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n        planeMat.albedoTexture = res[1];\r\n        planeMat.tilingOffset = new Laya.Vector4(2, 2, 0, 0);\r\n        plane.meshRenderer.material = planeMat;\r\n        \r\n        var rigidBody:Laya.PhysicsCollider = plane.addComponent(Laya.PhysicsCollider) as Laya.PhysicsCollider;\r\n        var boxShape:Laya.BoxColliderShape = new Laya.BoxColliderShape(20, 0, 20);\r\n        rigidBody.colliderShape = boxShape;\r\n        \r\n        for (var i:number = 0; i < 60; i++) {\r\n            this.addBox();\r\n            this.addCapsule();\r\n        }\r\n        \r\n        this.addCharacter(res[2]);\r\n    }\r\n    public addCharacter(res:any):void {\r\n       \r\n        let monkey = res.create();\r\n        this.scene.addChild(monkey);\r\n        (monkey.getChildAt(0) as Sprite3D).transform.localScale = new Laya.Vector3(1, 1, 1);\r\n        var character:Laya.CharacterController = monkey.addComponent(Laya.CharacterController);\r\n        var sphereShape:Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(1.0, 3.4);\r\n        sphereShape.localOffset = new Laya.Vector3(0, 1.7, 0);\r\n        character.colliderShape = sphereShape;\r\n        this.kinematicSphere = monkey;\r\n        Laya.timer.frameLoop(1, this, this.onKeyDown);\r\n    \r\n    }\r\n    \r\n    onKeyDown():void {\r\n\r\n        var character:Laya.CharacterController = this.kinematicSphere.getComponent(Laya.CharacterController) as Laya.CharacterController;\r\n        Laya.InputManager.hasKeyDown(87) && character.move(this.translateW);//W\r\n        Laya.InputManager.hasKeyDown(83) && character.move(this.translateS);//S\r\n        Laya.InputManager.hasKeyDown(65) && character.move(this.translateA);//A\r\n        Laya.InputManager.hasKeyDown(68) && character.move(this.translateD);//D\r\n        Laya.InputManager.hasKeyDown(69) && character.jump();//E\r\n    }\r\n    \r\n    public addBox():void {\r\n\r\n        var sX:number = Math.random() * 0.75 + 0.25;\r\n        var sY:number = Math.random() * 0.75 + 0.25;\r\n        var sZ:number = Math.random() * 0.75 + 0.25;\r\n        var box:Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(sX, sY, sZ))) as Laya.MeshSprite3D;\r\n        box.meshRenderer.material = this.mat1;\r\n        box.transform.position = new Laya.Vector3(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        box.transform.rotationEuler = new Laya.Vector3(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        \r\n        var rigidBody:Laya.Rigidbody3D = box.addComponent(Laya.Rigidbody3D);\r\n        var boxShape:Laya.BoxColliderShape = new Laya.BoxColliderShape(sX, sY, sZ);\r\n        rigidBody.colliderShape = boxShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n    \r\n    public addCapsule():void {\r\n\r\n        var raidius:number = Math.random() * 0.2 + 0.2;\r\n        var height:number = Math.random() * 0.5 + 0.8;\r\n        var capsule:Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createCapsule(raidius, height))) as Laya.MeshSprite3D;\r\n        capsule.meshRenderer.material = this.mat2;\r\n        capsule.transform.position = new Laya.Vector3(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n        capsule.transform.rotationEuler = new Laya.Vector3(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n        \r\n        var rigidBody:Laya.Rigidbody3D = capsule.addComponent(Laya.Rigidbody3D);\r\n        var sphereShape:Laya.CapsuleColliderShape = new Laya.CapsuleColliderShape(raidius, height);\r\n        rigidBody.colliderShape = sphereShape;\r\n        rigidBody.mass = 10;\r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Color = Laya.Color;\r\nimport InputManager = Laya.InputManager;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport CylinderColliderShape = Laya.CylinderColliderShape;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport ConeColliderShape = Laya.ConeColliderShape;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Physics3DUtils = Laya.Physics3DUtils;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('a45b1a31-9a36-4154-b987-246e1b1fb8b3', '../src/3D/PhysicsWorld/PhysicsWorld_CollisionFiflter.ts')\r\nexport class PhysicsWorld_CollisionFiflter extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate plane: MeshSprite3D;\r\n\tprivate kinematicSphere: Sprite3D;\r\n\r\n\tprivate translateW: Vector3 = new Vector3(0, 0, -0.2);\r\n\tprivate translateS: Vector3 = new Vector3(0, 0, 0.2);\r\n\tprivate translateA: Vector3 = new Vector3(-0.2, 0, 0);\r\n\tprivate translateD: Vector3 = new Vector3(0.2, 0, 0);\r\n\tprivate translateQ: Vector3 = new Vector3(-0.01, 0, 0);\r\n\tprivate translateE: Vector3 = new Vector3(0.01, 0, 0);\r\n\r\n\tprivate _albedoColor: Color = new Color(1.0, 0.0, 0.0, 1.0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\t\r\n\r\n\t\t//\u521B\u5EFA\u5E73\u9762\r\n\t\tthis.plane = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tplaneMat.albedoTexture = tex;\r\n\t\t});\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tthis.plane.meshRenderer.material = planeMat;\r\n\t\t//\u4E3A\u5E73\u9762\u8BBE\u7F6E\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar staticCollider: PhysicsCollider = (<PhysicsCollider>this.plane.addComponent(PhysicsCollider));\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(20, 0, 20);\r\n\t\tstaticCollider.colliderShape = boxShape;\r\n\r\n\t\tthis.addKinematicSphere();\r\n\t\tfor (var i: number = 0; i < 20; i++) {\r\n\t\t\tthis.addBox();\r\n\t\t\tthis.addCapsule();\r\n\t\t\tthis.addCone();\r\n\t\t\tthis.addCylinder();\r\n\t\t\tthis.addSphere();\r\n\t\t}\r\n\t}\r\n\r\n\taddKinematicSphere(): void {\r\n\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\tvar mat2: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\t\t\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tmat2.albedoTexture = tex;\r\n\t\t});\r\n\t\tmat2.albedoColor = this._albedoColor;\r\n\t\t//\u521B\u5EFA\u4E00\u4E2A\u7403\r\n\t\tvar radius: number = 0.8;\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\tsphere.meshRenderer.material = mat2;\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(0, 0.8, 0);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u5F62\u78B0\u649E\u5668\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 60;\r\n\t\t//\u8BBE\u7F6E\u5F53\u524D\u521A\u4F53\u4E3A\u8FD0\u52A8\u5B66\u7269\u4F53,\u4EC5\u53EF\u901A\u8FC7transform\u5C5E\u6027\u79FB\u52A8\u7269\u4F53,\u800C\u975E\u5176\u4ED6\u529B\u76F8\u5173\u5C5E\u6027\u3002\r\n\t\trigidBody.isKinematic = true;\r\n\t\t//\u8BBE\u7F6E\u53EF\u4EE5\u4E0E\u5176\u53D1\u751F\u78B0\u649E\u7684\u78B0\u649E\u7EC4\r\n\t\trigidBody.canCollideWith = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1 | Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER3 | Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER5;//\u53EA\u4E0E\u81EA\u5B9A\u4E49\u7EC4135\u78B0\u649E(\u5982\u679C\u591A\u7EC4\u91C7\u7528\u4F4D\u64CD\u4F5C\uFF09\r\n\r\n\t\tthis.kinematicSphere = sphere;\r\n\t\t//\u5F00\u542F\u5B9A\u65F6\u91CD\u590D\u6267\u884C\r\n\t\tLaya.timer.frameLoop(1, this, this.onKeyDown);\r\n\t}\r\n\r\n\tonKeyDown(): void {\r\n\t\tInputManager.hasKeyDown(87) && this.kinematicSphere.transform.translate(this.translateW);//W\r\n\t\tInputManager.hasKeyDown(83) && this.kinematicSphere.transform.translate(this.translateS);//S\r\n\t\tInputManager.hasKeyDown(65) && this.kinematicSphere.transform.translate(this.translateA);//A\r\n\t\tInputManager.hasKeyDown(68) && this.kinematicSphere.transform.translate(this.translateD);//D\r\n\t\tInputManager.hasKeyDown(81) && this.plane.transform.translate(this.translateQ);//Q\r\n\t\tInputManager.hasKeyDown(69) && this.plane.transform.translate(this.translateE);//E\r\n\t}\r\n\r\n\taddBox(): void {\r\n\t\t//\u968F\u673A\u751F\u6210\u76D2\u5B50\u7684\u4F4D\u7F6E\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tbox.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((res)=>{\r\n\t\t\t(box.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 16 - 8, sY / 2, Math.random() * 16 - 8);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u65CB\u8F6C\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(0, Math.random() * 360, 0);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u6240\u5C5E\u7684\u78B0\u649E\u7EC4\r\n\t\trigidBody.collisionGroup = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER1;//\u81EA\u5B9A\u4E49\u7EC41\r\n\t}\r\n\r\n\taddCapsule(): void {\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\tcapsule.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(capsule.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u65CB\u8F6C\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.collisionGroup = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER2;//\u81EA\u5B9A\u4E49\u7EC42,\u4F1A\u8DF3\u8FC7\u78B0\u649E\r\n\r\n\t}\r\n\r\n\taddCone(): void {\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u5706\u9525MeshSprite3D\r\n\t\tvar cone: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createCone(raidius, height));\r\n\t\tthis.scene.addChild(cone);\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcone.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/steel2.jpg\").then((res)=>{\r\n\t\t\t(cone.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tvar transform: Transform3D = cone.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = cone.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar coneShape: ConeColliderShape = new ConeColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = coneShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.collisionGroup = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER3;//\u81EA\u5B9A\u4E49\u7EC43\r\n\t}\r\n\r\n\taddCylinder(): void {\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u5706\u9525MeshSprite3D\r\n\t\tvar cylinder: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createCylinder(raidius, height));\r\n\t\tthis.scene.addChild(cylinder);\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcylinder.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/steel.jpg\").then((res)=>{\r\n\t\t\t(cylinder.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\tvar transform: Transform3D = cylinder.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u65CB\u8F6C\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = cylinder.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar cylinderShape: CylinderColliderShape = new CylinderColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = cylinderShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.collisionGroup = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER4;//\u81EA\u5B9A\u4E49\u7EC44\r\n\t}\r\n\r\n\taddSphere(): void {\r\n\t\t//\u968F\u673A\u751F\u6210\u534A\u5F84\u5927\u5C0F\r\n\t\tvar radius: number = Math.random() * 0.2 + 0.2;\r\n\t\t//\u521B\u5EFA\u7403\u578BMeshSprite3D\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tsphere.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((res)=>{\r\n\t\t\t(sphere.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\t//\u6DFB\u52A0\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.collisionGroup = Physics3DUtils.COLLISIONFILTERGROUP_CUSTOMFILTER5;//\u81EA\u5B9A\u4E49\u7EC45\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CompoundColliderShape = Laya.CompoundColliderShape;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('16ff281f-5149-414e-b707-2cfd0d770f48', '../src/3D/PhysicsWorld/PhysicsWorld_CompoundCollider.ts')\r\nexport class PhysicsWorld_CompoundCollider extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tvar plane: MeshSprite3D = <MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 20, 10)));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tplaneMat.albedoTexture = tex;\r\n\t\t});\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\t\tplane.meshRenderer.receiveShadow = true;\r\n\t\tvar staticCollider: PhysicsCollider = <PhysicsCollider>plane.addComponent(PhysicsCollider);\r\n\t\tvar planeShape: BoxColliderShape = new BoxColliderShape(13, 0, 13);\r\n\t\tstaticCollider.colliderShape = planeShape;\r\n\t\tstaticCollider.friction = 2;\r\n\r\n\t\tthis.randomAddPhysicsSprite();\r\n\r\n\t}\r\n\r\n\trandomAddPhysicsSprite(): void {\r\n\t\tLaya.timer.loop(1000, this, ()=> {\r\n\t\t\tvar random: number = Math.floor(Math.random() * 2) % 2;\r\n\t\t\tswitch (random) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthis.addTable();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.addObject();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddTable(): void {\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tmat.albedoTexture = tex;\r\n\t\t});\r\n\t\tmat.shininess = 1;\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/table.lm\").then((res)=> {\r\n\t\t\tvar table: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(res)));\r\n\t\t\ttable.meshRenderer.material = mat;\r\n\t\t\tvar transform: Transform3D = table.transform;\r\n\t\t\tvar pos: Vector3 = transform.position;\r\n\t\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\t\ttransform.position = pos;\r\n\t\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t\tvar scale: Vector3 = transform.getWorldLossyScale();\r\n\t\t\tscale.setValue(3, 3, 3);\r\n\t\t\ttransform.setWorldLossyScale(scale);\r\n\r\n\r\n\t\t\tvar rigidBody: Rigidbody3D = (<Rigidbody3D>table.addComponent(Rigidbody3D));\r\n\t\t\trigidBody.mass = 10;\r\n\t\t\trigidBody.friction = 1;\r\n\r\n\t\t\tvar compoundShape: CompoundColliderShape = new CompoundColliderShape();\r\n\r\n\t\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(0.5, 0.4, 0.045);\r\n\t\t\tvar localOffset: Vector3 = boxShape.localOffset;\r\n\t\t\tlocalOffset.setValue(0, 0, 0.125);\r\n\t\t\tboxShape.localOffset = localOffset;\r\n\t\t\tcompoundShape.addChildShape(boxShape);\r\n\r\n\t\t\tvar boxShape1: BoxColliderShape = new BoxColliderShape(0.1, 0.1, 0.3);\r\n\t\t\tboxShape1.localOffset = new Vector3(-0.2, -0.148, -0.048);\r\n\t\t\tcompoundShape.addChildShape(boxShape1);\r\n\r\n\t\t\tvar boxShape2: BoxColliderShape = new BoxColliderShape(0.1, 0.1, 0.3);\r\n\t\t\tvar localOffset2: Vector3 = boxShape2.localOffset;\r\n\t\t\tlocalOffset2.setValue(0.2, -0.148, -0.048);\r\n\t\t\tboxShape2.localOffset = localOffset2;\r\n\t\t\tcompoundShape.addChildShape(boxShape2);\r\n\r\n\t\t\tvar boxShape3: BoxColliderShape = new BoxColliderShape(0.1, 0.1, 0.3);\r\n\t\t\tvar localOffset3: Vector3 = boxShape3.localOffset;\r\n\t\t\tlocalOffset3.setValue(-0.2, 0.153, -0.048);\r\n\t\t\tboxShape3.localOffset = localOffset3;\r\n\t\t\tcompoundShape.addChildShape(boxShape3);\r\n\r\n\t\t\tvar boxShape4: BoxColliderShape = new BoxColliderShape(0.1, 0.1, 0.3);\r\n\t\t\tvar localOffset4: Vector3 = boxShape4.localOffset;\r\n\t\t\tlocalOffset4.setValue(0.2, 0.153, -0.048);\r\n\t\t\tboxShape4.localOffset = localOffset3;\r\n\t\t\tcompoundShape.addChildShape(boxShape4);\r\n\r\n\t\t\trigidBody.colliderShape = compoundShape;\r\n\t\t});\r\n\t}\r\n\r\n\taddObject(): void {\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tmat.albedoTexture = tex;\r\n\t\t});\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/object.lm\").then((res)=> {\r\n\r\n\t\t\tvar object: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(res)));\r\n\t\t\tvar transform: Transform3D = object.transform;\r\n\t\t\tvar pos: Vector3 = transform.position;\r\n\t\t\tpos.setValue(Math.random() * 4 - 2, 5, Math.random() * 4 - 2);\r\n\t\t\ttransform.position = pos;\r\n\t\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t\tvar scale: Vector3 = transform.getWorldLossyScale();\r\n\t\t\tscale.setValue(0.01, 0.01, 0.01);\r\n\t\t\ttransform.setWorldLossyScale(scale);\r\n\t\t\tobject.meshRenderer.material = mat;\r\n\r\n\t\t\tvar rigidBody: Rigidbody3D = (<Rigidbody3D>object.addComponent(Rigidbody3D));\r\n\t\t\trigidBody.mass = 3;\r\n\t\t\trigidBody.friction = 0.3;\r\n\r\n\t\t\tvar compoundShape: CompoundColliderShape = new CompoundColliderShape();\r\n\r\n\t\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(40, 40, 40);\r\n\t\t\tvar boxLocalOffset: Vector3 = boxShape.localOffset;\r\n\t\t\tboxLocalOffset.setValue(0, 0, -20);\r\n\t\t\tboxShape.localOffset = boxLocalOffset;\r\n\t\t\tcompoundShape.addChildShape(boxShape);\r\n\r\n\t\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(25);\r\n\t\t\tvar sphereLocalOffset: Vector3 = sphereShape.localOffset;\r\n\t\t\tsphereLocalOffset.setValue(0, 0, 24);\r\n\t\t\tsphereShape.localOffset = sphereLocalOffset;\r\n\t\t\tcompoundShape.addChildShape(sphereShape);\r\n\r\n\t\t\trigidBody.colliderShape = compoundShape;\r\n\t\t});\r\n\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Color = Laya.Color;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport ConfigurableConstraint = Laya.ConfigurableConstraint;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8a0ef41e-764f-4da2-976d-16a30f0f7618', '../src/3D/PhysicsWorld/PhysicsWorld_ConfigurableJoint.ts')\r\nexport class PhysicsWorld_ConfigurableJoint extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * \u6CE8\u610F\uFF0C\u53EA\u6709\u5728onStart\u65B9\u6CD5\u4E2D\u624D\u80FD\u751F\u6548\r\n     */\r\n    onStart(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 15);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\t//\u5E73\u9762\r\n\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(40, 40, 40, 40))));\r\n\t\tplane.transform.position = new Vector3(0, -2.0, 0);\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/grass.png\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tplaneMat.albedoTexture = tex;\r\n\t\t});\r\n\t\t//\u8BBE\u7F6E\u7EB9\u7406\u5E73\u94FA\u548C\u504F\u79FB\r\n\t\tvar tilingOffset: Vector4 = planeMat.tilingOffset;\r\n\t\ttilingOffset.setValue(5, 5, 0, 0);\r\n\t\tplaneMat.tilingOffset = tilingOffset;\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\r\n\t\tthis.springTest();\r\n\t\tthis.bounceTest();\r\n\t\tthis.alongZAixs();\r\n\t\tthis.freeRotate();\r\n\t\tthis.rotateAngularX();\r\n\t\tthis.rotateAngularPoint();\r\n\t}\r\n\r\n\tspringTest(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(7, 3, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\t\tboxARigid.overrideGravity = true;\r\n\t\tboxARigid.isKinematic = true;\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(10, 0, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -3, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(-3, 0, 0);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(3, 0, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.linearLimitSpring = new Vector3(100, 0, 0);\r\n\t\tconfigurableJoint.linearDamp = new Vector3(0, 0, 0);\r\n\t}\r\n\r\n\r\n\r\n\tbounceTest(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(7, 3, 3), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(7, 0, 3), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -3, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(-2, 0, 0);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(2, 0, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n\t\tconfigurableJoint.linearBounce = new Vector3(0.5, 0, 0);\r\n\t\tboxBRigid.applyImpulse(new Vector3(100, 0, 0));\r\n\r\n\t}\r\n\r\n\tbounceTestY(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 4, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(0, 2, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -2, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(0, -2, 0);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(0, 10, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t}\r\n\r\n\trotateAngularX(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-2, 3, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-2, 1, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -2, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minAngularLimit = new Vector3(-2, 0, 0);\r\n\t\tconfigurableJoint.maxAngularLimit = new Vector3(2, 0, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tboxBRigid.angularVelocity = new Vector3(5, 0, 0);\r\n\r\n\t}\r\n\r\n\trotateAngularZ(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-7, 6, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-7, 4, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -2, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minAngularLimit = new Vector3(0, 0, -1);\r\n\t\tconfigurableJoint.maxAngularLimit = new Vector3(0, 0, 1);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tboxBRigid.angularVelocity = new Vector3(0.0, 0, 0.5);\r\n\r\n\t}\r\n\r\n\trotateAngularY(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-5, 6, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-5, 4, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -2, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 0, 0);\r\n\r\n\t\tconfigurableJoint.minAngularLimit = new Vector3(0, -1, 0);\r\n\t\tconfigurableJoint.maxAngularLimit = new Vector3(0, 1, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tboxBRigid.angularVelocity = new Vector3(0.0, 0.5, 0);\r\n\r\n\t}\r\n\r\n\tfreeRotate() {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(-6, 3, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(-6, 1, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, -1, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 1, 0);\r\n\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n\t\tboxBRigid.angularVelocity = new Vector3(20, 2, 10);\r\n\t}\r\n\r\n\trotateAngularPoint(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 10, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(6, 10, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, 0, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(-6, 0, 0);\r\n\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_FREE;\r\n\r\n\t}\r\n\r\n\talongXAixs(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 0, -4), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(5, 0, -4), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, 0, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(-5, 0, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(-2, 0, 0);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(2, 0, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n\t\tboxBRigid.linearVelocity = new Vector3(1.0, 0.0, 0);\r\n\r\n\t}\r\n\r\n\talongYAixs(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(0, 0, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(5, 0, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, 0, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(-5, 0, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(0, -3, 0);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(0, 3, 0);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n\t\tboxBRigid.linearVelocity = new Vector3(0.0, 1.0, 0);\r\n\r\n\t}\r\n\r\n\talongZAixs(): void {\r\n\t\tvar boxA: MeshSprite3D = this.addRigidBodySphere(new Vector3(2, 3, 0), 1);\r\n\t\tvar boxARigid: Rigidbody3D = boxA.getComponent(Rigidbody3D);\r\n\r\n\t\tvar boxB: MeshSprite3D = this.addRigidBodyBox(new Vector3(2, 0, 0), 1);\r\n\t\t(<BlinnPhongMaterial>boxB.meshRenderer.material).albedoColor = new Color(1, 0, 0, 1);\r\n\t\tvar boxBRigid: Rigidbody3D = boxB.getComponent(Rigidbody3D);\r\n\r\n\t\tvar configurableJoint: ConfigurableConstraint = boxA.addComponent(ConfigurableConstraint);\r\n\t\tconfigurableJoint.setConnectRigidBody(boxARigid, boxBRigid);\r\n\t\tconfigurableJoint.anchor = new Vector3(0, 0, 0);\r\n\t\tconfigurableJoint.connectAnchor = new Vector3(0, 3, 0);\r\n\r\n\t\tconfigurableJoint.minLinearLimit = new Vector3(0, 0, -4);\r\n\t\tconfigurableJoint.maxLinearLimit = new Vector3(0, 0, 4);\r\n\t\tconfigurableJoint.XMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.YMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.ZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LIMITED;\r\n\t\tconfigurableJoint.angularXMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularYMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\t\tconfigurableJoint.angularZMotion = ConfigurableConstraint.CONFIG_MOTION_TYPE_LOCKED;\r\n\r\n\t\tboxBRigid.linearVelocity = new Vector3(0.0, 0.0, 4);\r\n\r\n\t}\r\n\r\n\taddRigidBodyBox(pos: Vector3, scale: number): MeshSprite3D {\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(scale, scale, scale))));\r\n\t\tbox.transform.position = pos;\r\n\t\t//box.addComponent(TriggerCollisionScript);\r\n\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tbox.meshRenderer.material = mat;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(scale, scale, scale);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 1;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u6469\u64E6\u529B\r\n\t\trigidBody.friction = 0.5;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F39\u529B\r\n\t\trigidBody.restitution = 10.0;\r\n\t\treturn box;\r\n\t}\r\n\taddRigidBodySphere(pos: Vector3, scale: number): MeshSprite3D {\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.2))));\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tmat.albedoColor = new Color(0, 1, 0, 1);\r\n\t\tsphere.meshRenderer.material = mat;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape: SphereColliderShape = new SphereColliderShape(0.2);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 1;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u6469\u64E6\u529B\r\n\t\trigidBody.friction = 0.5;\r\n\t\t//\u7269\u7406\u78B0\u649E\u4F53\u8BBE\u7F6E\u5F39\u529B\r\n\t\trigidBody.restitution = 0.0;\r\n\t\trigidBody.isKinematic = true;\r\n\t\treturn sphere;\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport FixedConstraint = Laya.FixedConstraint;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('1e8563cf-8f4b-4799-a982-ac5f521833f1', '../src/3D/PhysicsWorld/PhysicsWorld_ConstraintFixedJoint.ts')\r\nexport class PhysicsWorld_ConstraintFixedJoint extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    /**\r\n     * \u6CE8\u610F\uFF0C\u53EA\u6709\u5728onStart\u65B9\u6CD5\u4E2D\u624D\u80FD\u751F\u6548\r\n     */\r\n    onStart(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tthis.addbox();\r\n\r\n\t}\r\n\r\n\taddbox() {\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(1, 1, 1))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(0, 5, 0);\r\n\t\ttransform.position = pos;\r\n\t\tbox.meshRenderer.sharedMaterial = new BlinnPhongMaterial();\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(1, 1, 1);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.isKinematic = true;\r\n\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box2: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(1, 1, 1))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tvar transform2: Transform3D = box2.transform;\r\n\t\tvar pos2: Vector3 = transform2.position;\r\n\t\tpos2.setValue(0, 3, 0);\r\n\t\ttransform2.position = pos2;\r\n\t\tbox2.meshRenderer.sharedMaterial = new BlinnPhongMaterial();\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody2: Rigidbody3D = box2.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u5B50\u5F62\u72B6\u78B0\u649E\u5668\r\n\t\tvar boxShape2: BoxColliderShape = new BoxColliderShape(1, 1, 1);\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u78B0\u649E\u5F62\u72B6\r\n\t\trigidBody2.colliderShape = boxShape2;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody2.mass = 10;\r\n\r\n\t\t//\u6F2B\u53CD\u5C04\u8D34\u56FE\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/texture/layabox.png\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tvar blinnMat:BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t\tblinnMat.albedoTexture = tex;\r\n\t\t\tbox.meshRenderer.material = blinnMat;\r\n\t\t\tbox2.meshRenderer.material = blinnMat;\r\n\t\t});\r\n\t\t\r\n\r\n\t\tvar fixedConstraint: FixedConstraint = box.addComponent(FixedConstraint);\r\n\t\tfixedConstraint.anchor = new Vector3(0, 0, 0);\r\n\t\tfixedConstraint.connectAnchor = new Vector3(0, 2, 0);\r\n\t\tbox.addComponent(FixedEventTest);\r\n\t\tfixedConstraint.setConnectRigidBody(rigidBody, rigidBody2);\r\n\t}\r\n}\r\n\r\nexport class FixedEventTest extends Laya.Script {\r\n\tprivate fixedConstraint: FixedConstraint;\r\n\r\n\tonStart() {\r\n\t\tthis.fixedConstraint = this.owner.getComponent(FixedConstraint);\r\n\t\tthis.fixedConstraint.breakForce = 1000;\r\n\t}\r\n\r\n\tonUpdate() {\r\n\t\tif (this.fixedConstraint) {\r\n\t\t\tvar mass = this.fixedConstraint.connectedBody.mass;\r\n\t\t\tthis.fixedConstraint.connectedBody.mass = mass + 1;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tonJointBreak() {\r\n\t\tconsole.log(\"duanle\");\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('bb67b7fe-1ca5-4657-b7dc-fafd67ab7546', '../src/3D/PhysicsWorld/PhysicsWorld_ContinueCollisionDetection.ts')\r\nexport class PhysicsWorld_ContinueCollisionDetection extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate mat2: BlinnPhongMaterial;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tvar resource:any[] = [\r\n\r\n            \"resources/res/threeDimen/Physics/wood.jpg\",\r\n            \"resources/res/threeDimen/Physics/plywood.jpg\",\r\n        ];\r\n\r\n        Laya.loader.load(resource).then( (res:any[] )=>{\r\n            this.onComplete(res);\r\n        });\r\n\r\n\t}\r\n\r\n\tonComplete(res:any[]):void{\r\n\t\t\t\t\r\n\t\t//\u5E73\u9762\r\n\t\tvar plane = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tplaneMat.albedoTexture = res[0];\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\r\n\t\tvar planeStaticCollider: PhysicsCollider = plane.addComponent(PhysicsCollider);\r\n\t\tvar planeShape: BoxColliderShape = new BoxColliderShape(10, 0, 10);\r\n\t\tplaneStaticCollider.colliderShape = planeShape;\r\n\t\tplaneStaticCollider.friction = 2;\r\n\t\tplaneStaticCollider.restitution = 0.3;\r\n\t\tLaya.timer.loop(200, this, ()=> {\r\n\t\t\tthis.addSphere();\r\n\t\t});\r\n\t}\r\n\r\n\taddSphere(): void {\r\n\t\t\r\n\t\tvar radius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar sphere: MeshSprite3D = <MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius)));\r\n\t\tsphere.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\t(sphere.meshRenderer.material as BlinnPhongMaterial).albedoTexture = Laya.Loader.getRes(\"resources/res/threeDimen/Physics/plywood.jpg\") as Texture2D;\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t\trigidBody.ccdSweptSphereRadius = radius;\r\n\t\trigidBody.ccdMotionThreshold = 0.0001;\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport InputManager = Laya.InputManager;\r\nimport Color = Laya.Color;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('92276d17-d5a1-4c38-8fe6-76e0770c3526', '../src/3D/PhysicsWorld/PhysicsWorld_Kinematic.ts')\r\nexport class PhysicsWorld_Kinematic extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate kinematicSphere: Sprite3D;\r\n\tprivate translateW: Vector3 = new Vector3(0, 0, -0.2);\r\n\tprivate translateS: Vector3 = new Vector3(0, 0, 0.2);\r\n\tprivate translateA: Vector3 = new Vector3(-0.2, 0, 0);\r\n\tprivate translateD: Vector3 = new Vector3(0.2, 0, 0);\r\n\tprivate translateQ: Vector3 = new Vector3(-0.01, 0, 0);\r\n\tprivate translateE: Vector3 = new Vector3(0.01, 0, 0);\r\n\tprivate plane: MeshSprite3D;\r\n\r\n\tprivate mat1: BlinnPhongMaterial;\r\n\tprivate mat3: BlinnPhongMaterial;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tthis.mat1 = new BlinnPhongMaterial();\r\n\t\tthis.mat3 = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tthis.mat1.albedoTexture = tex;\r\n\t\t});\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tthis.mat3.albedoTexture = tex;\r\n\t\t});\r\n\t\tthis.plane = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tplaneMat.albedoTexture = tex;\r\n\t\t});\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tthis.plane.meshRenderer.material = planeMat;\r\n\r\n\t\tvar rigidBody: PhysicsCollider = (<PhysicsCollider>this.plane.addComponent(PhysicsCollider));\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(20, 0, 20);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\r\n\t\tfor (var i: number = 0; i < 60; i++) {\r\n\t\t\tthis.addBox();\r\n\t\t\tthis.addCapsule();\r\n\t\t}\r\n\r\n\t\tthis.addKinematicSphere();\r\n\t}\r\n\r\n\taddKinematicSphere(): void {\r\n\t\tvar mat2: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((tex:Laya.Texture2D)=> {\r\n\t\t\tmat2.albedoTexture = tex;\r\n\t\t});\r\n\t\tvar albedoColor: Color = mat2.albedoColor;\r\n\t\talbedoColor.setValue(1.0, 0.0, 0.0, 1.0);\r\n\t\tmat2.albedoColor = albedoColor;\r\n\r\n\t\tvar radius: number = 0.8;\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\tsphere.meshRenderer.material = mat2;\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(0, 0.8, 0);\r\n\t\tsphere.transform.position = pos;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u5F62\u72B6\u4E3A\u7403\u578B\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u4E3AKinematic\uFF0C\u4EC5\u53EF\u901A\u8FC7transform\u5C5E\u6027\u79FB\u52A8\u7269\u4F53\r\n\t\trigidBody.isKinematic = true;\r\n\t\t//rigidBody.detectCollisions = false;\r\n\r\n\t\tthis.kinematicSphere = sphere;\r\n\t\tLaya.timer.frameLoop(1, this, this.onKeyDown);\r\n\t}\r\n\r\n\tonKeyDown(): void {\r\n\t\tInputManager.hasKeyDown(87) && this.kinematicSphere.transform.translate(this.translateW);//W\r\n\t\tInputManager.hasKeyDown(83) && this.kinematicSphere.transform.translate(this.translateS);//S\r\n\t\tInputManager.hasKeyDown(65) && this.kinematicSphere.transform.translate(this.translateA);//A\r\n\t\tInputManager.hasKeyDown(68) && this.kinematicSphere.transform.translate(this.translateD);//D\r\n\t\tInputManager.hasKeyDown(81) && this.plane.transform.translate(this.translateQ);//Q\r\n\t\tInputManager.hasKeyDown(69) && this.plane.transform.translate(this.translateE);//E\r\n\t}\r\n\r\n\taddBox(): void {\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\tbox.meshRenderer.material = this.mat1;\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCapsule(): void {\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\tcapsule.meshRenderer.material = this.mat3;\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport MeshColliderShape = Laya.MeshColliderShape;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Mesh = Laya.Mesh;\r\nimport Loader = Laya.Loader;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport Color = Laya.Color;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('69c44b4c-3843-4260-8186-6b30c2038b01', '../src/3D/PhysicsWorld/PhysicsWorld_MeshCollider.ts')\r\nexport class PhysicsWorld_MeshCollider extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\tLaya.loader.load([\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard-lizard_geo.lm\", \"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_diff.png\", \"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_norm.png\"]).then(res=>{\r\n\t\t\t this.complete()\r\n\t\t});\r\n\t}\r\n\r\n\tcomplete(): void {\r\n\t\tvar mesh: Mesh = Loader.getRes(\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard-lizard_geo.lm\");\r\n\t\tvar albedo = Loader.getTexture2D(\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_diff.png\");\r\n\t\tvar normal = Loader.getTexture2D(\"resources/res/threeDimen/staticModel/lizard/Assets/Lizard/lizard_norm.png\");\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tmat.specularColor = new Color(0.5, 0.5, 0.5, 0.5);\r\n\t\tmat.albedoTexture = albedo;\r\n\t\tmat.normalTexture = normal;\r\n\r\n\t\tvar lizard: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(mesh)));\r\n\t\tlizard.transform.localPosition = new Vector3(-2, 0, 0);\r\n\t\tlizard.transform.localScale = new Vector3(0.01, 0.01, 0.01);\r\n\t\tlizard.meshRenderer.material = mat;\r\n\t\tvar lizardCollider: PhysicsCollider = lizard.addComponent(PhysicsCollider);\r\n\t\tvar meshShape: MeshColliderShape = new MeshColliderShape();\r\n\t\tmeshShape.mesh = mesh;\r\n\t\tlizardCollider.colliderShape = meshShape;\r\n\t\tlizardCollider.friction = 2;\r\n\t\tlizardCollider.restitution = 0.3;\r\n\r\n\t\tvar lizard1: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(mesh)));\r\n\t\tvar transform: Transform3D = lizard1.transform;\r\n\t\tvar localPosition: Vector3 = transform.localPosition;\r\n\t\tvar localRotationEuler: Vector3 = transform.localRotationEuler;\r\n\t\tvar localScale: Vector3 = transform.localScale;\r\n\t\tlocalPosition.setValue(3, 0, 0);\r\n\t\tlocalRotationEuler.setValue(0, 80, 0);\r\n\t\tlocalScale.setValue(0.01, 0.01, 0.01);\r\n\t\ttransform.localPosition = localPosition;\r\n\t\ttransform.localRotationEuler = localRotationEuler;\r\n\t\ttransform.localScale = localScale;\r\n\r\n\t\tlizard1.meshRenderer.material = mat;\r\n\t\tvar lizardCollider1: PhysicsCollider = lizard1.addComponent(PhysicsCollider);\r\n\t\tvar meshShape1: MeshColliderShape = new MeshColliderShape();\r\n\t\tmeshShape1.mesh = mesh;\r\n\t\tlizardCollider1.colliderShape = meshShape1;\r\n\t\tlizardCollider1.friction = 2;\r\n\t\tlizardCollider1.restitution = 0.3;\r\n\r\n\t\tthis.addBox();\r\n\t\tthis.randomAddPhysicsSprite();\r\n\t}\r\n\r\n\trandomAddPhysicsSprite(): void {\r\n\t\tLaya.timer.loop(1000, this, ()=> {\r\n\t\t\tvar random: number = Math.floor(Math.random() * 3) % 3;\r\n\t\t\tswitch (random) {\r\n\t\t\t\tcase 0:\r\n\t\t\t\t\tthis.addBox();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 1:\r\n\t\t\t\t\tthis.addSphere();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase 2:\r\n\t\t\t\t\tthis.addCapsule();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tdefault:\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\taddBox(): void {\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\tbox.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((res)=>{\r\n\t\t\t(box.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddSphere(): void {\r\n\t\tvar radius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\tsphere.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((res)=>{\r\n\t\t\t(sphere.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCapsule(): void {\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\tcapsule.meshRenderer.material = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(capsule.meshRenderer.material as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Color = Laya.Color;\r\nimport Button = Laya.Button;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport HitResult = Laya.HitResult;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Ray = Laya.Ray;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Event = Laya.Event;\r\nimport Handler = Laya.Handler;\r\nimport PixelLineSprite3D = Laya.PixelLineSprite3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('28020748-173b-4117-922d-04dc28e79f78', '../src/3D/PhysicsWorld/PhysicsWorld_RayShapeCast.ts')\r\nexport class PhysicsWorld_RayShapeCast extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\t//\u58F0\u660E\u4E00\u4E9B\u4F7F\u7528\u5230\u7684\u5168\u5C40\u53D8\u91CF\r\n\tprivate castType: number = 0;\r\n\tprivate castAll: boolean = false;\r\n\tprivate ray: Ray = new Ray(new Vector3(0, 0, 0), new Vector3(0, 0, 0));\r\n\tprivate hitResult: HitResult = new HitResult();\r\n\tprivate hitResults: HitResult[] = [];\r\n\tprivate debugSprites: Sprite3D[] = [];\r\n\t//\u521B\u5EFA\u5C04\u7EBF\u7684\u8D77\u59CB\u70B9\r\n\tprivate from: Vector3 = new Vector3(0, 1, 10);\r\n\tprivate to: Vector3 = new Vector3(0, 1, -5);\r\n\tprivate _albedoColor: Color = new Color(1.0, 1.0, 1.0, 0.5);\r\n\tprivate _position: Vector3 = new Vector3(0, 0, 0);\r\n\r\n\tprivate changeActionButton0:Button;\r\n\tprivate changeActionButton1:Button;\r\n\tprivate changeActionButton2:Button;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\t//\u6DFB\u52A0\u5730\u9762\r\n\t\tvar plane: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(planeMat as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tvar tilingOffset: Vector4 = planeMat.tilingOffset;\r\n\t\ttilingOffset.setValue(2, 2, 0, 0);\r\n\t\tplaneMat.tilingOffset = tilingOffset;\r\n\t\tplane.meshRenderer.material = planeMat;\r\n\r\n\r\n\t\t//\u4E3A\u5730\u9762\u521B\u5EFA\u7269\u7406\u78B0\u649E\u5668\r\n\t\tvar planeBody: PhysicsCollider = (<PhysicsCollider>plane.addComponent(PhysicsCollider));\r\n\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar boxCollider: BoxColliderShape = new BoxColliderShape(20, 0, 20);\r\n\t\t//\u8BBE\u7F6E\u5730\u9762\u7684\u78B0\u649E\u5668\u7684\u5F62\u72B6\u4E3A\u76D2\u578B\r\n\t\tplaneBody.colliderShape = boxCollider;\r\n\r\n\t\tfor (var i: number = 0; i < 60; i++) {\r\n\t\t\tthis.addBox();\r\n\t\t\tthis.addCapsule();\r\n\t\t}\t\t\t\r\n\t\tthis.loadUI();\r\n\t\t\r\n\t}\r\n\r\n\r\n\tprivate loadUI(): void {\r\n\t\tthis.changeActionButton0 = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u5C04\u7EBF\u6A21\u5F0F\")));\r\n        this.changeActionButton0.size(150, 40);\r\n        this.changeActionButton0.labelSize = 16;\r\n        this.changeActionButton0.sizeGrid = \"21,83,22,76\";\r\n        this.changeActionButton0.stateNum = 1;\r\n        this.changeActionButton0.labelColors = \"#ffffff\";\r\n\t\tthis.changeActionButton0.pos(50, 280);\r\n\t\tthis.changeActionButton0.on(Event.CLICK, this, this.stypeFun0);\r\n\r\n\t\tthis.changeActionButton1 = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u4E0D\u7A7F\u900F\")));\r\n        this.changeActionButton1.size(150, 40);\r\n        this.changeActionButton1.labelSize = 16;\r\n        this.changeActionButton1.sizeGrid = \"21,83,22,76\";\r\n        this.changeActionButton1.stateNum = 1;\r\n        this.changeActionButton1.labelColors = \"#ffffff\";\r\n\t\tthis.changeActionButton1.pos(50, 340);\r\n\t\tthis.changeActionButton1.on(Event.CLICK, this, this.stypeFun1);\r\n\r\n\t\tthis.changeActionButton2 = (<Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u68C0\u6D4B\")));\r\n        this.changeActionButton2.size(150, 40);\r\n        this.changeActionButton2.labelSize = 16;\r\n        this.changeActionButton2.sizeGrid = \"21,83,22,76\";\r\n        this.changeActionButton2.stateNum = 1;\r\n        this.changeActionButton2.labelColors = \"#ffffff\";\r\n\t\tthis.changeActionButton2.pos(50, 400);\r\n\t\tthis.changeActionButton2.on(Event.CLICK, this, this.stypeFun2);\r\n\t}\r\n\r\n\tstypeFun0(label:string = \"\u5C04\u7EBF\u6A21\u5F0F\") {\r\n\t\tthis.castType++;\r\n\t\tthis.castType %= 4;\r\n\t\tswitch (this.castType) {\r\n\t\t\tcase 0:\r\n\t\t\t\tthis.changeActionButton0.label = \"\u5C04\u7EBF\u6A21\u5F0F\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\tthis.changeActionButton0.label = \"\u76D2\u5B50\u6A21\u5F0F\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\tthis.changeActionButton0.label = \"\u7403\u6A21\u5F0F\";\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\tthis.changeActionButton0.label = \"\u80F6\u56CA\u6A21\u5F0F\";\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tlabel = this.changeActionButton0.label;\r\n\r\n\t}\r\n\r\n\tstypeFun1(label:string = \"\u4E0D\u7A7F\u900F\") {\r\n\t\tif (this.castAll) {\r\n\t\t\tthis.changeActionButton1.label = \"\u4E0D\u7A7F\u900F\";\r\n\t\t\tthis.castAll = false;\r\n\t\t} else {\r\n\t\t\tthis.changeActionButton1.label = \"\u7A7F\u900F\";\r\n\t\t\tthis.castAll = true;\r\n\t\t}\r\n\t\tlabel = this.changeActionButton1.label;\r\n\t}\r\n\r\n\tstypeFun2(castType:number = 0) {\r\n\t\tif (this.hitResult.succeeded)\r\n\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResult.collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 1.0, 1.0, 1.0);\r\n\r\n\t\tif (this.hitResults.length > 0) {\r\n\t\t\tfor (var i: number = 0, n: number = this.hitResults.length; i < n; i++)\r\n\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResults[i].collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 1.0, 1.0, 1.0);\r\n\t\t\tthis.hitResults.length = 0;\r\n\t\t}\r\n\r\n\t\tif (this.debugSprites.length > 0) {\r\n\t\t\tfor (i = 0, n = this.debugSprites.length; i < n; i++)\r\n\t\t\t\tthis.debugSprites[i].destroy();\r\n\t\t\tthis.debugSprites.length = 0;\r\n\t\t}\r\n\r\n\r\n\t\tswitch (this.castType) {\r\n\t\t\tcase 0:\r\n\t\t\t\t//\u521B\u5EFA\u7EBF\u6027\u5C04\u7EBF\r\n\t\t\t\tvar lineSprite: PixelLineSprite3D = (<PixelLineSprite3D>this.scene.addChild(new PixelLineSprite3D(1)));\r\n\t\t\t\t//\u8BBE\u7F6E\u5C04\u7EBF\u7684\u8D77\u59CB\u70B9\u548C\u989C\u8272\r\n\t\t\t\tlineSprite.addLine(this.from, this.to, Color.RED, Color.RED);\r\n\t\t\t\tthis.debugSprites.push(lineSprite);\r\n\t\t\t\tif (this.castAll) {\r\n\t\t\t\t\t//\u8FDB\u884C\u5C04\u7EBF\u68C0\u6D4B,\u68C0\u6D4B\u6240\u6709\u78B0\u649E\u7684\u7269\u4F53\r\n\t\t\t\t\tthis.scene.physicsSimulation.raycastAllFromTo(this.from, this.to, this.hitResults);\r\n\t\t\t\t\t//\u904D\u5386\u5C04\u7EBF\u68C0\u6D4B\u7684\u7ED3\u679C\r\n\t\t\t\t\tfor (i = 0, n = this.hitResults.length; i < n; i++)\r\n\t\t\t\t\t\t//\u5C06\u5C04\u7EBF\u78B0\u649E\u5230\u7684\u7269\u4F53\u8BBE\u7F6E\u4E3A\u7EA2\u8272\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResults[i].collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//\u8FDB\u884C\u5C04\u7EBF\u68C0\u6D4B,\u68C0\u6D4B\u7B2C\u4E00\u4E2A\u78B0\u649E\u7269\u4F53\r\n\t\t\t\t\tthis.scene.physicsSimulation.raycastFromTo(this.from, this.to, this.hitResult);\r\n\t\t\t\t\t//\u5C06\u68C0\u6D4B\u5230\u7684\u7269\u4F53\u8BBE\u7F6E\u4E3A\u7EA2\u8272\r\n\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResult.collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 1:\r\n\t\t\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\t\t\tvar boxCollider: BoxColliderShape = new BoxColliderShape(1.0, 1.0, 1.0);\r\n\t\t\t\tfor (i = 0; i < 21; i++) {\r\n\t\t\t\t\t//\u521B\u5EFA\u8FDB\u884C\u5C04\u7EBF\u68C0\u6D4B\u7684\u76D2\u5B50\u7CBE\u7075\r\n\t\t\t\t\tvar boxSprite: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(1.0, 1.0, 1.0))));\r\n\t\t\t\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\t\t\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t\t\t\t//\u8BBE\u7F6E\u6750\u8D28\u7684\u989C\u8272\r\n\t\t\t\t\tmat.albedoColor = this._albedoColor;\r\n\t\t\t\t\t//\u8BBE\u7F6E\u6750\u8D28\u7684\u6E32\u67D3\u6A21\u5F0F\r\n\t\t\t\t\tmat.renderMode = BlinnPhongMaterial.RENDERMODE_TRANSPARENT;\r\n\t\t\t\t\tboxSprite.meshRenderer.material = mat;\r\n\t\t\t\t\tVector3.lerp(this.from, this.to, i / 20, this._position);\r\n\t\t\t\t\tboxSprite.transform.localPosition = this._position;\r\n\t\t\t\t\tthis.debugSprites.push(boxSprite);\r\n\t\t\t\t}\r\n\t\t\t\t//\u4F7F\u7528\u76D2\u578B\u78B0\u649E\u5668\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B\r\n\t\t\t\tif (this.castAll) {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u6240\u6709\u78B0\u649E\u7684\u7269\u4F53\r\n\t\t\t\t\tthis.scene.physicsSimulation.shapeCastAll(boxCollider, this.from, this.to, this.hitResults);\r\n\t\t\t\t\t//\u904D\u5386\u68C0\u6D4B\u5230\u7684\u6240\u6709\u7269\u4F53\uFF0C\u5E76\u5C06\u5176\u8BBE\u7F6E\u4E3A\u7EA2\u8272\r\n\t\t\t\t\tfor (i = 0, n = this.hitResults.length; i < n; i++)\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResults[i].collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u7B2C\u4E00\u4E2A\u78B0\u649E\u7269\u4F53\r\n\t\t\t\t\tif (this.scene.physicsSimulation.shapeCast(boxCollider, this.from, this.to, this.hitResult))\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResult.collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 2:\r\n\t\t\t\t//\u521B\u5EFA\u7403\u578B\u78B0\u649E\u5668\r\n\t\t\t\tvar sphereCollider: SphereColliderShape = new SphereColliderShape(0.5);\r\n\t\t\t\tfor (i = 0; i < 41; i++) {\r\n\t\t\t\t\tvar sphereSprite: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.5))));\r\n\t\t\t\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t\t\t\tmat.albedoColor = this._albedoColor;\r\n\t\t\t\t\tmat.renderMode = BlinnPhongMaterial.RENDERMODE_TRANSPARENT;\r\n\t\t\t\t\tsphereSprite.meshRenderer.material = mat;\r\n\t\t\t\t\tVector3.lerp(this.from, this.to, i / 40, this._position);\r\n\t\t\t\t\tsphereSprite.transform.localPosition = this._position;\r\n\t\t\t\t\tthis.debugSprites.push(sphereSprite);\r\n\t\t\t\t}\r\n\t\t\t\t//\u4F7F\u7528\u7403\u578B\u78B0\u649E\u5668\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B\r\n\t\t\t\tif (this.castAll) {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u6240\u6709\u78B0\u649E\u7684\u7269\u4F53\r\n\t\t\t\t\tthis.scene.physicsSimulation.shapeCastAll(sphereCollider, this.from, this.to, this.hitResults);\r\n\t\t\t\t\tfor (i = 0, n = this.hitResults.length; i < n; i++)\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResults[i].collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u7B2C\u4E00\u4E2A\u78B0\u649E\u7269\u4F53\r\n\t\t\t\t\tif (this.scene.physicsSimulation.shapeCast(sphereCollider, this.from, this.to, this.hitResult))\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResult.collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 3:\r\n\t\t\t\t//\u521B\u5EFA\u80F6\u56CA\u578B\u78B0\u649E\u5668\r\n\t\t\t\tvar capsuleCollider: CapsuleColliderShape = new CapsuleColliderShape(0.25, 1.0);\r\n\t\t\t\tfor (i = 0; i < 41; i++) {\r\n\t\t\t\t\tvar capsuleSprite: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(0.25, 1.0))));\r\n\t\t\t\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t\t\t\tmat.albedoColor = this._albedoColor;\r\n\t\t\t\t\tmat.renderMode = BlinnPhongMaterial.RENDERMODE_TRANSPARENT;\r\n\t\t\t\t\tcapsuleSprite.meshRenderer.material = mat;\r\n\t\t\t\t\tVector3.lerp(this.from, this.to, i / 40, this._position);\r\n\t\t\t\t\tcapsuleSprite.transform.localPosition = this._position;\r\n\t\t\t\t\tthis.debugSprites.push(capsuleSprite);\r\n\t\t\t\t}\r\n\t\t\t\t//\u4F7F\u7528\u80F6\u56CA\u78B0\u649E\u5668\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B\r\n\t\t\t\tif (this.castAll) {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u6240\u6709\u78B0\u649E\u7684\u7269\u4F53\r\n\t\t\t\t\tthis.scene.physicsSimulation.shapeCastAll(capsuleCollider, this.from, this.to, this.hitResults);\r\n\t\t\t\t\tfor (i = 0, n = this.hitResults.length; i < n; i++)\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResults[i].collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//\u8FDB\u884C\u5F62\u72B6\u68C0\u6D4B,\u68C0\u6D4B\u7B2C\u4E00\u4E2A\u78B0\u649E\u7269\u4F53\r\n\t\t\t\t\tif (this.scene.physicsSimulation.shapeCast(capsuleCollider, this.from, this.to, this.hitResult))\r\n\t\t\t\t\t\t((<BlinnPhongMaterial>((<MeshSprite3D>this.hitResult.collider.owner)).meshRenderer.sharedMaterial)).albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tcastType = this.castType;\r\n\t}\r\n\r\n\taddBox(): void {\r\n\t\tvar mat1: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((res)=>{\r\n\t\t\t(mat1 as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\r\n\t\t//\u968F\u673A\u751F\u6210\u76D2\u5B50\u7684\u4F4D\u7F6E\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\t//\u521B\u5EFA\u76D2\u5B50 MeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\t//\u8BBE\u7F6E\u76D2\u5B50\u7684\u6750\u8D28\r\n\t\tbox.meshRenderer.material = mat1;\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = box.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\t//\u8BBE\u7F6E\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = boxShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n\r\n\taddCapsule(): void {\r\n\t\tvar mat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(mat as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\r\n\t\t//\u968F\u673A\u751F\u6210\u80F6\u56CA\u7684\u534A\u5F84\u548C\u9AD8\u5EA6\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\t//\u521B\u5EFA\u80F6\u56CAMeshSprite3D\u7CBE\u7075\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\t//\u4E3A\u80F6\u56CA\u7CBE\u7075\u8BBE\u7F6E\u6750\u8D28\r\n\t\tcapsule.meshRenderer.material = mat;\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u80F6\u56CA\u578B\u78B0\u649E\u5668\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\t//\u8BBE\u7F6E\u78B0\u649E\u5668\u7684\u5F62\u72B6\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Color = Laya.Color;\r\nimport InputManager = Laya.InputManager;\r\nimport SphereColliderShape = Laya.SphereColliderShape;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport CapsuleColliderShape = Laya.CapsuleColliderShape;\r\nimport Texture2D = Laya.Texture2D;\r\nimport Rigidbody3D = Laya.Rigidbody3D;\r\nimport Collision = Laya.Collision;\r\nimport Transform3D = Laya.Transform3D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BoxColliderShape = Laya.BoxColliderShape;\r\nimport PhysicsCollider = Laya.PhysicsCollider;\r\nimport Vector4 = Laya.Vector4;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport PhysicsComponent = Laya.PhysicsComponent;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('4d873f7e-4cd7-4613-bca4-fd2851da4301', '../src/3D/PhysicsWorld/PhysicsWorld_TriggerAndCollisionEvent.ts')\r\nexport class PhysicsWorld_TriggerAndCollisionEvent extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate kinematicSphere: Sprite3D;\r\n\r\n\tprivate translateW: Vector3 = new Vector3(0, 0, -0.2);\r\n\tprivate translateS: Vector3 = new Vector3(0, 0, 0.2);\r\n\tprivate translateA: Vector3 = new Vector3(-0.2, 0, 0);\r\n\tprivate translateD: Vector3 = new Vector3(0.2, 0, 0);\r\n\tprivate translateQ: Vector3 = new Vector3(-0.01, 0, 0);\r\n\tprivate translateE: Vector3 = new Vector3(0.01, 0, 0);\r\n\r\n\tprivate plane: MeshSprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 6, 9.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u65B9\u5411\u5149\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color.setValue(0.6, 0.6, 0.6, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-3.14 / 3, 0, 0));\r\n\r\n        //\u8BBE\u7F6E\u5E73\u884C\u5149\u7684\u65B9\u5411\r\n        var mat: Matrix4x4 = this.directionLight.transform.worldMatrix;\r\n        mat.setForward(new Vector3(-1.0, -1.0, -1.0));\r\n        this.directionLight.transform.worldMatrix = mat;\r\n\r\n\t\t//\u521B\u5EFA\u5730\u9762\r\n\t\tthis.plane = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createPlane(20, 20, 10, 10))));\r\n\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\tvar planeMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(planeMat as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tplaneMat.tilingOffset = new Vector4(2, 2, 0, 0);\r\n\t\tthis.plane.meshRenderer.material = planeMat;\r\n\r\n\t\t//\u521B\u5EFA\u7269\u7406\u78B0\u649E\r\n\t\tvar staticCollider: PhysicsCollider = (<PhysicsCollider>this.plane.addComponent(PhysicsCollider));\r\n\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(20, 0, 20);\r\n\t\t//\u4E3A\u7269\u7406\u78B0\u649E\u8BBE\u7F6E\u78B0\u649E\u5F62\u72B6\r\n\t\tstaticCollider.colliderShape = boxShape;\r\n\t\t//\u521B\u5EFA\u8FD0\u52A8\u5B66\u7269\u4F53\r\n\t\tthis.addKinematicSphere();\r\n\t\tfor (var i: number = 0; i < 30; i++) {\r\n\t\t\tthis.addBoxAndTrigger();\r\n\t\t\tthis.addCapsuleCollision();\r\n\t\t}\r\n\t}\r\n\r\n\taddKinematicSphere(): void {\r\n\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\tvar mat2: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((res)=>{\r\n\t\t\t(mat2 as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\u53CD\u7167\u7387\u989C\u8272\r\n\t\tmat2.albedoColor = new Color(1.0, 0.0, 0.0, 1.0);\r\n\r\n\t\t//\u521B\u5EFA\u7403\u578BMeshSprite3D\r\n\t\tvar radius: number = 0.8;\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\tsphere.meshRenderer.material = mat2;\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(0, 0.8, 0);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\t//\u521B\u5EFA\u521A\u4F53\u78B0\u649E\u5668\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\t//\u521B\u5EFA\u7403\u5F62\u78B0\u649E\u5668\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u78B0\u649E\u5668\u7684\u78B0\u649E\u5F62\u72B6\u4E3A\u7403\u5F62\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u7684\u8D28\u91CF\r\n\t\trigidBody.mass = 60;\r\n\t\t//\u8BBE\u7F6E\u521A\u4F53\u4E3A\u8FD0\u52A8\u5B66\uFF0C\u5982\u679C\u4E3Atrue\u4EC5\u53EF\u901A\u8FC7transform\u5C5E\u6027\u79FB\u52A8\u7269\u4F53,\u800C\u975E\u5176\u4ED6\u529B\u76F8\u5173\u5C5E\u6027\u3002\r\n\t\trigidBody.isKinematic = true;\r\n\r\n\t\tthis.kinematicSphere = sphere;\r\n\t\t//\u5F00\u59CB\u59CB\u7EC8\u5FAA\u73AF\uFF0C\u5B9A\u65F6\u91CD\u590D\u6267\u884C(\u57FA\u4E8E\u5E27\u7387)\uFF0C\u7B2C\u4E00\u4E2A\u53C2\u6570\u4E3A\u95F4\u9694\u5E27\u6570\u3002\r\n\t\tLaya.timer.frameLoop(1, this, this.onKeyDown);\r\n\t}\r\n\r\n\tonKeyDown(): void {\r\n\t\tInputManager.hasKeyDown(87) && this.kinematicSphere.transform.translate(this.translateW);//W\r\n\t\tInputManager.hasKeyDown(83) && this.kinematicSphere.transform.translate(this.translateS);//S\r\n\t\tInputManager.hasKeyDown(65) && this.kinematicSphere.transform.translate(this.translateA);//A\r\n\t\tInputManager.hasKeyDown(68) && this.kinematicSphere.transform.translate(this.translateD);//D\r\n\t\tInputManager.hasKeyDown(81) && this.plane.transform.translate(this.translateQ);//Q\r\n\t\tInputManager.hasKeyDown(69) && this.plane.transform.translate(this.translateE);//E\r\n\t}\r\n\r\n\taddBoxAndTrigger(): void {\r\n\t\t//\u521B\u5EFABlinnPhong\u6750\u8D28\r\n\t\tvar mat1: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/rocks.jpg\").then((res)=>{\r\n\t\t\t(mat1 as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\t\t//\u8BBE\u7F6E\u53CD\u7167\u7387\u989C\u8272\r\n\t\tmat1.albedoColor = new Color(1.0, 1.0, 1.0, 1.0);\r\n\r\n\t\t//\u968F\u673A\u751F\u6210\u5750\u6807\r\n\t\tvar sX: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sY: number = Math.random() * 0.75 + 0.25;\r\n\t\tvar sZ: number = Math.random() * 0.75 + 0.25;\r\n\t\t//\u521B\u5EFA\u76D2\u578BMeshSprite3D\r\n\t\tvar box: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createBox(sX, sY, sZ))));\r\n\t\t//\u8BBE\u7F6E\u6750\u8D28\r\n\t\tbox.meshRenderer.material = mat1;\r\n\r\n\t\tvar transform: Transform3D = box.transform;\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 16 - 8, sY / 2, Math.random() * 16 - 8);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(0, Math.random() * 360, 0);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\t//\u521B\u5EFA\u7269\u7406\u78B0\u649E\u5668\r\n\t\tvar staticCollider: PhysicsCollider = box.addComponent(PhysicsCollider);//StaticCollider\u53EF\u4E0E\u975EKinematic\u7C7B\u578BRigidBody3D\u4EA7\u751F\u78B0\u649E\r\n\t\t//\u521B\u5EFA\u76D2\u578B\u78B0\u649E\u5668\r\n\t\tvar boxShape: BoxColliderShape = new BoxColliderShape(sX, sY, sZ);\r\n\t\tstaticCollider.colliderShape = boxShape;\r\n\t\t//\u6807\u8BB0\u4E3A\u89E6\u53D1\u5668,\u53D6\u6D88\u7269\u7406\u53CD\u9988\r\n\t\tstaticCollider.isTrigger = true;\r\n\t\t//\u6DFB\u52A0\u89E6\u53D1\u5668\u7EC4\u4EF6\u811A\u672C\r\n\t\tvar script: TriggerCollisionScript = box.addComponent(TriggerCollisionScript);\r\n\t\tscript.kinematicSprite = this.kinematicSphere;\r\n\t}\r\n\r\n\taddCapsuleCollision(): void {\r\n\t\tvar mat3: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/wood.jpg\").then((res)=>{\r\n\t\t\t(mat3 as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\r\n\t\tvar raidius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar height: number = Math.random() * 0.5 + 0.8;\r\n\t\tvar capsule: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(raidius, height))));\r\n\t\tcapsule.meshRenderer.material = mat3;\r\n\r\n\t\tvar transform: Transform3D = capsule.transform;\r\n\t\t//\u8BBE\u7F6E\u4F4D\u7F6E\r\n\t\tvar pos: Vector3 = transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 2, Math.random() * 4 - 2);\r\n\t\ttransform.position = pos;\r\n\t\t//\u8BBE\u7F6E\u6B27\u62C9\u89D2\r\n\t\tvar rotationEuler: Vector3 = transform.rotationEuler;\r\n\t\trotationEuler.setValue(Math.random() * 360, Math.random() * 360, Math.random() * 360);\r\n\t\ttransform.rotationEuler = rotationEuler;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = capsule.addComponent(Rigidbody3D);//Rigidbody3D\u53EF\u4E0EStaticCollider\u548CRigidBody3D\u4EA7\u751F\u78B0\u649E\r\n\t\tvar sphereShape: CapsuleColliderShape = new CapsuleColliderShape(raidius, height);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t\tvar script: TriggerCollisionScript = capsule.addComponent(TriggerCollisionScript);\r\n\t\tscript.kinematicSprite = this.kinematicSphere;\r\n\r\n\t}\r\n\r\n\taddSphere(): void {\r\n\t\tvar mat2: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/Physics/plywood.jpg\").then((res)=>{\r\n\t\t\t(mat2 as BlinnPhongMaterial).albedoTexture = res as Texture2D;\r\n\t\t});\t\r\n\r\n\t\tvar radius: number = Math.random() * 0.2 + 0.2;\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(radius))));\r\n\t\tsphere.meshRenderer.material = mat2;\r\n\t\tvar pos: Vector3 = sphere.transform.position;\r\n\t\tpos.setValue(Math.random() * 4 - 2, 10, Math.random() * 4 - 2);\r\n\t\tsphere.transform.position = pos;\r\n\r\n\t\tvar rigidBody: Rigidbody3D = sphere.addComponent(Rigidbody3D);\r\n\t\tvar sphereShape: SphereColliderShape = new SphereColliderShape(radius);\r\n\t\trigidBody.colliderShape = sphereShape;\r\n\t\trigidBody.mass = 10;\r\n\t}\r\n}\r\n\r\nclass TriggerCollisionScript extends Laya.Script {\r\n\tkinematicSprite: Sprite3D;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\r\n\r\n\t}\r\n\r\n\t//\u5F00\u59CB\u89E6\u53D1\u65F6\u6267\u884C\r\n\tonTriggerEnter(other: PhysicsComponent): void {\r\n\t\t((<BlinnPhongMaterial>((<MeshRenderer>((<MeshSprite3D>this.owner)).meshRenderer)).sharedMaterial)).albedoColor = new Color(0.0, 1.0, 0.0, 1.0);\r\n\t}\r\n\r\n\t//\u6301\u7EED\u89E6\u53D1\u65F6\u6267\u884C\r\n\tonTriggerStay(other: PhysicsComponent): void {\r\n\t}\r\n\r\n\t//\u7ED3\u675F\u89E6\u53D1\u65F6\u6267\u884C\r\n\tonTriggerExit(other: PhysicsComponent): void {\r\n\t\t((<BlinnPhongMaterial>((<MeshRenderer>((<MeshSprite3D>this.owner)).meshRenderer)).sharedMaterial)).albedoColor = new Color(1.0, 1.0, 1.0, 1.0);\r\n\t}\r\n\r\n\t//\u5F00\u59CB\u78B0\u649E\u65F6\u6267\u884C\r\n\tonCollisionEnter(collision: Collision): void {\r\n\t\tif (collision.other.owner === this.kinematicSprite)\r\n\t\t\t((<BlinnPhongMaterial>((<MeshRenderer>((<MeshSprite3D>this.owner)).meshRenderer)).sharedMaterial)).albedoColor = new Color(0.0, 0.0, 0.0, 1.0);\r\n\t}\r\n\r\n\t//\u6301\u7EED\u78B0\u649E\u65F6\u6267\u884C\r\n\tonCollisionStay(collision: Collision): void {\r\n\t}\r\n\r\n\t//\u7ED3\u675F\u78B0\u649E\u65F6\u6267\u884C\r\n\tonCollisionExit(collision: Collision): void {\r\n\t}\r\n\r\n}\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Handler = Laya.Handler;\r\nimport Resource = Laya.Resource;\r\nimport Camera = Laya.Camera;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('dfc7da98-20e0-474c-a6df-4fbab1af1a8f', '../src/3D/Resource/GarbageCollection.ts')\r\nexport class GarbageCollection extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate _scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\t//\u53EF\u4EE5\u4F7F\u7528Laya.Scene3D.load\r\n\t\tScene3D.load(\"resources/res/threeDimen/scene/LayaScene_dudeScene/Conventional/dudeSceneNoCamera.ls\", Handler.create(this, (scene:Scene3D)=> {\r\n\t\t\tthis._scene = (<Scene3D>this.scene.addChildAt(scene, 0));\r\n\t\t\tsuper.addBottomButton( [\"\u91CA\u653E\u663E\u5B58\",\"\u52A0\u8F7D\u573A\u666F\"] , this, [this.garbageCollection, this.loadScene] );\r\n\t\t}));\r\n\t}\r\n\t\r\n\tloadScene(): void {\r\n\r\n\t\t//\u4E5F\u53EF\u4EE5\u4F7F\u7528Laya.loader\u7684\u65B9\u5F0F\u52A0\u8F7D\uFF0C\u52A0\u8F7D\u540E\u6839\u8282\u70B9\u662FScene2D\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/scene/LayaScene_dudeScene/Conventional/dudeSceneNoCamera.ls\").then((res)=> {\r\n\t\t\tlet scene = res.create();\r\n\t\t\t//scene.scene3D \u53EF\u4EE5\u83B7\u5F97Scene3D\u8D44\u6E90\r\n\t\t\tlet scene3D = scene.scene3D;\r\n\t\t\tthis._scene = (<Scene3D>this.scene.addChildAt(scene3D, 0));\r\n\t\t});\r\n\t}\r\n\t\r\n\tgarbageCollection(): void {\r\n\t\t\r\n\t\tif (this._scene)//_scene\u4E0D\u4E3A\u7A7A\u8868\u793A\u573A\u666F\u5DF2\u52A0\u8F7D\u5B8C\u6210\r\n\t\t{\r\n\t\t\tthis._scene.destroy();//\u9500\u6BC1\u573A\u666F\r\n\t\t\tthis._scene = null;\r\n\t\t\tResource.destroyUnusedResources();//\u9500\u6BC1\u65E0\u7528\u8D44\u6E90(\u6CA1\u6709\u88AB\u573A\u666F\u6811\u5F15\u7528,\u5E76\u4E14\u6CA1\u6709\u52A0\u8D44\u6E90\u9501\u7684)\r\n\t\t}\r\n\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Loader = Laya.Loader;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('97f3fc07-f23a-40f7-9b00-346bbca95ac5', '../src/3D/Resource/LoadFbxRosource.ts')\r\nexport class LoadFbxRosource extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n        \r\n        this.camera.transform.position = new Vector3(0.5, 1.2, 4);\r\n\r\n        //\u6570\u7EC4\u52A0\u8F7D\u65B9\u5F0F\r\n        var Resource:any[] = [\r\n            //\u53EF\u4EE5\u76F4\u63A5\u52A0\u8F7D\u5DF2\u7ECF\u5728IDE\u91CC\u5236\u4F5C\u597D\u7684lh\uFF0C\u5176\u4E2D\u6750\u8D28\u5DF2\u7ECF\u521B\u5EFA\u597D\r\n            { url: \"resources/res/threeDimen/fbx/Danding.lh\", type: Loader.HIERARCHY },\r\n            //\u53EF\u4EE5\u76F4\u63A5\u52A0\u8F7DFBX\u6587\u4EF6\uFF0C\u5E76\u914D\u7F6E\u6750\u8D28\u4F7F\u7528\u7684shader\u548C\u7EB9\u7406\u8D34\u56FE\r\n            { url: \"resources/res/threeDimen/fbx/Stand.FBX\", type: Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/fbx/Material.lmat\", type: Loader.MATERIAL },\r\n            { url: \"resources/res/threeDimen/fbx/LayaMonkey.lmat\", type: Loader.MATERIAL }\r\n        ];\r\n\r\n        Laya.loader.load(Resource).then( (res:any[] )=>{\r\n            this.onFBXComplete(res);\r\n\r\n            //\u5355\u72EC\u52A0\u8F7D\u65B9\u5F0F\uFF0C\u5FC5\u987B\u52A0\u5165Loader.HIERARCHY\u7C7B\u578B\r\n            Laya.loader.load(\"resources/res/threeDimen/fbx/LayaMonkey.FBX\",Loader.HIERARCHY).then( fbx =>{\r\n                var LayaMonkey: Sprite3D = fbx.create();\r\n                this.scene.addChild(LayaMonkey);\r\n                LayaMonkey.transform.position = new Vector3(2.5, 0, 0);\r\n                LayaMonkey.transform.setWorldLossyScale(new Vector3(0.6, 0.6, 0.6));\r\n                LayaMonkey.getChildAt(0).getComponent(Laya.MeshRenderer).material = res[3];\r\n            });            \r\n        });\r\n\r\n    }\r\n\r\n    onFBXComplete(res:any[]): void {\r\n\r\n        // \u9700\u8981\u4F7F\u7528create()\r\n        let Danding: Sprite3D = res[0].create();\r\n        this.scene.addChild(Danding);\r\n        Danding.transform.position = new Vector3(-2, 0, 0);\r\n\r\n        var Stand: Sprite3D = res[1].create();\r\n        this.scene.addChild(Stand);\r\n        Stand.transform.position = new Vector3(0, 0, 0);\r\n        Stand.getChildAt(0).getComponent(Laya.MeshRenderer).material = res[2];\r\n        \r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Loader = Laya.Loader;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('94f58eab-aae6-4322-94c4-dd6654f2317a', '../src/3D/Resource/LoadGltfRosource.ts')\r\nexport class LoadGltfRosource extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n        \r\n        this.camera.transform.position = new Vector3(0.5, 1.2, 4);\r\n\r\n        //\u6570\u7EC4\u52A0\u8F7D\u65B9\u5F0F\r\n        var gltfResource:any[] = [\r\n\r\n            { url: \"resources/res/threeDimen/gltf/RiggedFigure/RiggedFigure.gltf\", type: Loader.HIERARCHY },\r\n            { url: \"resources/res/threeDimen/gltf/Duck/Duck.lh\", type: Loader.HIERARCHY }\r\n        ];\r\n\r\n        Laya.loader.load(gltfResource).then( (res:any[] )=>{\r\n            this.onGLTFComplete(res);\r\n        });\r\n\r\n        //\u5355\u72EC\u52A0\u8F7D\u65B9\u5F0F\uFF0C\u5FC5\u987B\u52A0\u5165Loader.HIERARCHY\u7C7B\u578B\r\n        Laya.loader.load(\"resources/res/threeDimen/gltf/AnimatedCube/AnimatedCube.gltf\",Loader.HIERARCHY).then( res=>{\r\n            var cube: Sprite3D = res.create();\r\n            this.scene.addChild(cube);\r\n            cube.transform.position = new Vector3(2.5, 0.6, 0);\r\n            cube.transform.setWorldLossyScale(new Vector3(0.6, 0.6, 0.6));\r\n        });\r\n    \r\n    }\r\n\r\n    onGLTFComplete(res:any[]): void {\r\n\r\n        // \u9700\u8981\u4F7F\u7528create()\r\n        let riggedFigure: Sprite3D = res[0].create();\r\n        this.scene.addChild(riggedFigure);\r\n        riggedFigure.transform.position = new Vector3(-2, 0, 0);\r\n\r\n        var duck: Sprite3D = res[1].create();\r\n        this.scene.addChild(duck);\r\n        duck.transform.position = new Vector3(0, 0, 0);\r\n        \r\n    }\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Quaternion = Laya.Quaternion;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport SkyBox = Laya.SkyBox;\r\nimport ProgressBar = Laya.ProgressBar;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('dcc04071-d471-438c-933e-bfc361ac03a4', '../src/3D/Resource/LoadResourceDemo.ts')\r\nexport class LoadResourceDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.ProgressBar)\r\n    private loadingBar: ProgressBar;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        let resArr : Array<any>= [\r\n\r\n            //\u52A0\u8F7D\u4E0D\u540C\u7C7B\u578B\u76843D\u8D44\u6E90\r\n            { url: \"resources/res/threeDimen/skyBox/skyBox2/skyBox2.lmat\", type: Laya.Loader.MATERIAL },\r\n            { url: \"resources/res/threeDimen/texture/earth.png\", type: Laya.Loader.TEXTURE2D },\r\n            { url: \"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\", type: Laya.Loader.MESH },\r\n            { url: \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\", type: Laya.Loader.HIERARCHY }\r\n\r\n        ]; \r\n\r\n        Laya.loader.load(resArr, null, Laya.Handler.create(this, this.onLoading, null, false)).then(( res:any[] )=> {\r\n\r\n            this.loadingBar.visible = false;\r\n            this.onComplete(res);\r\n            \r\n        });\r\n        // \u4FA6\u542C\u52A0\u8F7D\u5931\u8D25\r\n        Laya.loader.on(Laya.Event.ERROR, this, this.onError);\r\n\t}\r\n\r\n\t//\u52A0\u8F7D\u8D44\u6E90\r\n\tonComplete(res:any[]) {\r\n\r\n        //res[1] \u83B7\u53D6\u6750\u8D28\r\n        //\u83B7\u53D6\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\r\n        var skyRenderer: SkyRenderer = this.camera.skyRenderer;\r\n        //\u521B\u5EFA\u5929\u7A7A\u76D2\u7684mesh\r\n        skyRenderer.mesh = SkyBox.instance;\r\n        //\u8BBE\u7F6E\u5929\u7A7A\u76D2\u6750\u8D28\r\n        skyRenderer.material = res[0];\r\n\r\n        //res[1] \u83B7\u53D6\u7EB9\u7406\r\n        var earth1: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(1))));\r\n        earth1.transform.position = new Laya.Vector3(0, 1, 0);\r\n        var earthMat: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n        earthMat.albedoTexture = res[1];\r\n        earthMat.albedoIntensity = 1;\r\n        earth1.meshRenderer.material = earthMat;\r\n\r\n        //res[2] \u83B7\u53D6Mesh\uFF0C\u521B\u5EFAMeshSprite3D\r\n        var layaMonkey: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(res[2])));\r\n        var layaMonkeyTrans = layaMonkey.transform;\r\n        var layaMonkeyScale: Vector3 = layaMonkeyTrans.localScale;\r\n        layaMonkeyScale.setValue(0.5, 0.5, 0.5);\r\n        layaMonkeyTrans.localScale = layaMonkeyScale;\r\n        layaMonkey.transform.rotation = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n        layaMonkey.transform.translate(new Vector3(-2, 0, 0));\r\n\r\n        //res[3].create() \u83B7\u53D6\u7CBE\u7075\uFF0Clh/ls\u9700\u8981\u4F7F\u7528create()\r\n        var layaMonkey2: Sprite3D = (<Sprite3D>this.scene.addChild(res[3].create()));\r\n        var layaMonkey2Trans = layaMonkey2.transform;\r\n        var layaMonkey2Scale: Vector3 = layaMonkey2Trans.localScale;\r\n        layaMonkey2Scale.setValue(5, 5, 5);\r\n        layaMonkey2Trans.localScale = layaMonkey2Scale;\r\n        layaMonkey2Trans.translate(new Vector3(2, 0, 0));\r\n\t}\r\n\r\n\r\n    /**\r\n   * \u5F53\u62A5\u9519\u65F6\u6253\u5370\u9519\u8BEF\r\n   */\r\n    onError(err: string): void {\r\n        console.log(\"\u52A0\u8F7D\u5931\u8D25: \" + err);\r\n    }\r\n\r\n    /**\r\n     * \u52A0\u8F7D\u65F6\u4FA6\u542C\r\n     */\r\n    onLoading(progress: number): void {\r\n        //\u63A5\u8FD1\u5B8C\u6210\u52A0\u8F7D\u65F6\uFF0C\u8BA9\u663E\u793A\u8FDB\u5EA6\u6BD4\u5B9E\u9645\u8FDB\u5EA6\u6162\u4E00\u70B9\uFF0C\u8FD9\u662F\u4E3A\u6253\u5F00\u573A\u666F\u65F6\u7684\u81EA\u52A8\u52A0\u8F7D\u9884\u7559\uFF0C\u5C24\u5176\u662F\u8981\u6253\u5F00\u7684\u573A\u666F\u8D44\u6E90\u591A\uFF0C\u5E76\u6CA1\u6709\u5B8C\u5168\u653E\u5230\u9884\u52A0\u8F7D\u4E2D\uFF0C\u8FD8\u9700\u8981\u518D\u81EA\u52A8\u52A0\u8F7D\u4E00\u90E8\u5206\u65F6\u3002\r\n        if (progress > 0.92) this.loadingBar.value = 0.95;\r\n        else\r\n        {\r\n            this.loadingBar.value = progress;\r\n            console.log(\"\u52A0\u8F7D\u8FDB\u5EA6: \" + progress, this.loadingBar.value);\r\n        }\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('2cf6cd82-fb9a-4533-9cab-4f56553644d5', '../src/3D/PostProcess/PostProcessAO.ts')\r\nexport class PostProcessAO extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private postProcess:Laya.PostProcess = null;\r\n\r\n    constructor() {\r\n        super();        \r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        let postProcess = new Laya.PostProcess();\r\n\t\tpostProcess  = this.camera.postProcess;\r\n\t\tthis.postProcess = postProcess;\r\n\r\n        super.addBottomButton( [\"\u5173\u95EDAO\",\"\u5F00\u542FAO\"] , this, [this.setPostProcess, this.setPostProcess] );\r\n\t}\r\n\r\n\r\n\r\n\tprivate setPostProcess(): void {\r\n\r\n\t\tvar enableHDR = !!this.camera.postProcess;\r\n\t\tif (enableHDR) {\r\n\t\t\tthis.camera.postProcess = null;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.camera.postProcess = this.postProcess;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('42295c88-4869-49a6-80ce-44c4e80ce451', '../src/3D/PostProcess/PostProcessBloom.ts')\r\nexport class PostProcessBloom extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n        \r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n        \r\n\t}\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('ead5a66a-5863-4576-b5f0-2a010dd56bfa', '../src/3D/PostProcess/PostProcessDoF.ts')\r\nexport class PostProcessDoF extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n        \r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n        \r\n\t}\r\n}", "#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME BlurHorizontal\r\n#include \"Color.glsl\";\r\nvarying vec2 v_Texcoord0;\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_texture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    vec2 uv = v_Texcoord0;\r\n    vec2 uvOffset = vec2(1.0,0.0)*u_MainTex_TexelSize.xy*u_DownSampleValue;\r\n    uv = uv - uvOffset*3.0;\r\n    //\u9AD8\u65AF\u53C2\u6570\r\n    color+=0.0205*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.324*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0205*sampleMainTex(u_MainTex,uv);\r\n\r\n    gl_FragColor = color;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n    \r\n\r\n    \r\n}", "#define SHADER_NAME BlurVertical\r\n#include \"Color.glsl\";\r\nvarying vec2 v_Texcoord0;\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_texture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    vec2 uv = v_Texcoord0;\r\n    vec2 uvOffset = vec2(0.0,1.0)*u_MainTex_TexelSize.xy*u_DownSampleValue;\r\n    uv = uv - uvOffset*3.0;\r\n    //\u9AD8\u65AF\u53C2\u6570\r\n    color+=0.0205*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.324*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.232*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0855*sampleMainTex(u_MainTex,uv);\r\n    uv+=uvOffset;\r\n    color+=0.0205*sampleMainTex(u_MainTex,uv);\r\n\r\n    gl_FragColor = color;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n    \r\n\r\n    \r\n}", "#define SHADER_NAME BlurDownSample\r\n#include \"Color.glsl\";\r\nvarying vec2 v_Texcoord0;\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_texture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\nvoid main()\r\n{\r\n    vec4 color = vec4(0.0,0.0,0.0,0.0);\r\n    color += sampleMainTex(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(1.0,0.0));\r\n\tcolor += sampleMainTex(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(-1.0,0.0));\r\n\tcolor += sampleMainTex(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(0.0,-1.0));\r\n    color += sampleMainTex(u_MainTex,v_Texcoord0+u_MainTex_TexelSize.xy*vec2(0.0,1.0));\r\n    gl_FragColor = color/4.0;\r\n   \tgl_FragColor = outputTransform(gl_FragColor);\r\n}", "#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}", "#define SHADER_NAME EdgeAdd\r\n#include \"Color.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_texture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n\r\n#ifdef Gamma_u_sourceTexture0\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\n\r\nvoid main()\r\n{\r\n    vec2 uv = v_Texcoord0;\r\n    vec4 mainColor = sampleMainTex(u_MainTex,uv);\r\n    vec4 sourceColor = sampleMainTex(u_sourceTexture0,uv);\r\n    float factor = step(sourceColor.x+sourceColor.y+sourceColor.z,0.001);\r\n    vec4 color = mix(sourceColor,mainColor,factor);\r\n    gl_FragColor =color;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n}", "#define SHADER_NAME EdgeSub\r\n#include \"Color.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_sourceTexture0\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n\r\n#ifdef Gamma_u_sourceTexture1\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\n\r\nvoid main()\r\n{\r\n    vec2 uv = v_Texcoord0;\r\n    vec4 blurColor = sampleMainTex(u_sourceTexture0,uv);\r\n    vec4 clearColor = sampleMainTex(u_sourceTexture1,uv);\r\n    float factor = step(clearColor.x+clearColor.y+clearColor.z,0.001);\r\n    vec4 color = blurColor*factor;\r\n    color = (1.0-step(color.x+color.y+color.z,0.15))*vec4(1.0,0.0,0.0,1.0);\r\n    gl_FragColor = color;\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport PostProcessEffect = Laya.PostProcessEffect;\r\nimport PostProcessRenderContext = Laya.PostProcessRenderContext;\r\nimport CommandBuffer = Laya.CommandBuffer;\r\nimport Viewport = Laya.Viewport;\r\nimport Material = Laya.Material;\r\nimport BaseTexture = Laya.BaseTexture;\r\nimport FilterMode = Laya.FilterMode;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Shader3D = Laya.Shader3D;\r\nimport ShaderData = Laya.ShaderData;\r\nimport ShaderDataType = Laya.ShaderDataType;\r\nimport LayaGL = Laya.LayaGL;\r\nimport Vector4 = Laya.Vector4;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport RenderState = Laya.RenderState;\r\nimport ShaderPass = Laya.ShaderPass;\r\nimport SubShader = Laya.SubShader;\r\nimport VertexMesh = Laya.VertexMesh;\r\n\r\n//\u53EF\u8BBF\u95EELayaAirDemo\u5DE5\u7A0B\u67E5\u770B\r\nimport BlurVS from \"./BlurShader/Blur.vs\";\r\nimport BlurHorizentalFS from \"./BlurShader/BlurHorizontal.fs\";\r\nimport BlurVerticalFS from \"./BlurShader/BlurVertical.fs\";\r\nimport BlurDownSampleFS from \"./BlurShader/BlurDownSample.fs\";\r\nimport BlurDownSampleVS from \"./BlurShader/BlurDownSample.vs\";\r\nimport BlurEdgeAdd from \"./BlurShader/EdgeAdd.fs\";\r\nimport BlurEdgeSub from \"./BlurShader/EdgeSub.fs\";\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('9eb21397-579f-4799-b104-b539e9971d86', '../src/3D/PostProcess/PostProcess_Blur.ts')\r\nexport class PostProcess_Blur extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private postProcess:Laya.PostProcess = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n\r\n\t\t(this.camera as Camera).clearFlag = CameraClearFlags.Sky;\r\n\t\t(this.camera as Camera).cullingMask ^=2;\r\n\t\t//this.camera.active = false;\r\n\t\t(this.camera as Camera).enableHDR = false;\r\n\t\tvar mainCamera:Camera = (this.scene.getChildByName(\"BlurCamera\") as Camera);// MainCamera//(this.camera as Camera).getChildAt(0) as Camera;\r\n        mainCamera.clearFlag = CameraClearFlags.DepthOnly;//\u5FAE\u4FE1\u5E73\u53F0\u6709bug\u8FD9\u91CC\u5F97\u6362\u6210DepthOnly\r\n\t\tmainCamera.cullingMask = 2;\r\n\t\tmainCamera.renderingOrder = 1;\r\n\t\tmainCamera.enableHDR = false;\r\n\t\t(this.camera as Camera).addChild(mainCamera);\r\n\t\tmainCamera.transform.localMatrix = new Laya.Matrix4x4();\r\n\r\n\t\t//\u589E\u52A0\u540E\u671F\u5904\u7406\r\n\t\tthis.postProcess = new Laya.PostProcess();\r\n\r\n\t\tvar blurEffect:BlurEffect = new BlurEffect();\r\n\t\tthis.postProcess.addEffect(blurEffect);\r\n\t\tthis.camera.postProcess = this.postProcess;\r\n\t\t\r\n\t\t//\u8BBE\u7F6E\u6A21\u7CCA\u53C2\u6570\r\n\t\tblurEffect.downSampleNum =6;\r\n\t\tblurEffect.blurSpreadSize = 1;\r\n\t\tblurEffect.blurIterations = 1;\r\n\r\n\t\tsuper.addBottomButton( [\"\u5173\u95ED\u9AD8\u65AF\u6A21\u7CCA\",\"\u5F00\u542F\u9AD8\u65AF\u6A21\u7CCA\"] , this, [this.setPostProcess, this.setPostProcess] );\r\n        // \u8FD9\u91CC\u4E3A\u4E86\u5904\u7406MainCamera\u4F7F\u7528RenderTexture\u753B\u5230canvas\u4E0A\u7334\u5B50\u7684\u95EE\u9898\uFF0C\u5355\u72EC\u8DD1\u793A\u4F8B\u65F6\u5019\u4E0D\u9700\u8981\u8FD9\u91CC\r\n        var RT = this.camera.renderTarget; \r\n        // RenderTexture.createFromPool(mainCamera.viewport.width, mainCamera.viewport.height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.None, false, 1, false, true);\r\n        mainCamera.renderTarget = RT; \r\n    }\r\n\r\n\tprivate setPostProcess(): void {\r\n\t\tvar enableHDR = !!this.camera.postProcess;\r\n\t\tif (enableHDR) {\r\n\t\t\tthis.camera.postProcess = null;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.camera.postProcess = this.postProcess;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport class BlurEffect extends PostProcessEffect {\r\n\r\n    static BLUR_TYPE_GaussianBlur: number = 0;\r\n    static BLUR_TYPE_Simple: number = 1;\r\n    static SHADERVALUE_MAINTEX: number;\r\n    static SHADERVALUE_TEXELSIZE: number;\r\n    static SHADERVALUE_DOWNSAMPLEVALUE: number;\r\n\r\n    static init() {\r\n        BlurEffect.SHADERVALUE_MAINTEX = Shader3D.propertyNameToID(\"u_MainTex\");\r\n        BlurEffect.SHADERVALUE_TEXELSIZE = Shader3D.propertyNameToID(\"u_MainTex_TexelSize\");\r\n        BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE = Shader3D.propertyNameToID(\"u_DownSampleValue\");\r\n        //\u521D\u59CB\u5316shader\r\n        let attributeMap: any = {\r\n            'a_PositionTexcoord': [VertexMesh.MESH_POSITION0, ShaderDataType.Vector4]\r\n        };\r\n\r\n        let uniformMap: any = {\r\n            \"u_MainTex\": ShaderDataType.Texture2D,\r\n            \"u_sourceTexture0\": ShaderDataType.Texture2D,\r\n            \"u_sourceTexture1\": ShaderDataType.Texture2D,\r\n            \"u_MainTex_TexelSize\": ShaderDataType.Vector4,\r\n            \"u_DownSampleValue\": ShaderDataType.Float\r\n        };\r\n        var shader: Shader3D = Shader3D.add(\"blurEffect\");\r\n        //subShader0  \u964D\u91C7\u6837\r\n        var subShader: SubShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        var shaderpass: ShaderPass = subShader.addShaderPass(BlurDownSampleVS, BlurDownSampleFS);\r\n        var renderState: RenderState = shaderpass.renderState;\r\n        renderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = RenderState.CULL_NONE;\r\n        renderState.blend = RenderState.BLEND_DISABLE;\r\n        //subShader1 \u5782\u76F4\u53CD\u5411\u6A21\u7CCA\r\n        subShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurVerticalFS);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = RenderState.CULL_NONE;\r\n        renderState.blend = RenderState.BLEND_DISABLE;\r\n        //subShader2 \u6C34\u5E73\u65B9\u5411\u6A21\u7CCA\r\n        subShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurHorizentalFS);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = RenderState.CULL_NONE;\r\n        renderState.blend = RenderState.BLEND_DISABLE;\r\n        //subShader3 subTexture\r\n        subShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurEdgeSub);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = RenderState.CULL_NONE;\r\n        renderState.blend = RenderState.BLEND_DISABLE;\r\n        //subShader4 addTexture\r\n        subShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        shaderpass = subShader.addShaderPass(BlurVS, BlurEdgeAdd);\r\n        renderState = shaderpass.renderState;\r\n        renderState.depthTest = RenderState.DEPTHTEST_ALWAYS;\r\n        renderState.depthWrite = false;\r\n        renderState.cull = RenderState.CULL_NONE;\r\n        renderState.blend = RenderState.BLEND_DISABLE;\r\n\r\n    }\r\n\r\n    /**@internal */\r\n    private _shader: Shader3D = null;\r\n    /**@internal */\r\n    private _shaderData: ShaderData = LayaGL.renderOBJCreate.createShaderData(null);\r\n    /**@internal */\r\n    private _downSampleNum: number = 1;\r\n    /**@internal */\r\n    private _blurSpreadSize: number = 1;\r\n    /**@internal */\r\n    private _blurIterations: number = 2;\r\n    /**@internal */\r\n    private _texSize: Vector4 = new Vector4(1.0, 1.0, 1.0, 1.0);\r\n    /**@internal */\r\n    private _tempRenderTexture: any[];\r\n\r\n    constructor() {\r\n        super();\r\n        BlurEffect.init();\r\n        this._shader = Shader3D.find(\"blurEffect\");\r\n        this._tempRenderTexture = new Array(13);\r\n    }\r\n\r\n    /**\r\n     * @return \u5F3A\u5EA6\u3002\r\n     */\r\n    get downSampleNum(): number {\r\n        return this._downSampleNum;\r\n    }\r\n\r\n    /**\r\n     * \u964D\u91C7\u6837,\u503C\u8303\u56F4\u4E3A0-6\u3002\r\n     * @param value \u5F3A\u5EA6\u3002\r\n     */\r\n    set downSampleNum(value: number) {\r\n        this._downSampleNum = Math.min(6, Math.max(value, 0.0));\r\n    }\r\n\r\n    /**\r\n     * \u91C7\u6837\u95F4\u9694  \u8FC7\u5927\u4F1A\u5931\u771F1-10\r\n     * @return \u3002\r\n     */\r\n    get blurSpreadSize(): number {\r\n        return this._blurSpreadSize;\r\n    }\r\n\r\n    /**\r\n     * @param value \r\n     */\r\n    set blurSpreadSize(value: number) {\r\n        this._blurSpreadSize = Math.min(10, Math.max(value, 1.0));\r\n    }\r\n\r\n    /**\r\n     * \u8FED\u4EE3\u6B21\u6570  \u8D8A\u5927\u6027\u80FD\u6D88\u8017\u8D8A\u5927 \u6548\u679C\u8D8A\u597D\r\n     * @return \u3002\r\n     */\r\n    get blurIterations(): number {\r\n        return this._blurIterations;\r\n    }\r\n\r\n    /**\r\n     * @param value\u3002\r\n     */\r\n    set blurIterations(value: number) {\r\n        this._blurIterations = Math.min(Math.max(value, 0.0), 6.0);\r\n    }\r\n\r\n    /**\r\n     * @inheritDoc\r\n     * @override\r\n     * @internal\r\n     */\r\n    render(context: PostProcessRenderContext): void {\r\n        var cmd: CommandBuffer = context.command;\r\n        var viewport: Viewport = context.camera.viewport;\r\n        var scaleFactor: number = 1.0 / (1 << Math.floor(this._downSampleNum));\r\n        var tw: number = Math.floor(viewport.width * scaleFactor);\r\n        var th: number = Math.floor(viewport.height * scaleFactor);\r\n        this._texSize.setValue(1.0 / tw, 1.0 / th, tw, th);\r\n        //\u8D4B\u503C\r\n        this._shaderData.setNumber(BlurEffect.SHADERVALUE_DOWNSAMPLEVALUE, this.blurSpreadSize);\r\n        this._shaderData.setVector(BlurEffect.SHADERVALUE_TEXELSIZE, this._texSize);\r\n        //\u964D\u91C7\u6837\r\n        var downSampleTexture: RenderTexture = RenderTexture.createFromPool(tw, th, RenderTargetFormat.R8G8B8, RenderTargetFormat.None, false, 1);\r\n        downSampleTexture.filterMode = FilterMode.Bilinear;\r\n        this._tempRenderTexture[0] = downSampleTexture;\r\n        var lastDownTexture: RenderTexture = context.source;\r\n        cmd.blitScreenTriangle(lastDownTexture, downSampleTexture, null, this._shader, this._shaderData, 0);\r\n        lastDownTexture = downSampleTexture;\r\n        //\u8FED\u4EE3\u6B21\u6570\r\n        for (var i: number = 0; i < this._blurIterations; i++) {\r\n            //vertical\r\n            var blurTexture: RenderTexture = RenderTexture.createFromPool(tw, th, RenderTargetFormat.R8G8B8, RenderTargetFormat.None, false, 1);\r\n            blurTexture.filterMode = FilterMode.Bilinear;\r\n            cmd.blitScreenTriangle(lastDownTexture, blurTexture, null, this._shader, this._shaderData, 1);\r\n            lastDownTexture = blurTexture;\r\n            this._tempRenderTexture[i * 2 + 1] = blurTexture;\r\n            //Horizental\r\n            blurTexture = RenderTexture.createFromPool(tw, th, RenderTargetFormat.R8G8B8, RenderTargetFormat.None, false, 1);\r\n            blurTexture.filterMode = FilterMode.Bilinear;\r\n            cmd.blitScreenTriangle(lastDownTexture, blurTexture, null, this._shader, this._shaderData, 2);\r\n            lastDownTexture = blurTexture;\r\n            this._tempRenderTexture[i * 2 + 2] = blurTexture;\r\n        }\r\n        context.source = lastDownTexture;\r\n        cmd.blitScreenTriangle(context.source, context.destination);\r\n        var maxTexture = this._blurIterations * 2 + 1;\r\n        //\u91CA\u653E\u6E32\u67D3\u7EB9\u7406\r\n        for (i = 0; i < maxTexture; i++) {\r\n            RenderTexture.recoverToPool(this._tempRenderTexture[i]);\r\n        }\r\n        context.deferredReleaseTextures.push(lastDownTexture);\r\n    }\r\n}\r\n\r\nexport class BlurMaterial extends Material {\r\n    static SHADERVALUE_MAINTEX: number;\r\n    static SHADERVALUE_TEXELSIZE: number;\r\n    static SHADERVALUE_DOWNSAMPLEVALUE: number;\r\n    static SHADERVALUE_SOURCETEXTURE0: number;\r\n    static ShADERVALUE_SOURCETEXTURE1: number;\r\n\r\n    static __init__(){\r\n        BlurMaterial.SHADERVALUE_MAINTEX = Shader3D.propertyNameToID(\"u_MainTex\");\r\n        BlurMaterial.SHADERVALUE_TEXELSIZE = Shader3D.propertyNameToID(\"u_MainTex_TexelSize\");\r\n        BlurMaterial.SHADERVALUE_DOWNSAMPLEVALUE = Shader3D.propertyNameToID(\"u_DownSampleValue\");\r\n        BlurMaterial.SHADERVALUE_SOURCETEXTURE0 = Shader3D.propertyNameToID(\"u_sourceTexture0\");\r\n        BlurMaterial.ShADERVALUE_SOURCETEXTURE1 = Shader3D.propertyNameToID(\"u_sourceTexture1\");\r\n    }\r\n\r\n    constructor(texelSize: Vector4, offset: number) {\r\n        super();\r\n        BlurMaterial.__init__();\r\n        this.setShaderName(\"blurEffect\");\r\n        this.setIntByIndex(BlurMaterial.SHADERVALUE_DOWNSAMPLEVALUE, offset);\r\n        this.setVector4ByIndex(BlurMaterial.SHADERVALUE_TEXELSIZE, texelSize);\r\n    }\r\n\r\n    sourceTexture(sourceTexture0: BaseTexture, sourceTexture1: BaseTexture) {\r\n        this.setTextureByIndex(BlurMaterial.SHADERVALUE_SOURCETEXTURE0, sourceTexture0);\r\n        this.setTextureByIndex(BlurMaterial.ShADERVALUE_SOURCETEXTURE1, sourceTexture1);\r\n    }\r\n}\r\n\r\n", "#define SHADER_NAME EdgeEffectVS\r\n\r\n#include \"Camera.glsl\";\r\nvarying vec2 v_Texcoord0;\r\n\r\nvoid main() {\r\n\tgl_Position = vec4(a_PositionTexcoord.xy, 0.0, 1.0);\r\n\tv_Texcoord0 = a_PositionTexcoord.zw;\r\n\tgl_Position = remapPositionZ(gl_Position);\r\n}\r\n", "#define SHADER_NAME EdgeEffectFS\r\n#include \"Color.glsl\";\r\n#include \"DepthNormalUtil.glsl\";\r\n\r\nvarying vec2 v_Texcoord0;\r\n\r\n\r\nvec4 sampleMainTex(sampler2D tex, vec2 uv)\r\n{\r\n    vec4 mainSampler = texture2D(tex, uv);\r\n#ifdef Gamma_u_texture\r\n    mainSampler = gammaToLinear(mainSampler);\r\n#endif // Gamma_u_MainTex\r\n    return mainSampler;\r\n}\r\n\r\n#ifdef DEPTHNORMAL\r\n    void getDepthNormal(out float depth, out vec3 normal){\r\n        vec4 col = texture2D(u_DepthNormalTex, v_Texcoord0);\r\n        DecodeDepthNormal(col, depth, normal);\r\n    }\r\n\r\n    float getDepth(vec2 uv) {\r\n        float depth;\r\n        vec3 normal;\r\n        vec4 col = texture2D(u_DepthNormalTex, uv);\r\n        DecodeDepthNormal(col, depth, normal);\r\n        return depth;\r\n    }\r\n\r\n    vec3 getNormal(vec2 uv) {\r\n        float depth;\r\n        vec3 normal;\r\n        vec4 col = texture2D(u_DepthNormalTex, uv);\r\n        DecodeDepthNormal(col, depth, normal);\r\n        return normal;\r\n    }\r\n\r\n#endif\r\n\r\n#ifdef DEPTH\r\n    float getDepth(vec2 uv) {\r\n        float depth = texture2D(u_DepthTex, uv).r;\r\n        depth = Linear01Depth(depth, u_DepthBufferParams);\r\n        return depth;\r\n    }\r\n#endif\r\n\r\nvoid SobelSample(in vec2 uv,out vec3 colorG, out vec3 normalG, out vec3 depthG) {\r\n\r\n    float offsetx = u_MainTex_TexelSize.x;\r\n    float offsety = u_MainTex_TexelSize.y;\r\n    vec2 offsets[9];\r\n    offsets[0] = vec2(-offsetx,  offsety); // \u5DE6\u4E0A\r\n    offsets[1] = vec2( 0.0,    offsety); // \u6B63\u4E0A\r\n    offsets[2] = vec2( offsetx,  offsety); // \u53F3\u4E0A\r\n    offsets[3] = vec2(-offsetx,  0.0);   // \u5DE6\r\n    offsets[4] = vec2( 0.0,    0.0);   // \u4E2D\r\n    offsets[5] = vec2( offsetx,  0.0);   // \u53F3\r\n    offsets[6] = vec2(-offsetx, -offsety); // \u5DE6\u4E0B\r\n    offsets[7] = vec2( 0.0,   -offsety); // \u6B63\u4E0B\r\n    offsets[8] = vec2( offsetx, -offsety); // \u53F3\u4E0B\r\n\r\n    float Gx[9];\r\n    Gx[0] = -1.0; Gx[1] = 0.0; Gx[2] = 1.0; \r\n    Gx[3] = -2.0; Gx[4] = 0.0; Gx[5] = 2.0; \r\n    Gx[6] = -1.0; Gx[7] = 0.0; Gx[8] = 1.0; \r\n\r\n    float Gy[9];\r\n    Gy[0] = 1.0; Gy[1] = 2.0; Gy[2] = 1.0; \r\n    Gy[3] = 0.0; Gy[4] = 0.0; Gy[5] = 0.0; \r\n    Gy[6] = -1.0; Gy[7] = -2.0;Gy[8] = -1.0; \r\n\r\n    vec3 sampleTex[9];\r\n    float sampleDepth[9];\r\n    vec3 sampleNormal[9];\r\n    for (int i = 0; i < 9; i++)\r\n    {\r\n        vec2 uvOffset = uv + offsets[i];\r\n        sampleTex[i] = sampleMainTex(u_MainTex, uvOffset).rgb;\r\n        sampleDepth[i] = getDepth(uvOffset);\r\n        sampleNormal[i] = (getNormal(uvOffset) + 1.0) / 2.0;\r\n    }\r\n\r\n    vec3 colorGx = vec3(0.0);\r\n    vec3 colorGy = vec3(0.0);\r\n    float depthGx = 0.0;\r\n    float depthGy = 0.0;\r\n    vec3 normalGx = vec3(0.0);\r\n    vec3 normalGy = vec3(0.0);\r\n\r\n    for (int i = 0; i < 9; i++) {\r\n        colorGx += sampleTex[i] * Gx[i];\r\n        colorGy += sampleTex[i] * Gy[i];\r\n        depthGx += sampleDepth[i] * Gx[i];\r\n        depthGy += sampleDepth[i] * Gy[i];\r\n        normalGx += sampleNormal[i] * Gx[i];\r\n        normalGy += sampleNormal[i] * Gy[i];\r\n    }\r\n\r\n    float colDepthG = abs(depthGx) + abs(depthGy);\r\n    depthG = vec3(colDepthG);\r\n\r\n    colorG = abs(colorGx) + abs(colorGy);\r\n\r\n    normalG = abs(normalGx) + abs(normalGy);\r\n\r\n}\r\n\r\nfloat ColorGray(vec3 color) {\r\n    return (color.r + color.g + color.b) / 3.0;\r\n}\r\n\r\nvec3 getEdgeValue(float hold, vec3 valueG) {\r\n    return vec3(step(hold, ColorGray(valueG)));\r\n}\r\n\r\nvoid main() {\r\n    \r\n    vec2 uv = v_Texcoord0;\r\n\r\n    vec3 colorG, normalG, depthG;\r\n    SobelSample(uv, colorG, normalG, depthG);\r\n    vec3 edgeColor = vec3(0.2);\r\n\r\n    #if defined(DEPTHEDGE)\r\n        vec3 edgeValue = getEdgeValue(u_Depthhold, depthG);\r\n    #endif\r\n\r\n    #if defined(NORMALEDGE)\r\n        vec3 edgeValue = getEdgeValue(u_NormalHold, normalG);\r\n    #endif\r\n\r\n    #if defined(COLOREDGE)\r\n        vec3 edgeValue = getEdgeValue(u_ColorHold, colorG);\r\n    #endif\r\n\r\n    vec3 fillColor = u_EdgeColor.xyz;\r\n\r\n    #ifdef SOURCE\r\n        fillColor = texture2D(u_MainTex, uv).rgb;\r\n    #endif\r\n\r\n    vec3 finalColor = mix(fillColor, edgeColor, edgeValue);\r\n    gl_FragColor = vec4(finalColor, 1.0);\r\n\tgl_FragColor = outputTransform(gl_FragColor);\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\nimport EdgeEffectVS from \"./PostProcess_Edge/shader/EdgeEffectVS.vs\";\r\nimport EdgeEffectFS from \"./PostProcess_Edge/shader/EdgeEffectFS.fs\";\r\n\r\nimport PostProcessEffect = Laya.PostProcessEffect;\r\nimport PostProcessRenderContext = Laya.PostProcessRenderContext;\r\nimport CommandBuffer = Laya.CommandBuffer;\r\nimport Viewport = Laya.Viewport;\r\nimport Camera = Laya.Camera;\r\nimport DepthTextureMode = Laya.DepthTextureMode;\r\nimport ShaderDefine = Laya.ShaderDefine;\r\nimport FilterMode = Laya.FilterMode;\r\nimport RenderTargetFormat = Laya.RenderTargetFormat;\r\nimport Shader3D = Laya.Shader3D;\r\nimport ShaderData = Laya.ShaderData;\r\nimport ShaderDataType = Laya.ShaderDataType;\r\nimport LayaGL = Laya.LayaGL;\r\nimport Vector4 = Laya.Vector4;\r\nimport RenderTexture = Laya.RenderTexture;\r\nimport ShaderPass = Laya.ShaderPass;\r\nimport SubShader = Laya.SubShader;\r\nimport VertexMesh = Laya.VertexMesh;\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Color = Laya.Color;\r\nimport Quaternion = Laya.Quaternion;\r\nimport Event = Laya.Event;\r\nimport HSlider = Laya.HSlider;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Button = Laya.Button;\r\nimport PostProcess = Laya.PostProcess;\r\nimport Handler = Laya.Handler;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('f610bff8-ef8b-40b7-bf5d-5419c36a45cb', '../src/3D/PostProcess/PostProcess_Edge.ts')\r\nexport class PostProcess_Edge extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();        \r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 4, 10);\r\n        this.camera.transform.rotation = new Quaternion(-0.2, 0, 0, 0.97);\r\n\r\n        this.addLight();\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/dude/dude.lh\").then(res=>{\r\n\t\t\tlet sphere: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createSphere(1), \"Sphere\");\r\n\t\t\tthis.scene.addChild(sphere);\r\n\t\t\tsphere.transform.position = new Vector3(0, 1, 0);\r\n\t\r\n\t\t\tlet plane: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createPlane(), \"Plane\");\r\n\t\t\tthis.scene.addChild(plane);\r\n\t\t\tplane.transform.position = new Vector3(0, -0.5, 0);\r\n\t\r\n\t\t\tlet cube: MeshSprite3D = new MeshSprite3D(PrimitiveMesh.createBox(1, 1, 1), \"Cube\");\r\n\t\t\tthis.scene.addChild(cube);\r\n\t\t\tcube.transform.position = new Vector3(0, 3, 0);\r\n\t\t\t\r\n\t\t\tthis.camera.depthTextureMode |= DepthTextureMode.DepthNormals;\r\n\t\r\n\t\t\tlet dude: Sprite3D = res.create();\r\n\t\t\tthis.scene.addChild(dude);\r\n\t\t\tdude.transform.position = new Vector3(1.5, 0, 0);\r\n\t\t\tdude.transform.rotationEuler = new Vector3(0, 180, 0);\r\n\t\r\n\t\t\tlet postProcess: PostProcess = new PostProcess();\r\n\t\t\tthis.camera.postProcess = postProcess;\r\n\t\r\n\t\t\tlet edgeEffect: EdgeEffect = new EdgeEffect();\r\n\t\t\tpostProcess.addEffect(edgeEffect);\r\n\t\r\n\t\t\tthis.addUI(edgeEffect);\r\n\t\t});\r\n\t}\r\n\r\n    addLight(): void {\r\n\r\n        let dirLightDirections: Vector3[] = [new Vector3(-1, -1, -1), new Vector3(1, -1, -1)]\r\n        let lightColor: Color = new Color(0.6, 0.6, 0.6);\r\n        for (let index = 0; index < dirLightDirections.length; index++) {\r\n            let dir: Vector3 = dirLightDirections[index];\r\n            Vector3.normalize(dir, dirLightDirections[index]);\r\n            let dirLight: DirectionLight = new DirectionLight();\r\n            this.scene.addChild(dirLight);\r\n            dirLight.transform.worldMatrix.setForward(dirLightDirections[index]);\r\n            dirLight.color = lightColor;\r\n        }\r\n\r\n    }\r\n\r\n    addUI(edgeEffect: EdgeEffect): void {\r\n\t\tLaya.loader.load([\"resources/res/ui/hslider.png\", \"resources/image/img_btn_bg.png\", \"resources/res/ui/hslider$bar.png\", \"resources/res/ui/colorPicker.png\"]).then(()=>{\r\n            \r\n\t\t\tlet colorFunc: Function = function () {\r\n                edgeEffect.edgeMode = EdgeMode.ColorEdge;\r\n                colorSlider.visible = true;\r\n                normalSlider.visible = false;\r\n                depthSlider.visible = false;\r\n            };\r\n            let colorButton: Button = this.addButton(60, 150, 160, 30, \"color edge\", 20, colorFunc);\r\n\r\n            let colorSlider: HSlider = this.addSlider(60, 190, 300, 0.01, 1, 0.7, 0.01, function (value: number) {\r\n                edgeEffect.colorHold = value;\r\n            });\r\n\r\n            let normalFunc: Function = function () {\r\n                edgeEffect.edgeMode = EdgeMode.NormalEdge;\r\n                colorSlider.visible = false;\r\n                normalSlider.visible = true;\r\n                depthSlider.visible = false;\r\n            };\r\n            let normalButton: Button = this.addButton(60, 230, 160, 30, \"normal edge\", 20, normalFunc);\r\n\r\n            let normalSlider: HSlider = this.addSlider(60, 270, 300, 0.01, 1, 0.7, 0.01, function (value: number) {\r\n                edgeEffect.normalHold = value;\r\n            });\r\n\r\n            let depthButton: Button = this.addButton(60, 310, 160, 30, \"depth edge\", 20, function () {\r\n                edgeEffect.edgeMode = EdgeMode.DepthEdge;\r\n                colorSlider.visible = false;\r\n                normalSlider.visible = false;\r\n                depthSlider.visible = true;\r\n            });\r\n\r\n            let depthSlider: HSlider = this.addSlider(60, 350, 300, 0.01, 1, 0.7, 0.01, function (value: number) {\r\n                edgeEffect.depthHold = value;\r\n            });\r\n\r\n            let source: Button = this.addButton(60, 390, 160, 30, \"show source\", 20, function () {\r\n                edgeEffect.showSource = !edgeEffect.showSource;\r\n            });\r\n\r\n            colorFunc();\r\n\r\n        });\r\n    }\r\n\r\n    addButton(x: number, y: number, width: number, height: number, text: string, size: number, clickFunc: Function) {\r\n        let button: Button = <Button>this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", text));\r\n        button.size(width, height);\r\n        button.size(150, 40);\r\n        button.labelSize = 16;\r\n        button.sizeGrid = \"21,83,22,76\";\r\n        button.stateNum = size;\r\n        button.stateNum = 1;\r\n        button.labelColors = \"#ffffff\";\r\n        button.pos(x, y);\r\n        button.on(Event.CLICK, this, clickFunc);\r\n        return button;\r\n    }\r\n\r\n    addSlider(x: number, y: number, width: number, min: number, max: number, value: number, tick: number, changeFunc: Function) {\r\n        let slider: HSlider = <HSlider>this.owner.addChild(new HSlider(\"resources/res/ui/hslider.png\"));\r\n        slider.width = width;\r\n        slider.pos(x, y);\r\n        slider.min = min;\r\n        slider.max = max;\r\n        slider.value = value;\r\n        slider.tick = tick;\r\n        slider.changeHandler = Handler.create(this, changeFunc, [], false);\r\n\r\n        slider.visible = false;\r\n\r\n        return slider;\r\n    }\r\n\r\n}\r\n\r\nexport enum EdgeMode {\r\n    ColorEdge = 0,\r\n    NormalEdge = 1,\r\n    DepthEdge = 2\r\n}\r\n\r\nexport class EdgeEffect extends PostProcessEffect {\r\n    private _shader: Shader3D = null;\r\n    private static _isShaderInit: boolean = false;\r\n    private _shaderData: ShaderData = LayaGL.renderOBJCreate.createShaderData(null);\r\n    static DEPTHTEXTURE: number;\r\n    static DEPTHNORMALTEXTURE: number;\r\n    static DEPTHBUFFERPARAMS: number;\r\n    static EDGECOLOR: number;\r\n    static COLORHOLD: number;\r\n    static DEPTHHOLD: number;\r\n    static NORMALHOLD: number;\r\n    static SHADERDEFINE_DEPTHNORMAL: ShaderDefine;\r\n    static SHADERDEFINE_DEPTH: ShaderDefine;\r\n    static SHADERDEFINE_DEPTHEDGE: ShaderDefine;\r\n    static SHADERDEFINE_NORMALEDGE: ShaderDefine;\r\n    static SHADERDEFINE_COLOREDGE: ShaderDefine;\r\n    static SHADERDEFINE_SOURCE: ShaderDefine;\r\n    _depthBufferparam: Vector4 = new Vector4();\r\n\r\n    _edgeMode: EdgeMode = EdgeMode.NormalEdge;\r\n\r\n    static __init__() {\r\n        EdgeEffect.DEPTHTEXTURE = Shader3D.propertyNameToID(\"u_DepthTex\");\r\n        EdgeEffect.DEPTHNORMALTEXTURE = Shader3D.propertyNameToID(\"u_DepthNormalTex\");\r\n        EdgeEffect.DEPTHBUFFERPARAMS = Shader3D.propertyNameToID(\"u_DepthBufferParams\");\r\n        EdgeEffect.EDGECOLOR = Shader3D.propertyNameToID(\"u_EdgeColor\");\r\n        EdgeEffect.COLORHOLD = Shader3D.propertyNameToID(\"u_ColorHold\");\r\n        EdgeEffect.DEPTHHOLD = Shader3D.propertyNameToID(\"u_Depthhold\");\r\n        EdgeEffect.NORMALHOLD = Shader3D.propertyNameToID(\"u_NormalHold\");\r\n    }\r\n    static EdgeEffectShaderInit() {\r\n        EdgeEffect.__init__();\r\n        EdgeEffect.SHADERDEFINE_DEPTH = Shader3D.getDefineByName(\"DEPTH\");\r\n        EdgeEffect.SHADERDEFINE_DEPTHNORMAL = Shader3D.getDefineByName(\"DEPTHNORMAL\");\r\n\r\n        EdgeEffect.SHADERDEFINE_DEPTHEDGE = Shader3D.getDefineByName(\"DEPTHEDGE\");\r\n        EdgeEffect.SHADERDEFINE_NORMALEDGE = Shader3D.getDefineByName(\"NORMALEDGE\");\r\n        EdgeEffect.SHADERDEFINE_COLOREDGE = Shader3D.getDefineByName(\"COLOREDGE\");\r\n\r\n        EdgeEffect.SHADERDEFINE_SOURCE = Shader3D.getDefineByName(\"SOURCE\");\r\n        let attributeMap: any = {\r\n            'a_PositionTexcoord': [VertexMesh.MESH_POSITION0, ShaderDataType.Vector4]\r\n        };\r\n\r\n        let uniformMap: any = {\r\n            \"u_MainTex\": ShaderDataType.Texture2D,\r\n            \"u_MainTex_TexelSize\": ShaderDataType.Vector4,\r\n            \"u_DepthTex\": ShaderDataType.Texture2D,\r\n            \"u_DepthNormalTex\": ShaderDataType.Texture2D,\r\n            \"u_DepthBufferParams\": ShaderDataType.Vector4,\r\n            \"u_EdgeColor\": ShaderDataType.Color,\r\n            \"u_ColorHold\": ShaderDataType.Float,\r\n            \"u_Depthhold\": ShaderDataType.Float,\r\n            \"u_NormalHold\": ShaderDataType.Float,\r\n        };\r\n        let shader: Shader3D = Shader3D.add(\"PostProcessEdge\");\r\n        let subShader: SubShader = new SubShader(attributeMap, uniformMap);\r\n        shader.addSubShader(subShader);\r\n        let pass: ShaderPass = subShader.addShaderPass(EdgeEffectVS, EdgeEffectFS);\r\n        pass.renderState.depthWrite = false;\r\n    }\r\n    constructor() {\r\n        super();\r\n        if (!EdgeEffect._isShaderInit) {\r\n            EdgeEffect._isShaderInit = true;\r\n            EdgeEffect.EdgeEffectShaderInit();\r\n        }\r\n        this._shader = Shader3D.find(\"PostProcessEdge\");\r\n        this.edgeColor = new Vector3(0.0, 0.0, 0.0);\r\n        this.colorHold = 0.7;\r\n        this.normalHold = 0.7;\r\n        this.depthHold = 0.7;\r\n        this.edgeMode = EdgeMode.DepthEdge;\r\n        this.showSource = true;\r\n    }\r\n\r\n    get edgeColor(): Vector3 {\r\n        return this._shaderData.getVector3(EdgeEffect.EDGECOLOR);\r\n    }\r\n\r\n    set edgeColor(value: Vector3) {\r\n        this._shaderData.setVector3(EdgeEffect.EDGECOLOR, value);\r\n    }\r\n\r\n    get colorHold(): number {\r\n        return this._shaderData.getNumber(EdgeEffect.COLORHOLD);\r\n    }\r\n\r\n    set colorHold(value: number) {\r\n        this._shaderData.setNumber(EdgeEffect.COLORHOLD, value);\r\n    }\r\n\r\n    get depthHold(): number {\r\n        return this._shaderData.getNumber(EdgeEffect.DEPTHHOLD);\r\n    }\r\n\r\n    set depthHold(value: number) {\r\n        this._shaderData.setNumber(EdgeEffect.DEPTHHOLD, value)\r\n    }\r\n\r\n    get normalHold(): number {\r\n        return this._shaderData.getNumber(EdgeEffect.NORMALHOLD);\r\n    }\r\n\r\n    set normalHold(value: number) {\r\n        this._shaderData.setNumber(EdgeEffect.NORMALHOLD, value);\r\n    }\r\n\r\n    get edgeMode(): EdgeMode {\r\n        return this._edgeMode;\r\n    }\r\n\r\n    get showSource(): boolean {\r\n        return this._shaderData.hasDefine(EdgeEffect.SHADERDEFINE_SOURCE);\r\n    }\r\n\r\n    set showSource(value: boolean) {\r\n        if (value) {\r\n            this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_SOURCE);\r\n        }\r\n        else {\r\n            this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_SOURCE);\r\n        }\r\n    }\r\n\r\n    set edgeMode(value: EdgeMode) {\r\n        this._edgeMode = value;\r\n        switch (value) {\r\n            case EdgeMode.ColorEdge:\r\n                this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_COLOREDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTHEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_NORMALEDGE);\r\n                break;\r\n            case EdgeMode.NormalEdge:\r\n                this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_NORMALEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTHEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_COLOREDGE);\r\n                break;\r\n            case EdgeMode.DepthEdge:\r\n                this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_DEPTHEDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_COLOREDGE);\r\n                this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_NORMALEDGE);\r\n                break;\r\n        }\r\n    }\r\n\r\n\r\n    render(context: PostProcessRenderContext): void {\r\n        let cmd: CommandBuffer = context.command;\r\n        let viewport: Viewport = context.camera.viewport;\r\n\r\n        let camera: Camera = context.camera;\r\n        let far: number = camera.farPlane;\r\n        let near: number = camera.nearPlane;\r\n\r\n        let source: RenderTexture = context.indirectTarget;\r\n        let destination: RenderTexture = context.destination;\r\n\r\n        let width: number = viewport.width;\r\n        let height: number = viewport.height;\r\n\r\n        let renderTexture: RenderTexture = RenderTexture.createFromPool(width, height, RenderTargetFormat.R8G8B8A8, RenderTargetFormat.DEPTH_16, false, 1);\r\n        renderTexture.filterMode = FilterMode.Bilinear;\r\n\r\n        if (camera.depthTextureMode == DepthTextureMode.Depth) {\r\n            this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_DEPTH);\r\n            this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTHNORMAL);\r\n            this._shaderData.setTexture(EdgeEffect.DEPTHTEXTURE, camera.depthTexture);\r\n        }\r\n        else if (camera.depthTextureMode == DepthTextureMode.DepthNormals) {\r\n            this._shaderData.addDefine(EdgeEffect.SHADERDEFINE_DEPTHNORMAL);\r\n            this._shaderData.removeDefine(EdgeEffect.SHADERDEFINE_DEPTH);\r\n            this._shaderData.setTexture(EdgeEffect.DEPTHNORMALTEXTURE, camera.depthNormalTexture);\r\n        }\r\n\r\n        this._depthBufferparam.setValue(1.0 - far / near, far / near, (near - far) / (near * far), 1 / near);\r\n        this._shaderData.setVector(EdgeEffect.DEPTHBUFFERPARAMS, this._depthBufferparam);\r\n\r\n        cmd.blitScreenTriangle(source, context.destination, null, this._shader, this._shaderData, 0);\r\n\r\n        //context.source = renderTexture;\r\n        context.deferredReleaseTextures.push(renderTexture);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('a9f82f8b-3ad9-4e61-9728-ecb2a33b85b4', '../src/3D/Script/ScriptDemo.ts')\r\nexport class ScriptDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u6DFB\u52A0\u81EA\u5B9A\u4E49\u6A21\u578B\r\n\t\tvar box = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1), \"MOs\")) as Laya.MeshSprite3D;\r\n\t\t//\u8BBE\u7F6E\u6A21\u578B\u7684\u65CB\u8F6C\r\n\t\tbox.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);\r\n\t\t//\u521B\u5EFA\u6750\u8D28\r\n\t\tvar material = new Laya.BlinnPhongMaterial();\r\n\t\tbox.meshRenderer.material = material;\r\n\t\t//\u52A0\u8F7D\u6A21\u578B\u7684\u6750\u8D28\u8D34\u56FE\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/layabox.png\").then((text)=> {\r\n\t\t\t\r\n\t\t\t//\u7ED9box\u6DFB\u52A0\u81EA\u5B9A\u4E49\u811A\u672C\u7EC4\u4EF6\r\n\t\t\tbox.addComponent(BoxControlScript);\r\n\t\t\t\r\n\t\t\t//\u7ED9\u6A21\u578B\u6DFB\u52A0\u6750\u8D28\r\n\t\t\tmaterial.albedoTexture = text;\r\n\r\n\t\t});\r\n        \t//4\u79D2\u540E\u5220\u9664\u81EA\u5B9A\u4E49\u7EC4\u4EF6\r\n\t\tLaya.timer.once(4000, this, this.onLoop, [box]);\r\n\t}\r\n\r\n\tprivate onLoop(box:Laya.MeshSprite3D):void {\r\n\t\tconsole.log(\"\u79FB\u9664\u7EC4\u4EF6\");\r\n\t\t// \u83B7\u53D6\u5230\u7EC4\u4EF6\r\n\t\tvar boxContro = box.getComponent(BoxControlScript);\r\n\t\t// \u79FB\u9664\u7EC4\u4EF6\r\n\t\tboxContro.destroy();\r\n\t\t//\u5982\u4E0D\u60F3\u79FB\u9664\u7EC4\u4EF6\uFF0C\u53EF\u8BBE\u7F6E\u4E3A\u4E0D\u542F\u7528\u80FD\u8FBE\u5230\u540C\u6837\u6548\u679C\uFF08\u7EC4\u4EF6_update\u65B9\u6CD5\u5C06\u4E0D\u4F1A\u88AB\u66F4\u65B0\uFF09\r\n\t\t//boxContro.enabled = false;\r\n\t}\r\n}\r\n\r\nclass BoxControlScript extends Laya.Script3D {\r\n\r\n\tprivate box:Laya.MeshSprite3D;\r\n\tprivate _rotation = new Laya.Vector3(0, 0.5, 0);\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\t\r\n\t/**\r\n\t * \u8986\u51993D\u5BF9\u8C61\u7EC4\u4EF6\u88AB\u6FC0\u6D3B\u540E\u6267\u884C\uFF0C\u6B64\u65F6\u6240\u6709\u8282\u70B9\u548C\u7EC4\u4EF6\u5747\u5DF2\u521B\u5EFA\u5B8C\u6BD5\uFF0C\u6B64\u65B9\u6CD5\u53EA\u6267\u884C\u4E00\u6B21\r\n\t */\r\n\tpublic onAwake():void {\r\n\t\t//\u5F97\u52303D\u5BF9\u8C61\r\n\t\tthis.box = this.owner as  Laya.MeshSprite3D;\r\n\t}\r\n\t\r\n\tpublic onStart():void {\r\n\t}\r\n\t\r\n\t/**\r\n\t * \u8986\u5199\u7EC4\u4EF6\u66F4\u65B0\u65B9\u6CD5\uFF08\u76F8\u5F53\u4E8E\u5E27\u5FAA\u73AF\uFF09\r\n\t */\r\n\tpublic onUpdate():void {\r\n\t\t//\u6240\u5C5E\u811A\u672C\u5BF9\u8C61\u65CB\u8F6C\u66F4\u65B0\r\n\t\tthis.box.transform.rotate(this._rotation, false, false)\r\n\t}\r\n\t\r\n\tpublic onDisable() {\r\n\t\tconsole.log(\"\u7EC4\u4EF6\u8BBE\u7F6E\u4E3A\u4E0D\u53EF\u7528\");\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n// import { GlowingEdgeMaterial } from \"./customMaterials/GlowingEdgeMaterial\";\r\n// import GlowingEdgeShaderFS from \"./customShader/glowingEdgeShader.fs\";\r\n// import GlowingEdgeShaderVS from \"./customShader/glowingEdgeShader.vs\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Material = Laya.Material;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport BaseTexture = Laya.BaseTexture;\r\nimport Shader3D = Laya.Shader3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('e882ec65-5502-4ad4-ac29-9d77e3d022b7', '../src/3D/Shader/Shader_GlowingEdge.ts')\r\nexport class Shader_GlowingEdge extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\r\n    constructor() {\r\n        super();        \r\n    }\r\n\t\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\t\t//\u521D\u59CB\u5316shader\r\n\t\tthis.initShader();\r\n\r\n\t\tvar resource:any[] = [\r\n            \"resources/res/threeDimen/skinModel/dude/dude.lh\",\r\n            \"resources/res/threeDimen/skinModel/dude/Assets/dude/head.png\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/dude/Assets/dude/jacket.png\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/dude/Assets/dude/pants.png\",\r\n\t\t\t\"resources/res/threeDimen/skinModel/dude/Assets/dude/upBodyC.png\",\r\n\t\t\t\"resources/res/threeDimen/texture/earth.png\"\r\n        ];\r\n\r\n        Laya.loader.load(resource).then( (res:any[] )=>{\r\n\t\t\t//\u521D\u59CB\u5316\u8D44\u6E90\r\n            this.onComplete(res);\r\n        });\r\n\r\n\t}\r\n\r\n\tonComplete(res:any[]):void{\t\t\r\n\t\t//\u521B\u5EFA\u573A\u666F\r\n\t\tvar scene: Scene3D = this.scene;\r\n\r\n\t\t//\u521B\u5EFA\u76F8\u673A\r\n\t\tvar camera: Camera = this.camera;\r\n\t\tcamera.transform.position = (new Vector3(0, 1, 1));\r\n\t\tcamera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\t\t\r\n\t\t//\u521B\u5EFA\u5E73\u884C\u5149\r\n\t\tvar directionLight: DirectionLight = new DirectionLight();\r\n\t\tscene.addChild(directionLight);\r\n\t\tdirectionLight.color = new Laya.Color(1, 1, 1, 1);\r\n\t\tscene.ambientColor = new Laya.Color(1.0, 0.0, 0.0);\r\n\t\t//\u52A0\u8F7D\u7CBE\u7075\r\n\t\tlet dude = scene.addChild(res[0].create());\r\n\t\tdude.active = false;\r\n\t\tLaya.timer.once(500, this, ()=> {\r\n\t\t\tdude.active = true;\r\n\t\t});\r\n\r\n\t\t//\u4F7F\u7528\u81EA\u5B9A\u4E49\u7684\u6750\u8D28\r\n\t\tvar glowingEdgeMaterial1: GlowingEdgeMaterial = new GlowingEdgeMaterial();\r\n\t\t//\u52A0\u8F7D\u7EB9\u7406\r\n\t\tglowingEdgeMaterial1.diffuseTexture = res[1];\r\n\t\t//\u8BBE\u7F6E\u8FB9\u7F18\u989C\u8272\r\n\t\tglowingEdgeMaterial1.marginalColor = new Vector3(1, 0.7, 0);\r\n\r\n\t\tvar glowingEdgeMaterial2: GlowingEdgeMaterial = new GlowingEdgeMaterial();\r\n\t\tglowingEdgeMaterial2.diffuseTexture = res[2];\r\n\t\tglowingEdgeMaterial2.marginalColor = new Vector3(1, 0.7, 0);\r\n\r\n\t\tvar glowingEdgeMaterial3: GlowingEdgeMaterial = new GlowingEdgeMaterial();\r\n\t\tglowingEdgeMaterial3.diffuseTexture = res[3];\r\n\t\tglowingEdgeMaterial3.marginalColor = new Vector3(1, 0.7, 0);\r\n\r\n\t\tvar glowingEdgeMaterial4: GlowingEdgeMaterial = new GlowingEdgeMaterial();\r\n\t\tglowingEdgeMaterial4.diffuseTexture = res[4];\r\n\t\tglowingEdgeMaterial4.marginalColor = new Vector3(1, 0.7, 0);\r\n\r\n\t\tvar baseMaterials: Material[] = [];\r\n\t\tbaseMaterials[0] = glowingEdgeMaterial1;\r\n\t\tbaseMaterials[1] = glowingEdgeMaterial2;\r\n\t\tbaseMaterials[2] = glowingEdgeMaterial3;\r\n\t\tbaseMaterials[3] = glowingEdgeMaterial4;\r\n\r\n\t\t(<Laya.SkinnedMeshSprite3D>dude.getChildAt(0).getChildAt(0)).skinnedMeshRenderer.sharedMaterials = baseMaterials;\r\n\t\tdude.transform.position = new Vector3(0, 0.5, 0);\r\n\t\tdude.transform.setWorldLossyScale(new Vector3(0.2, 0.2, 0.2));\r\n\t\tdude.transform.rotate(new Vector3(0, 180, 0), false, false);\r\n\r\n\t\t//\u52A0\u8F7D\u5730\u7403\u7CBE\u7075\r\n\t\tvar earth: MeshSprite3D = (<MeshSprite3D>scene.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.5, 128, 128))));\r\n\r\n\t\tvar glowingEdgeMaterial: GlowingEdgeMaterial = new GlowingEdgeMaterial();\r\n\t\t\t\r\n\t\tglowingEdgeMaterial.diffuseTexture = res[5];\r\n\t\tearth.meshRenderer.sharedMaterial = glowingEdgeMaterial;\t\r\n\t\tglowingEdgeMaterial.marginalColor = new Vector3(0.0, 0.3, 1.0);\t\t\r\n\r\n\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\tearth.transform.rotate(this.rotation, true);\r\n\t\t});\r\n\t}\r\n    //\u521D\u59CB\u5316shader\r\n\tprivate initShader(): void {\r\n\t\t//\u521B\u5EFA\u81EA\u5B9A\u4E49shader\r\n\t\tvar glowingEdgeShader: Laya.Shader3D = Laya.Shader3D.add(\"GlowingEdgeMaterial\", true, true);\r\n\t\t//\u4E3A\u5F53\u524D\u81EA\u5B9A\u4E49\u7684shader\u6DFB\u52A0SubShader\r\n\t\tvar subShader: Laya.SubShader = new Laya.SubShader();\r\n\t\tglowingEdgeShader.addSubShader(subShader);\r\n\t\t//SubShader\u6DFB\u52A0ShaderPass\r\n\r\n\t\tlet GlowingEdgeShaderVS = \r\n\t\t'#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n'+\r\n\t\t'precision highp float;\\r\\n'+\r\n\t\t'precision highp int;\\r\\n'+\r\n\t\t'#else\\r\\n'+\r\n\t\t\t'precision mediump float;\\r\\n'+\r\n\t\t\t'precision mediump int;\\r\\n'+\r\n\t\t'#endif\\r\\n'+\r\n\t\t\r\n\t\t'#define SHADER_NAME EDGE_VS\\r\\n'+\r\n\t\t\r\n\t\t'#include \"VertexCommon.glsl\";\\r\\n'+\r\n\t\t'#include \"Scene.glsl\";\\r\\n'+\r\n\t\t'#include \"Camera.glsl\";\\r\\n'+\r\n\t\t'#include \"Sprite3DVertex.glsl\";\\r\\n'+\r\n\t\t'varying vec2 v_Texcoord;\\r\\n'+\r\n\t\t'varying vec3 v_Normal;\\r\\n'+\r\n\t\t'varying vec3 v_PositionWorld;\\r\\n'+\r\n\t\t\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'Vertex vertex;\\r\\n'+\r\n\t\t\t'getVertexParams(vertex);\\r\\n'+\r\n\t\t\t'v_Texcoord = vertex.texCoord0;\\r\\n'+\r\n\t\t\t'mat4 worldMat = getWorldMatrix();\\r\\n'+\r\n\t\t\t'vec3 positionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\\r\\n'+\r\n\t\t\t'v_PositionWorld = positionWS;\\r\\n'+\r\n\t\t\t'v_Normal = normalize((worldMat * vec4(vertex.normalOS, 0.0))).xyz;\\r\\n'+\r\n\t\t\t'gl_Position = getPositionCS(positionWS);\\r\\n'+\r\n\t\t\t'gl_Position=remapPositionZ(gl_Position);\\r\\n'+\r\n\t\t'}\\r\\n';\r\n\r\n\t\t//\u00A0\u539F\u6765\u7684\u5199\u6CD5\u4F1A\u88AB\u6211\u4EEC\u81EA\u5DF1\u7684\u89E3\u6790\u6D41\u7A0B\u5904\u7406\uFF0C\u800C\u6211\u4EEC\u7684\u89E3\u6790\u662F\u4E0D\u8BA4\u5185\u7F6E\u5B8F\u7684\uFF0C\u5BFC\u81F4\u88AB\u5220\u6389\uFF0C\u6240\u4EE5\u6539\u6210\u00A0if\u00A0defined\u00A0\u4E86\r\n\t\tlet GlowingEdgeShaderFS = \r\n\t\t'#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n'+\r\n\t\t'precision highp float;\\r\\n'+\r\n\t\t'precision highp int;\\r\\n'+\r\n\t\t'#else\\r\\n'+\r\n\t\t\t'precision mediump float;\\r\\n'+\r\n\t\t\t'precision mediump int;\\r\\n'+\r\n\t\t'#endif\\r\\n'+\r\n\t\t'#define SHADER_NAME EDGE_FS\\r\\n'+\r\n\t\t\r\n\t\t'#include \"Lighting.glsl\";\\r\\n'+\r\n\t\t'#include \"Camera.glsl\";\\r\\n'+\r\n\t\t\r\n\t\t'#include \"Scene.glsl\";\\r\\n'+\r\n\t\t'#include \"globalIllumination.glsl\";\\r\\n'+\r\n\t\t\r\n\t\t'varying vec2 v_Texcoord;\\r\\n'+\r\n\t\t'uniform sampler2D u_texture;\\r\\n'+\r\n\t\t'uniform vec3 u_marginalColor;\\r\\n'+\r\n\t\t\r\n\t\t'varying vec3 v_Normal;\\r\\n'+\r\n\t\t'varying vec3 v_PositionWorld;\\r\\n'+\r\n\t\t\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'gl_FragColor=texture2D(u_texture, v_Texcoord);\\r\\n'+\r\n\t\t\t'vec3 ambientCol = diffuseIrradiance(v_Normal);\\r\\n'+\r\n\t\t\t'vec3 normal=normalize(v_Normal);\\r\\n'+\r\n\t\t\t'vec3 toEyeDir = normalize(getViewDirection(v_PositionWorld));\\r\\n'+\r\n\t\t\t'float Rim = 1.0 - max(0.0,dot(toEyeDir, normal));\\r\\n'+\r\n\t\t\t'vec3 lightColor = ambientCol;\\r\\n'+\r\n\t\t\t'vec3 Emissive = 2.0 * lightColor * u_marginalColor * pow(Rim,3.0);\\r\\n'+  \r\n\t\t\t\r\n\t\t\t'gl_FragColor = texture2D(u_texture, v_Texcoord) + vec4(Emissive,1.0);\\r\\n'+\r\n\t\t'}\\r\\n';\r\n\r\n\t\t(<Laya.ShaderPass>subShader.addShaderPass(GlowingEdgeShaderVS, GlowingEdgeShaderFS));\r\n\t}\r\n}\r\n\r\nclass GlowingEdgeMaterial extends Material {\r\n    public static DIFFUSETEXTURE: number;\r\n    public static MARGINALCOLOR: number;\r\n    public isInit:boolean = false;\r\n    __init__() {\r\n        GlowingEdgeMaterial.DIFFUSETEXTURE = Shader3D.propertyNameToID(\"u_texture\");\r\n        GlowingEdgeMaterial.MARGINALCOLOR = Shader3D.propertyNameToID(\"u_marginalColor\");\r\n    }\r\n    constructor() {\r\n        super();\r\n        if(!this.isInit){\r\n            this.__init__();\r\n            this.isInit = true;\r\n        }\r\n        this.setShaderName(\"GlowingEdgeMaterial\");\r\n    }\r\n    /**\r\n     * \u83B7\u53D6\u6F2B\u53CD\u5C04\u8D34\u56FE\u3002\r\n     *  \u6F2B\u53CD\u5C04\u8D34\u56FE\u3002\r\n     */\r\n    public get diffuseTexture(): BaseTexture {\r\n        return this.getTextureByIndex(GlowingEdgeMaterial.DIFFUSETEXTURE);\r\n    }\r\n\r\n    /**\r\n     * \u8BBE\u7F6E\u6F2B\u53CD\u5C04\u8D34\u56FE\u3002\r\n     * \u6F2B\u53CD\u5C04\u8D34\u56FE\u3002\r\n     */\r\n    public set diffuseTexture(value: BaseTexture) {\r\n        this.setTextureByIndex(GlowingEdgeMaterial.DIFFUSETEXTURE, value);\r\n    }\r\n\r\n    /**\r\n     * \u8BBE\u7F6E\u8FB9\u7F18\u5149\u7167\u989C\u8272\u3002\r\n     * \u8FB9\u7F18\u5149\u7167\u989C\u8272\u3002\r\n     */\r\n    public set marginalColor(value: Vector3) {\r\n        this.setVector3ByIndex(GlowingEdgeMaterial.MARGINALCOLOR, value);\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n// import { MultiplePassOutlineMaterial } from \"./customMaterials/MultiplePassOutlineMaterial\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Material = Laya.Material;\r\nimport BaseTexture = Laya.BaseTexture;\r\nimport ShaderDefine = Laya.ShaderDefine;\r\nimport Shader3D = Laya.Shader3D;\r\nimport Color = Laya.Color;\r\nimport ShaderDataType = Laya.ShaderDataType;\r\nimport SubShader = Laya.SubShader;\r\nimport ShaderPass = Laya.ShaderPass;\r\nimport RenderState = Laya.RenderState;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('26062f24-2085-4285-a5ab-14930e991ee7', '../src/3D/Shader/Shader_MultiplePassOutline.ts')\r\nexport class Shader_MultiplePassOutline extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\r\n    constructor() {\r\n        super();        \r\n    }\r\n\r\n    onAwake(): void {\r\n        super.base(this.camera);\r\n\t\t//\u521D\u59CB\u5316Shader\r\n\t\tMultiplePassOutlineMaterial.initShader();\r\n\t\t//\u521B\u5EFA\u573A\u666F\r\n\t\tvar scene: Scene3D = this.scene;\r\n\t\t//\u521B\u5EFA\u76F8\u673A\r\n\t\tvar camera: Camera = this.camera;\r\n\t\tcamera.transform.position = (new Vector3(0, 1, 1.5));\r\n\t\tcamera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t\r\n\t\tthis.directionLight.getComponent(Laya.DirectionLightCom).color = new Laya.Color(1, 1, 1, 1);\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\").then((mesh: any)=> {\r\n\t\t\tvar layaMonkey: MeshSprite3D = (<MeshSprite3D>scene.addChild(new MeshSprite3D(mesh)));\r\n\t\t\tlayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\t\tlayaMonkey.transform.rotation = new Laya.Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\t\t\tvar customMaterial: MultiplePassOutlineMaterial = new MultiplePassOutlineMaterial();\r\n\t\t\tlayaMonkey.meshRenderer.sharedMaterial = customMaterial;\r\n\t\t\t//\u6F2B\u53CD\u5C04\u8D34\u56FE\r\n\t\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/diffuse.png\").then((res: any)=> {\r\n\t\t\t\tcustomMaterial.albedoTexture = res;\r\n\t\t\t});\t\t\t\r\n\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\t\tlayaMonkey.transform.rotate(this.rotation,false);\r\n\t\t\t});\r\n\t\t});\r\n\t}  \r\n}\r\n\r\nexport class MultiplePassOutlineMaterial extends Material {\r\n\tstatic ALBEDOTEXTURE: number;\r\n\tstatic OUTLINECOLOR: number;\r\n\tstatic OUTLINEWIDTH: number;\r\n\tstatic OUTLINELIGHTNESS: number;\r\n\r\n\tstatic SHADERDEFINE_ALBEDOTEXTURE: ShaderDefine;\r\n\r\n\t/**\r\n\t * @private\r\n\t */\r\n\tstatic __init__(): void {\r\n\t\tMultiplePassOutlineMaterial.ALBEDOTEXTURE = Shader3D.propertyNameToID(\"u_AlbedoTexture\");\r\n\t\tMultiplePassOutlineMaterial.OUTLINECOLOR = Shader3D.propertyNameToID(\"u_OutlineColor\");\r\n\t\tMultiplePassOutlineMaterial.OUTLINEWIDTH = Shader3D.propertyNameToID(\"u_OutlineWidth\");\r\n\t\tMultiplePassOutlineMaterial.OUTLINELIGHTNESS = Shader3D.propertyNameToID(\"u_OutlineLightness\");\r\n\t}\r\n\t/**\r\n\t * \u6F2B\u53CD\u5C04\u8D34\u56FE\u3002\r\n\t */\r\n\tget albedoTexture(): BaseTexture {\r\n\t\treturn this.getTextureByIndex(MultiplePassOutlineMaterial.ALBEDOTEXTURE);\r\n\t}\r\n\r\n\tset albedoTexture(value: BaseTexture) {\r\n\t\tthis.setTextureByIndex(MultiplePassOutlineMaterial.ALBEDOTEXTURE, value);\r\n\t}\r\n\t/**\r\n\t * \u7EBF\u6761\u989C\u8272\r\n\t */\r\n\tget outlineColor(): Color {\r\n\t\treturn this.getColorByIndex(MultiplePassOutlineMaterial.OUTLINECOLOR);\r\n\t}\r\n\r\n\tset outlineColor(value: Color) {\r\n\t\tthis.setColorByIndex(MultiplePassOutlineMaterial.OUTLINECOLOR, value);\r\n\t}\r\n\t/**\r\n\t * \u83B7\u53D6\u8F6E\u5ED3\u5BBD\u5EA6,\u8303\u56F4\u4E3A0\u52300.05\u3002\r\n\t */\r\n\tget outlineWidth(): number {\r\n\t\treturn this.getFloatByIndex(MultiplePassOutlineMaterial.OUTLINEWIDTH);\r\n\t}\r\n\r\n\tset outlineWidth(value: number) {\r\n\t\tvalue = Math.max(0.0, Math.min(0.05, value));\r\n\t\tthis.setFloatByIndex(MultiplePassOutlineMaterial.OUTLINEWIDTH, value);\r\n\t}\r\n\r\n\t/**\r\n\t * \u8F6E\u5ED3\u4EAE\u5EA6,\u8303\u56F4\u4E3A0\u52301\u3002\r\n\t */\r\n\tget outlineLightness(): number {\r\n\t\treturn this.getFloatByIndex(MultiplePassOutlineMaterial.OUTLINELIGHTNESS);\r\n\t}\r\n\r\n\tset outlineLightness(value: number) {\r\n\t\tvalue = Math.max(0.0, Math.min(1.0, value));\r\n\t\tthis.setFloatByIndex(MultiplePassOutlineMaterial.OUTLINELIGHTNESS, value);\r\n\t}\r\n\r\n\r\n\tstatic initShader(): void {\r\n\t\tMultiplePassOutlineMaterial.__init__();\r\n\r\n\t\tvar uniformMap: any = {\r\n\t\t\t'u_OutlineLightness': ShaderDataType.Float,\r\n\t\t\t'u_OutlineColor': ShaderDataType.Color,\r\n\t\t\t'u_AlbedoTexture': ShaderDataType.Texture2D,\r\n\t\t\t'u_OutlineWidth': ShaderDataType.Float\r\n\r\n\t\t};\r\n\t\tvar customShader: Shader3D = Shader3D.add(\"MultiplePassOutlineShader\");\r\n\t\tvar subShader: SubShader = new SubShader(SubShader.DefaultAttributeMap, uniformMap);\r\n\t\tcustomShader.addSubShader(subShader);\r\n\r\n\t\tlet OutlineVS = \r\n\t\t'#include \"Sprite3DVertex.glsl\";\\r\\n'+\r\n\t\t'#include \"VertexCommon.glsl\";\\r\\n'+\r\n\t\t'#include \"Camera.glsl\";\\r\\n'+\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'Vertex vertex;\\r\\n'+\r\n\t\t\t'getVertexParams(vertex);\\r\\n'+\r\n\t\t\t'vec4 position = vec4((vertex.positionOS) + (vertex.normalOS) * u_OutlineWidth, 1.0);\\r\\n'+\r\n\t\t\r\n\t\t\t'mat4 worldMat = getWorldMatrix();\\r\\n'+\r\n\t\t\t'vec3 positionWS = (worldMat * vec4(position)).xyz;\\r\\n'+\r\n\t\t\t'gl_Position = getPositionCS(positionWS);\\r\\n'+\r\n\t\t\t'gl_Position = remapPositionZ(gl_Position);\\r\\n'+\r\n\t\t'} \\r\\n';\t\t\r\n\r\n\r\n\t\t//\u00A0\u539F\u6765\u7684\u5199\u6CD5\u4F1A\u88AB\u6211\u4EEC\u81EA\u5DF1\u7684\u89E3\u6790\u6D41\u7A0B\u5904\u7406\uFF0C\u800C\u6211\u4EEC\u7684\u89E3\u6790\u662F\u4E0D\u8BA4\u5185\u7F6E\u5B8F\u7684\uFF0C\u5BFC\u81F4\u88AB\u5220\u6389\uFF0C\u6240\u4EE5\u6539\u6210\u00A0if\u00A0defined\u00A0\u4E86\r\n\t\tlet OutlineFS = \r\n\t\t'#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n'+ \r\n\t\t\t'precision highp float;\\r\\n'+ \r\n\t\t'#else \\r\\n'+ \r\n\t\t\t'precision mediump float;\\r\\n'+ \r\n\t\t'#endif \\r\\n'+ \r\n\r\n\t\t'void main() \\r\\n'+ \r\n\t\t'{ \\r\\n'+ \r\n\t\t\t'vec3 finalColor = u_OutlineColor.rgb * u_OutlineLightness;\\r\\n'+ \r\n\t\t\t'gl_FragColor = vec4(finalColor,0.0);\\r\\n'+ \r\n\t\t'}\\r\\n';\r\n\r\n\t\tvar pass1: ShaderPass = subShader.addShaderPass(OutlineVS, OutlineFS);\r\n\t\tpass1.statefirst = true;\r\n\t\tpass1.renderState.cull = RenderState.CULL_FRONT;\r\n\r\n\t\tlet Outline02VS = \r\n\t\t'#include \"Camera.glsl\";\\r\\n'+\r\n\t\t'#include \"Sprite3DVertex.glsl\";\\r\\n'+\r\n\t\t'#include \"VertexCommon.glsl\";\\r\\n'+\r\n\t\t\r\n\t\t'varying vec3 v_Normal;\\r\\n'+ \r\n\t\t'varying vec2 v_Texcoord0;\\r\\n'+ \r\n\t\t\r\n\t\t'void main() \\r\\n'+\r\n\t\t'{ \\r\\n'+\r\n\t\t\r\n\t\t\t'Vertex vertex;\\r\\n'+\r\n\t\t\t'getVertexParams(vertex);\\r\\n'+\r\n\t\t\t'mat4 worldMat = getWorldMatrix();\\r\\n'+\r\n\t\t\t'vec3 positionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\\r\\n'+\r\n\t\t\r\n\t\t\t'gl_Position = getPositionCS(positionWS);\\r\\n'+\r\n\t\t\r\n\t\t\t'v_Normal = normalize((worldMat * vec4(vertex.normalOS, 0.0)).xyz);\\r\\n'+\r\n\t\t\t'v_Texcoord0 = vertex.texCoord0;\\r\\n'+ \r\n\t\t\t'gl_Position=remapPositionZ(gl_Position);\\r\\n'+ \r\n\t\t'}\\r\\n';\t\r\n\r\n\r\n\t\t//\u00A0\u539F\u6765\u7684\u5199\u6CD5\u4F1A\u88AB\u6211\u4EEC\u81EA\u5DF1\u7684\u89E3\u6790\u6D41\u7A0B\u5904\u7406\uFF0C\u800C\u6211\u4EEC\u7684\u89E3\u6790\u662F\u4E0D\u8BA4\u5185\u7F6E\u5B8F\u7684\uFF0C\u5BFC\u81F4\u88AB\u5220\u6389\uFF0C\u6240\u4EE5\u6539\u6210\u00A0if\u00A0defined\u00A0\u4E86\r\n\t\tlet Outline02FS = \r\n\t\t'#if defined(GL_FRAGMENT_PRECISION_HIGH)\\r\\n'+\r\n\t\t\t'precision highp float;\\r\\n'+\r\n\t\t'#else\\r\\n'+\r\n\t\t\t'precision mediump float;\\r\\n'+\r\n\t\t'#endif\\r\\n'+\r\n\t\t'varying vec2 v_Texcoord0;\\r\\n'+\r\n\t\t'varying vec3 v_Normal;\\r\\n'+\r\n\t\t\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'vec4 albedoTextureColor = vec4(1.0);\\r\\n'+\r\n\t\t\t\r\n\t\t\t'albedoTextureColor = texture2D(u_AlbedoTexture, v_Texcoord0);\\r\\n'+\r\n\t\t\t'gl_FragColor = albedoTextureColor;\\r\\n'+\r\n\t\t'}\\r\\n';\t\r\n\t\tvar pass2: ShaderPass = subShader.addShaderPass(Outline02VS, Outline02FS);\r\n\t}\r\n\t\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.setShaderName(\"MultiplePassOutlineShader\");\r\n\t\tthis.setFloatByIndex(MultiplePassOutlineMaterial.OUTLINEWIDTH, 0.01581197);\r\n\t\tthis.setFloatByIndex(MultiplePassOutlineMaterial.OUTLINELIGHTNESS, 1);\r\n\t\tthis.setColorByIndex(MultiplePassOutlineMaterial.OUTLINECOLOR, new Color(1.0, 1.0, 1.0, 0.0));\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n//import SimpleShaderVS from \"./customShader/simpleShader.vs\";\r\n//import SimpleShaderFS from \"./customShader/simpleShader.fs\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Mesh = Laya.Mesh;\r\nimport Quaternion = Laya.Quaternion;\r\nimport SubShader = Laya.SubShader;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport Shader3D = Laya.Shader3D;\r\nimport Material = Laya.Material;\r\nimport MaterialRenderMode = Laya.MaterialRenderMode;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6a5477d4-4ac4-4f25-bb34-c85456fbe961', '../src/3D/Shader/Shader_Simple.ts')\r\nexport class Shader_Simple extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private rotation: Vector3 = new Vector3(0, 0.01, 0);\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = (new Vector3(0, 0.5, 1.5));\r\n\r\n\t\tthis.initShader();\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/Assets/LayaMonkey/LayaMonkey-LayaMonkey.lm\").then((mesh: Mesh)=> {\r\n\t\t\tvar layaMonkey: MeshSprite3D = (<MeshSprite3D>this.scene.addChild(new MeshSprite3D(mesh)));\r\n\t\t\tlayaMonkey.transform.localScale = new Vector3(0.3, 0.3, 0.3);\r\n\t\t\tlayaMonkey.transform.rotation = new Quaternion(0.7071068, 0, 0, -0.7071067);\r\n\r\n\t\t\tvar customMaterial: CustomMaterial = new CustomMaterial();\r\n\t\t\tlayaMonkey.getComponent(MeshRenderer).sharedMaterial = customMaterial;\r\n\r\n\t\t\tLaya.timer.frameLoop(1, this, ()=> {\r\n\t\t\t\tlayaMonkey.transform.rotate(this.rotation, false);\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\tprivate initShader(): void {\r\n\t\tvar customShader: Shader3D = Shader3D.add(\"CustomShader\");\r\n\t\tvar subShader: SubShader = new SubShader();\r\n\t\tcustomShader.addSubShader(subShader);\r\n\t\t\r\n\t\tlet SimpleShaderVS = \r\n\t\t'#include \"Camera.glsl\";\\r\\n'+\r\n\t\t'#include \"Sprite3DVertex.glsl\";\\r\\n'+\r\n\t\t'#include \"VertexCommon.glsl\";\\r\\n'+\t\t\r\n\t\t'varying vec3 v_Normal;\\r\\n'+\t\t\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'Vertex vertex;\\r\\n'+\r\n\t\t\t'getVertexParams(vertex);\\r\\n'+\r\n\t\t\t'mat4 worldMat = getWorldMatrix();\\r\\n'+\r\n\t\t\t'vec3 positionWS = (worldMat * vec4(vertex.positionOS, 1.0)).xyz;\\r\\n'+\t\t\r\n\t\t\t'gl_Position = getPositionCS(positionWS);\\r\\n'+\t\t\t  \r\n\t\t\t'vec3 normalWS = normalize((worldMat * vec4(vertex.normalOS, 0.0)).xyz);\\r\\n'+\r\n\t\t\t'v_Normal = normalWS;\\r\\n'+\r\n\t\t\t'gl_Position=remapPositionZ(gl_Position);\\r\\n'+\r\n\t\t'}\\r\\n';\r\n\r\n\t\t//\u00A0\u539F\u6765\u7684\u5199\u6CD5\u4F1A\u88AB\u6211\u4EEC\u81EA\u5DF1\u7684\u89E3\u6790\u6D41\u7A0B\u5904\u7406\uFF0C\u800C\u6211\u4EEC\u7684\u89E3\u6790\u662F\u4E0D\u8BA4\u5185\u7F6E\u5B8F\u7684\uFF0C\u5BFC\u81F4\u88AB\u5220\u6389\uFF0C\u6240\u4EE5\u6539\u6210\u00A0if\u00A0defined\u00A0\u4E86\r\n\t\tlet SimpleShaderFS = \r\n\t\t'#if defined(GL_FRAGMENT_PRECISION_HIGH) \\r\\n'+\r\n\t\t\t'precision highp float;\\r\\n'+\r\n\t\t'#else\\r\\n '+\r\n\t\t\t'precision mediump float;\\r\\n'+\r\n\t\t'#endif \\r\\n'+\t\t\r\n\t\t'varying vec3 v_Normal;\\r\\n'+\t\t\r\n\t\t'void main()\\r\\n'+\r\n\t\t'{\\r\\n'+\r\n\t\t\t'gl_FragColor=vec4(v_Normal, 1.0);\\r\\n'+\r\n\t\t'}\\r\\n';\r\n\r\n\t\tsubShader.addShaderPass(SimpleShaderVS, SimpleShaderFS);\r\n\t}\r\n}\r\n\r\nclass CustomMaterial extends Material {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tthis.setShaderName(\"CustomShader\");\r\n\t\tthis.materialRenderMode = MaterialRenderMode.RENDERMODE_OPAQUE;\r\n\t}\r\n}\r\n\r\n", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport AmbientMode = Laya.AmbientMode;\r\nimport SkyBoxMaterial = Laya.SkyBoxMaterial;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport SkyBox = Laya.SkyBox;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('d610a4a9-c75b-463a-a39a-848d8fa1ff89', '../src/3D/Scene3D/EnvironmentalReflection.ts')\r\nexport class EnvironmentalReflection extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate teapot: MeshSprite3D = null;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u8BBE\u7F6E\u573A\u666F\u7684\u53CD\u5C04\u6A21\u5F0F(\u5168\u5C40\u6709\u6548)\r\n\t\tthis.scene.ambientMode = AmbientMode.SphericalHarmonics;\r\n\t\tthis.scene.reflectionIntensity = 1;\r\n\r\n\t\t//\u521D\u59CB\u5316\u7167\u76F8\u673A\r\n\t\tthis.camera.transform.translate(new Vector3(0, 2, 3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u6E05\u9664\u6807\u8BC6\u4E3A\u5929\u7A7A\u76D2\r\n\t\tthis.camera.clearFlag = CameraClearFlags.Sky;\r\n\r\n\t\t//\u5929\u7A7A\u76D2\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skyBox/DawnDusk/Skybox.lmat\").then((res: SkyBoxMaterial)=> {\r\n\t\t\t//\u83B7\u53D6\u76F8\u673A\u7684\u5929\u7A7A\u76D2\u6E32\u67D3\u4F53\r\n\t\t\tvar skyRenderer: SkyRenderer = this.scene.skyRenderer;\r\n\t\t\t//\u8BBE\u7F6E\u5929\u7A7A\u76D2mesh\r\n\t\t\tskyRenderer.mesh = SkyBox.instance;\r\n\t\t\t//\u8BBE\u7F6E\u5929\u7A7A\u76D2\u6750\u8D28\r\n\t\t\tskyRenderer.material = res;\r\n\t\t\t//\u8BBE\u7F6E\u66DD\u5149\u5F3A\u5EA6\r\n\t\t\tres.exposure = 0.6 + 1;\r\n\t\t});\r\n\r\n\t\t//\u52A0\u8F7DMesh\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/staticModel/teapot/teapot-Teapot001.lm\").then((res)=> {\r\n\r\n\t\t\tthis.teapot = <MeshSprite3D>this.scene.addChild(new MeshSprite3D(res));\r\n\t\t\tthis.teapot.transform.position = new Vector3(0, 1.75, 2);\r\n            this.teapot.transform.setWorldLossyScale(new Vector3(5, 5, 5));\r\n\t\t\tthis.teapot.transform.rotate(new Vector3(-90, 0, 0), false, false);\r\n\t\t\t//\u5B9E\u4F8BPBR\u6750\u8D28\r\n\t\t\tvar pbrMat: PBRStandardMaterial = new PBRStandardMaterial();\r\n\t\t\t//\u8BBE\u7F6E\u6750\u8D28\u7684\u91D1\u5C5E\u5EA6\uFF0C\u5C3D\u91CF\u9AD8\u70B9\uFF0C\u53CD\u5C04\u6548\u679C\u66F4\u660E\u663E\r\n\t\t\tpbrMat.metallic = 1;\r\n\t\t\tthis.teapot.meshRenderer.material = pbrMat;\r\n\t\t\t\r\n\t\t});\t\t\r\n\r\n\t\tthis.loadEnvironmentalReflection();\r\n\r\n\t\t//super.addBottomButton( [\"\u53D6\u6D88\u73AF\u5883\u53CD\u5C04\",\"\u52A0\u8F7D\u73AF\u5883\u53CD\u5C04\"] , this, [this.removeEnvironmentalReflection, this.loadEnvironmentalReflection]);\r\n\r\n\t}\r\n \r\n\tremoveEnvironmentalReflection() {\r\n                \r\n       this.scene.sceneReflectionProb.iblTex = null;\r\n\t}\r\n\r\n\tloadEnvironmentalReflection() {\r\n\r\n\t\t//\u52A0\u8F7D\u5728\u573A\u666F\u4E2D\u9884\u5148\u7528\u5929\u7A7A\u76D2\u70D8\u7119\u51FA\u6765\u7684\u5929\u7A7A\u76D2cubemap\r\n\t\tLaya.loader.load(\"resources/scene/3D/Scene3D/EnvironmentalReflection/EnvironmentalReflection.ktx\").then((res)=> {\t\t\r\n\t\t\tthis.scene.sceneReflectionProb.iblTex = res;\t\t\t\r\n\t\t});     \r\n\t}  \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Camera = Laya.Camera;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Button = Laya.Button;\r\nimport AmbientMode = Laya.AmbientMode;\r\nimport Color = Laya.Color;\r\nimport PBRStandardMaterial = Laya.PBRStandardMaterial;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('a938acc9-7759-4f01-b580-ebd51eacad0b', '../src/3D/Scene3D/GriendSkyAmbientDemo.ts')\r\nexport class GriendSkyAmbientDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\t//\u521D\u59CB\u5316\u7167\u76F8\u673A\r\n\t\tthis.camera.transform.position = (new Vector3(0, 2, 3));\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        //\u573A\u666F\u9884\u5148\u70D8\u7119\u597D\u73AF\u5883\u53CD\u5C04\r\n        this.scene.ambientIntensity = 0.5;\r\n\r\n        this.sprite3D = this.scene.addChild(new Sprite3D()) as Sprite3D;\r\n\r\n        var mat: PBRStandardMaterial = new PBRStandardMaterial();\r\n        //\u6B63\u65B9\u4F53\r\n        var box = this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5))) as MeshSprite3D;\r\n        box.transform.position = new Vector3(2.0, 0.25, 0.6);\r\n        box.transform.rotate(new Vector3(0, 45, 0), false, false);\r\n        box.meshRenderer.material = mat;\r\n        //\u7403\u4F53\r\n        var sphere = this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.25, 20, 20))) as MeshSprite3D;\r\n        sphere.transform.position = new Vector3(1.0, 0.25, 0.6);\r\n        sphere.meshRenderer.material = mat;\r\n        //\u5706\u67F1\u4F53\r\n        var cylinder = this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.25, 1, 20))) as MeshSprite3D;\r\n        cylinder.transform.position = new Vector3(0, 0.5, 0.6);\r\n        cylinder.meshRenderer.material = mat;\r\n        //\u80F6\u56CA\u4F53\r\n        var capsule = this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCapsule(0.25, 1, 10, 20))) as MeshSprite3D;\r\n        capsule.transform.position = new Vector3(-1.0, 0.5, 0.6);\r\n        capsule.meshRenderer.material = mat;\r\n        \r\n        //\u5706\u9525\u4F53\r\n        var cone = this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCone(0.25, 0.75))) as MeshSprite3D;\r\n        cone.transform.position = new Vector3(-2.0, 0.375, 0.6);\r\n        cone.meshRenderer.material = mat;\r\n\r\n        super.addBottomButton( [\"\u56FA\u5B9A\u989C\u8272\",\"\u7403\u8C10\u5149\u7167\"] , this, [this.setSolidColor, this.setSphericalHarmonics]);\r\n                \r\n    }\r\n\r\n\tsetSphericalHarmonics() {\r\n\r\n        //\u4F7F\u7528\u7403\u8C10\u5149\u7167\uFF0C\u524D\u63D0\u662F\u5728\u573A\u666F\u4E2D\u5148\u8BBE\u7F6E\u597D\u5929\u7A7A\u76D2\uFF0C\u5728ReflectionProbe\u4E2D\u70D8\u7119\r\n        this.scene.ambientMode = AmbientMode.SphericalHarmonics;\r\n\t}\r\n\r\n\tsetSolidColor() {\r\n\r\n        //\u4F7F\u7528\u56FA\u5B9A\u989C\u8272\r\n        this.scene.ambientMode = AmbientMode.SolidColor;\r\n        this.scene.ambientColor = new Color(0.56, 0.89, 1);\r\n        \r\n\t}    \r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport Lightmap = Laya.Lightmap;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('405e2005-76bf-4c43-82c8-d1af69cf3061', '../src/3D/Scene3D/LightmapScene.ts')\r\nexport class LightmapScene extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private lightMaps: Lightmap[];\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    //\u8BF7\u8FDB\u5165\u573A\u666F\u67E5\u770B\u5149\u7167\u8D34\u56FE\u7684\u8BBE\u7F6E resources\\res\\threeDimen\\LightmapScene\\Scene.ls\r\n    //\u4F7F\u7528\u5149\u7167\u8D34\u56FE\uFF0C\u524D\u63D0\u662F\u5728\u573A\u666F\u4E2D\u5148\u521B\u5EFA\u706F\u5149\u8BBE\u7F6E\uFF0C\u70D8\u7119\u51FA\u5149\u7167\u8D34\u56FE\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.lightMaps = this.scene.lightmaps;\r\n        super.addBottomButton( [\"\u53D6\u6D88\u5149\u7167\u8D34\u56FE\",\"\u663E\u793A\u5149\u7167\u8D34\u56FE\",\"\u52A0\u8F7D\u5149\u7167\u8D34\u56FE\"] , this, [this.setLightmapOff, this.setLightmapOn, this.loadLightmap]);\r\n                \r\n    }\r\n\r\n\tsetLightmapOff() {\r\n                \r\n        this.scene.lightmaps = null;\r\n\t}\r\n\r\n\tsetLightmapOn() {\r\n\r\n        this.scene.lightmaps = this.lightMaps;\r\n\t\t// Laya.loader.load(\"resources/res/threeDimen/LightmapScene/Scene/diffuse0.png\").then((res)=> {\r\n\t\t// \tthis.lightMaps[0].lightmapColor = res;\r\n\t\t// });        \r\n\t}   \r\n\r\n\tloadLightmap() {\r\n\r\n        this.scene.lightmaps = null;\r\n        let newLightmap: Lightmap = new Lightmap();        \r\n\t\tLaya.loader.load(\"resources/res/threeDimen/LightmapScene/Scene/diffuse0.png\").then((res)=> {\r\n\t\t\tnewLightmap.lightmapColor = res;\r\n            newLightmap.lightmapDirection = null;\r\n\t\t});    \r\n        let newLightmaps: Lightmap[] = [];\r\n        newLightmaps.push(newLightmap);\r\n        this.scene.lightmaps = newLightmaps;\r\n\t}       \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport ProgressBar = Laya.ProgressBar;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c6173b46-e841-4b3b-a762-0b55d1184ee8', '../src/3D/Scene3D/SceneLoad1.ts')\r\nexport class SceneLoad1 extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.ProgressBar)\r\n    private loadingBar: ProgressBar;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n        \r\n        Laya.loader.load(\"resources/res/threeDimen/scene/LayaScene_dudeScene/Conventional/dudeSceneNoCamera.ls\", null, Laya.Handler.create(this, this.onLoading, null, false)).then((res)=> {\r\n\r\n            this.loadingBar.visible = false;\r\n\r\n            // lh/ls\u9700\u8981\u4F7F\u7528create()\r\n\t\t\tlet scene = res.create();\r\n\t\t\t//scene.scene3D \u53EF\u4EE5\u83B7\u5F97Scene3D\u8D44\u6E90\r\n\t\t\tlet scene3D = scene.scene3D;\r\n            this.scene.addChildAt(scene3D, 0);\r\n            \r\n        });\r\n        // \u4FA6\u542C\u52A0\u8F7D\u5931\u8D25\r\n        Laya.loader.on(Laya.Event.ERROR, this, this.onError);\r\n\r\n\t}\r\n\r\n    /**\r\n   * \u5F53\u62A5\u9519\u65F6\u6253\u5370\u9519\u8BEF\r\n   * @param err \u62A5\u9519\u4FE1\u606F\r\n   */\r\n    onError(err: string): void {\r\n        console.log(\"\u52A0\u8F7D\u5931\u8D25: \" + err);\r\n    }\r\n\r\n    /**\r\n     * \u52A0\u8F7D\u65F6\u4FA6\u542C\r\n     */\r\n    onLoading(progress: number): void {\r\n        //\u63A5\u8FD1\u5B8C\u6210\u52A0\u8F7D\u65F6\uFF0C\u8BA9\u663E\u793A\u8FDB\u5EA6\u6BD4\u5B9E\u9645\u8FDB\u5EA6\u6162\u4E00\u70B9\uFF0C\u8FD9\u662F\u4E3A\u6253\u5F00\u573A\u666F\u65F6\u7684\u81EA\u52A8\u52A0\u8F7D\u9884\u7559\uFF0C\u5C24\u5176\u662F\u8981\u6253\u5F00\u7684\u573A\u666F\u8D44\u6E90\u591A\uFF0C\u5E76\u6CA1\u6709\u5B8C\u5168\u653E\u5230\u9884\u52A0\u8F7D\u4E2D\uFF0C\u8FD8\u9700\u8981\u518D\u81EA\u52A8\u52A0\u8F7D\u4E00\u90E8\u5206\u65F6\u3002\r\n        if (progress > 0.92) this.loadingBar.value = 0.95;\r\n        else\r\n        {\r\n            this.loadingBar.value = progress;\r\n            console.log(\"\u52A0\u8F7D\u8FDB\u5EA6: \" + progress, this.loadingBar.value);\r\n        }\r\n    }\r\n\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('c4a1bcfb-da17-46d6-a7fa-70b3721d13b0', '../src/3D/Sky/Sky_Procedural.ts')\r\nexport class Sky_Procedural extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n    @property(Laya.Sprite3D)\r\n    private directionLight: Laya.Sprite3D;\r\n\r\n\tprivate rotation: Vector3;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 0.7, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(10, 0, 0), true, false);\r\n\r\n\t\t//\u521D\u59CB\u5316\u5E73\u884C\u5149\r\n\t\tvar mat = this.directionLight.transform.worldMatrix;\r\n\t\tmat.setForward(new Laya.Vector3(-1.0, -1.0, -1.0));\r\n\t\tthis.directionLight.transform.worldMatrix = mat;\r\n\t\tthis.rotation = new Laya.Vector3(-0.01, 0, 0);\r\n\r\n\t\t//\u521D\u59CB\u5316\u5929\u7A7A\u6E32\u67D3\u5668\r\n\t\tvar skyRenderer:Laya.SkyRenderer = this.scene.skyRenderer;\r\n\t\tskyRenderer.mesh = Laya.SkyDome.instance;\r\n\t\tskyRenderer.material = new Laya.SkyProceduralMaterial();\r\n\t\t//\u65CB\u8F6C\u5E73\u884C\u5149,\u6A21\u62DF\u592A\u9633\u8F68\u8FF9\r\n\t\tLaya.timer.frameLoop(1, this, this.onFrameLoop);\r\n\t}\r\n\r\n\tonFrameLoop(){\r\n\t\tthis.directionLight.transform.rotate(this.rotation);\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport SkyRenderer = Laya.SkyRenderer;\r\nimport Vector3 = Laya.Vector3;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport SkyBoxMaterial = Laya.SkyBoxMaterial;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport Color = Laya.Color;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('2d0df284-0ddc-495f-ae6e-bd620726ad9e', '../src/3D/Sky/Sky_SkyBox.ts')\r\nexport class Sky_SkyBox extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate mat: SkyBoxMaterial;\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 0.7, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(10, 0, 0), true, false);\r\n\r\n\t\t//\u8BBE\u7F6E\u76F8\u673A\u7684\u6E05\u9664\u6807\u8BC6\u4E3A\u5929\u7A7A\u76D2(\u8FD9\u4E2A\u53C2\u6570\u5FC5\u987B\u8BBE\u7F6E\u4E3ACLEARFLAG_SKY\uFF0C\u5426\u5219\u65E0\u6CD5\u4F7F\u7528\u5929\u7A7A\u76D2)\r\n\t\tthis.camera.clearFlag = CameraClearFlags.Sky;\r\n\r\n\t\tsuper.addBottomButton( [\"\u7ACB\u65B9\u4F53\u5929\u7A7A\u76D2\",\"\u7A0B\u5E8F\u5316\u5929\u7A7A\u76D2\"] , this, [this.changeSkybox, this.changeSkyProcedural] );\r\n\t}\r\n\r\n\tchangeSkyProcedural(){\r\n\r\n\t\t//\u7A0B\u5E8F\u5316\u5929\u7A7A\u76D2\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skyBox/SkyProcedural/Skybox.lmat\").then((mat: SkyBoxMaterial)=> {\r\n\t\t\t//\u83B7\u53D6\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\r\n\t\t\tvar skyRenderer: SkyRenderer = this.camera.skyRenderer;\r\n\t\t\t//\u8BBE\u7F6E\u5929\u7A7A\u76D2\u6750\u8D28\r\n\t\t\tskyRenderer.material = mat;\r\n\t\t});\t\t\r\n\t}\r\n\r\n\tchangeSkybox(){\r\n\t\t\r\n\t\t//\u7ACB\u65B9\u4F53\u5929\u7A7A\u76D2\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skyBox/DawnDusk/Skybox.lmat\").then((mat: SkyBoxMaterial)=> {\r\n\t\t\t//\u83B7\u53D6\u76F8\u673A\u7684\u5929\u7A7A\u6E32\u67D3\u5668\r\n\t\t\tvar skyRenderer: SkyRenderer = this.camera.skyRenderer;\r\n\t\t\t//\u8BBE\u7F6E\u5929\u7A7A\u76D2\u6750\u8D28\r\n\t\t\tskyRenderer.material = mat;\r\n\t\t});\r\n\t}\t\r\n\r\n\tonDestroy(): void {\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport InputManager = Laya.InputManager;\r\nimport Script3D = Laya.Script3D;\r\nimport Text = Laya.Text;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('9e930e25-774c-4af3-aa86-5a0f36168fa7', '../src/3D/Show/CerberusModelShow.ts')\r\nexport class CerberusModelShow extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar damagedHelmet: MeshSprite3D = <MeshSprite3D>this.scene.getChildByName(\"Cerberus_LP\");\r\n\t\tvar rotationScript: RotationScript = damagedHelmet.addComponent(RotationScript);\r\n\t\trotationScript.model = damagedHelmet;\r\n\r\n\t\tvar size: number = 20;\r\n\t\tthis.addText(30, 200, 10, \"\u62D6\u52A8\u5C4F\u5E55\u4EE5\u65CB\u8F6C\u6A21\u578B\", \"red\");\r\n\t\tsize = 10;\r\n\t\tthis.addText(size, 20, this.pageHeight - size * 4, \"Cerberus by Andrew Maximov     http://artisaverb.info/PBT.html\", \"#FFFF00\");\r\n\t}\r\n\r\n\t/**\r\n\t * add text.\r\n\t */\r\n\taddText(size: number, x: number, y: number, text: string, color: string): void {\r\n\t\tvar cerberusText: Text = new Text();\r\n\t\tcerberusText.color = color;\r\n\t\tcerberusText.fontSize = size;\r\n\t\tcerberusText.x = x;\t\t\r\n\t\tcerberusText.y = y;\r\n\t\tcerberusText.text = text;\r\n\t\tthis.owner.addChild(cerberusText);\r\n\t}\r\n}\r\n\r\nclass RotationScript extends Script3D {\r\n\tprivate _lastMouseX: number;\r\n\tprivate _mouseDown: boolean = false;\r\n\tprivate _rotate: Vector3 = new Vector3();\r\n\tprivate _autoRotateSpeed: Vector3 = new Vector3(0, 0.25, 0);\r\n\r\n\tmodel: Sprite3D;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tLaya.stage.on(Event.MOUSE_DOWN, this, ()=> {\r\n\t\t\tthis._mouseDown = true;\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t});\r\n\t\tLaya.stage.on(Event.MOUSE_UP, this, ()=> {\r\n\t\t\tthis._mouseDown = false;\r\n\t\t});\r\n\r\n\t}\r\n\tonUpdate(): void {\r\n\t\tif (this._mouseDown) {\r\n\t\t\tvar deltaX: number = InputManager.mouseX - this._lastMouseX;\r\n\t\t\tthis._rotate.y = deltaX * 0.2;\r\n\t\t\tthis.model.transform.rotate(this._rotate, false, false);\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.model.transform.rotate(this._autoRotateSpeed, false, false);\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport InputManager = Laya.InputManager;\r\nimport Script3D = Laya.Script3D;\r\nimport Text = Laya.Text;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('56ac9a0b-bb60-47e3-aeac-5934275aea57', '../src/3D/Show/DamagedHelmetModelShow.ts')\r\nexport class DamagedHelmetModelShow extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar damagedHelmet: MeshSprite3D = <MeshSprite3D>this.scene.getChildAt(1).getChildAt(0);\r\n\t\tvar rotationScript: RotationScript = damagedHelmet.addComponent(RotationScript);\r\n\t\trotationScript.model = damagedHelmet;\r\n\r\n\t\tvar size: number = 20;\r\n\t\tthis.addText(30, 200, 10, \"\u62D6\u52A8\u5C4F\u5E55\u4EE5\u65CB\u8F6C\u6A21\u578B\", \"red\");\r\n\t\tsize = 10;\r\n\t\tthis.addText(size, 20, this.pageHeight - size * 4, \"Battle Damaged Sci-fi Helmet by theblueturtle_    www.leonardocarrion.com\", \"#FFFF00\");\r\n\t}\r\n\r\n\t/**\r\n\t * add text.\r\n\t */\r\n\taddText(size: number, x: number, y: number, text: string, color: string): void {\r\n\t\tvar cerberusText: Text = new Text();\r\n\t\tcerberusText.color = color;\r\n\t\tcerberusText.fontSize = size;\r\n\t\tcerberusText.x = x;\t\t\r\n\t\tcerberusText.y = y;\r\n\t\tcerberusText.text = text;\r\n\t\tthis.owner.addChild(cerberusText);\r\n\t}\r\n}\r\n\r\nclass RotationScript extends Script3D {\r\n\tprivate _lastMouseX: number;\r\n\tprivate _mouseDown: boolean = false;\r\n\tprivate _rotate: Vector3 = new Vector3();\r\n\tprivate _autoRotateSpeed: Vector3 = new Vector3(0, 0.25, 0);\r\n\r\n\tmodel: Sprite3D;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tLaya.stage.on(Event.MOUSE_DOWN, this, ()=> {\r\n\t\t\tthis._mouseDown = true;\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t});\r\n\t\tLaya.stage.on(Event.MOUSE_UP, this, ()=> {\r\n\t\t\tthis._mouseDown = false;\r\n\t\t});\r\n\r\n\t}\r\n\tonUpdate(): void {\r\n\t\tif (this._mouseDown) {\r\n\t\t\tvar deltaX: number = InputManager.mouseX - this._lastMouseX;\r\n\t\t\tthis._rotate.y = deltaX * 0.2;\r\n\t\t\tthis.model.transform.rotate(this._rotate, false, false);\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.model.transform.rotate(this._autoRotateSpeed, false, false);\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport InputManager = Laya.InputManager;\r\nimport Script3D = Laya.Script3D;\r\nimport Text = Laya.Text;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('f243b4bd-0fe2-416c-a7a9-301c361c4296', '../src/3D/Show/GunDemo.ts')\r\nexport class GunDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tvar gun: MeshSprite3D = <MeshSprite3D>this.scene.getChildByName(\"Gun\");\r\n\t\tvar rotationScript: RotationScript = gun.addComponent(RotationScript);\r\n\t\trotationScript.model = gun;\r\n\r\n\t\tvar size: number = 20;\r\n\t\tthis.addText(30, 200, 10, \"\u62D6\u52A8\u5C4F\u5E55\u4EE5\u65CB\u8F6C\u6A21\u578B\", \"red\");\r\n\t}\r\n\r\n\t/**\r\n\t * add text.\r\n\t */\r\n\taddText(size: number, x: number, y: number, text: string, color: string): void {\r\n\t\tvar cerberusText: Text = new Text();\r\n\t\tcerberusText.color = color;\r\n\t\tcerberusText.fontSize = size;\r\n\t\tcerberusText.x = x;\t\t\r\n\t\tcerberusText.y = y;\r\n\t\tcerberusText.text = text;\r\n\t\tthis.owner.addChild(cerberusText);\r\n\t}\r\n}\r\n\r\nclass RotationScript extends Script3D {\r\n\tprivate _lastMouseX: number;\r\n\tprivate _mouseDown: boolean = false;\r\n\tprivate _rotate: Vector3 = new Vector3();\r\n\tprivate _autoRotateSpeed: Vector3 = new Vector3(0, 0.25, 0);\r\n\r\n\tmodel: Sprite3D;\r\n\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t\tLaya.stage.on(Event.MOUSE_DOWN, this, ()=> {\r\n\t\t\tthis._mouseDown = true;\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t});\r\n\t\tLaya.stage.on(Event.MOUSE_UP, this, ()=> {\r\n\t\t\tthis._mouseDown = false;\r\n\t\t});\r\n\r\n\t}\r\n\tonUpdate(): void {\r\n\t\tif (this._mouseDown) {\r\n\t\t\tvar deltaX: number = InputManager.mouseX - this._lastMouseX;\r\n\t\t\tthis._rotate.y = deltaX * 0.2;\r\n\t\t\tthis.model.transform.rotate(this._rotate, false, false);\r\n\t\t\tthis._lastMouseX = InputManager.mouseX;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.model.transform.rotate(this._autoRotateSpeed, false, false);\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport Color = Laya.Color;\r\nimport PixelLineSprite3D = Laya.PixelLineSprite3D;\r\nimport Mesh = Laya.Mesh;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('cc0f6877-b7f3-4e00-b4a7-a681765fca59', '../src/3D/Sprite3D/PixelLineSprite3DDemo.ts')\r\nexport class PixelLineSprite3DDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate sprite3D: Sprite3D;\r\n\tprivate lineSprite3D: Sprite3D;\r\n\t\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.2, 3.5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\r\n\t\tthis.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\t\tthis.lineSprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n\t\t//\u7403\u4F53\r\n\t\tvar sphere: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createSphere(0.25, 20, 20))));\r\n\t\tsphere.transform.position = new Vector3(0.0, 0.75, 2);\r\n\t\tvar sphereLineSprite3D: PixelLineSprite3D = (<PixelLineSprite3D>this.lineSprite3D.addChild(new PixelLineSprite3D(3500)));\r\n\t\tTool.linearModel(sphere, sphereLineSprite3D, Color.GREEN);\r\n\t\tthis.sprite3D.active = false;;\r\n\t\tthis.lineSprite3D.active = true;\r\n\t}\r\n}\r\n\r\n\r\nexport class Tool {\r\n\tprivate static transVertex0: Vector3 = new Vector3();\r\n\tprivate static transVertex1: Vector3 = new Vector3();\r\n\tprivate static transVertex2: Vector3 = new Vector3();\r\n\tprivate static corners: Vector3[] = [];\r\n\tstatic linearModel(sprite3D: Sprite3D, lineSprite3D: PixelLineSprite3D, color: Color): void {\r\n\t\tif (sprite3D instanceof MeshSprite3D) {\r\n\t\t\tvar meshSprite3D: MeshSprite3D = <MeshSprite3D>sprite3D;\r\n\t\t\tvar mesh: Mesh = meshSprite3D.meshFilter.sharedMesh;\r\n\t\t\tvar positions: Array<Vector3> = [];\r\n\t\t\tmesh.getPositions(positions);\r\n\t\t\tvar indices = mesh.getSubMesh(0).getIndices();\r\n\r\n\t\t\tfor (var i: number = 0; i < indices.length; i += 3) {\r\n\t\t\t\tvar vertex0: Vector3 = positions[indices[i]];\r\n\t\t\t\tvar vertex1: Vector3 = positions[indices[i + 1]];\r\n\t\t\t\tvar vertex2: Vector3 = positions[indices[i + 2]];\r\n\t\t\t\tVector3.transformCoordinate(vertex0, meshSprite3D.transform.worldMatrix, this.transVertex0);\r\n\t\t\t\tVector3.transformCoordinate(vertex1, meshSprite3D.transform.worldMatrix, this.transVertex1);\r\n\t\t\t\tVector3.transformCoordinate(vertex2, meshSprite3D.transform.worldMatrix, this.transVertex2);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex0, this.transVertex1, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex1, this.transVertex2, color, color);\r\n\t\t\t\tlineSprite3D.addLine(this.transVertex2, this.transVertex0, color, color);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfor (var i: number = 0, n: number = sprite3D.numChildren; i < n; i++)\r\n\t\t\tTool.linearModel((<Sprite3D>sprite3D.getChildAt(i)), lineSprite3D, color);\r\n\t}\r\n\r\n\tstatic DrawBoundingBox(sprite3D: Sprite3D, sprite: Sprite3D, color: Color): void {\r\n\t\t(<MeshSprite3D>sprite3D).meshRenderer.bounds.getCorners(Tool.corners);\r\n\r\n\t\tvar rotate: Vector3 = new Vector3(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[1], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[2], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[3], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[0], rotate, sprite);\r\n\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[4], Tool.corners[5], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[5], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 90);\r\n\t\tTool.DrawTwelveLines(Tool.corners[6], Tool.corners[7], rotate, sprite);\r\n\t\trotate.setValue(0, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[7], Tool.corners[4], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[0], Tool.corners[4], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[1], Tool.corners[5], rotate, sprite);\r\n\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[2], Tool.corners[6], rotate, sprite);\r\n\t\trotate.setValue(90, 0, 0);\r\n\t\tTool.DrawTwelveLines(Tool.corners[3], Tool.corners[7], rotate, sprite);\r\n\t}\r\n\r\n\tprivate static DrawTwelveLines(start: Vector3, end: Vector3, rotate: Vector3, sprite3D: Sprite3D): void {\r\n\t\tvar length: number = Vector3.distance(start, end);\r\n\t\tvar cylinder: MeshSprite3D = (<MeshSprite3D>sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createCylinder(0.004, length, 3))));\r\n\t\tcylinder.transform.rotate(rotate, true, false);\r\n\t\tvar cylPos: Vector3 = cylinder.transform.position;\r\n\t\tvar x: number = start.x + end.x;\r\n\t\tvar y: number = start.y + end.y;\r\n\t\tvar z: number = start.z + end.z;\r\n\t\tcylPos.setValue(x / 2, y / 2, z / 2);\r\n\t\tcylinder.transform.position = cylPos;\r\n\t}\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n}", "/*Laya.LayaEnv.beforeInit = function(config: Laya.IStageConfig) {\r\n    //\u8FD9\u4E2A\u65B9\u6CD5\u4F1A\u5728Laya.init\u524D\u8C03\u7528\r\n    console.log(\"before init\");\r\n    //\u8FD9\u91CC\u53EF\u4EE5\u5BF9config\u4EE5\u53CALaya.Config\u3001Laya.Config3D\u8FDB\u884C\u81EA\u5B9A\u4E49\u7684\u4FEE\u6539\r\n    Laya.Config.preserveDrawingBuffer =true;    \r\n}*/\r\n\r\nimport { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport Camera = Laya.Camera;\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('2d929ea3-aad3-4da4-afb3-6ccc73bd41f8', '../src/3D/Sprite3D/ScreenShot.ts')\r\nexport class ScreenShot extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n\r\n    onAwake(): void {\r\n\r\n\t\t//\u9700\u8981\u5728 Laya.LayaEnv.beforeInit \u4E2D\u63D0\u524D\u8C03\u7528 Laya.Config.preserveDrawingBuffer =true;\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 2, 3);\r\n\t\tthis.camera.transform.rotate(new Vector3(-30, 0, 0), true, false);\r\n\r\n\r\n\t\t//\u6DFB\u52A0\u81EA\u5B9A\u4E49\u6A21\u578B\r\n\t\tvar box: Laya.MeshSprite3D = this.scene.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(1, 1, 1))) as Laya.MeshSprite3D;\r\n\t\tbox.transform.rotate(new Laya.Vector3(0, 45, 0), false, false);\r\n\t\tvar material: Laya.BlinnPhongMaterial = new Laya.BlinnPhongMaterial();\r\n\t\tLaya.Texture2D.load(\"resources/res/threeDimen/layabox.png\", Laya.Handler.create(null, function (tex: Laya.Texture2D) {\r\n\t\t\tmaterial.albedoTexture = tex;\r\n\t\t}));\r\n\t\tbox.meshRenderer.material = material;\r\n\t\tthis.loadUI();\r\n\t}\r\n\t\r\n\tprivate loadUI() {\r\n\t\tLaya.loader.load([\"resources/image/img_btn_bg.png\"], Laya.Handler.create(this, ()=> {\r\n\t\t\tvar screenshotBtn = new Laya.Button(\"resources/image/img_btn_bg.png\", \"\u622A\u56FE\");\r\n\t\t\tthis.owner.addChild(screenshotBtn);\r\n\t\t\tscreenshotBtn.size(100, 30);\r\n\t\t\tscreenshotBtn.labelBold = true;\r\n\t\t\tscreenshotBtn.labelSize = 15;\r\n\t\t\tscreenshotBtn.sizeGrid = \"4,4,4,4\";\r\n\t\t\tscreenshotBtn.pos(this.pageWidth / 2 - screenshotBtn.width /2 , this.pageHeight - 100);\r\n\t\t\tscreenshotBtn.on(Laya.Event.CLICK, this, this.onAddClick);\r\n\t\t}))\r\n\t}\r\n\r\n\tonAddClick() {\r\n\t\t//\u6E32\u67D3\u5230\u7EB9\u7406\u7684\u76F8\u673A\r\n\t\tvar renderTargetCamera: Laya.Camera = this.scene.addChild(new Laya.Camera(0, 0.1, 100)) as Laya.Camera;\r\n\t\trenderTargetCamera.transform.position = new Vector3(0, 2, 3);\r\n\t\trenderTargetCamera.transform.rotate(new Laya.Vector3(-30, 0, 0), true, false);\r\n\r\n\t\t//\u6E32\u67D3\u987A\u5E8F\r\n\t\trenderTargetCamera.renderingOrder = -1;\r\n\t\tvar renderTexture: any = new Laya.RenderTexture(512, 512, Laya.RenderTargetFormat.R8G8B8A8, Laya.RenderTargetFormat.DEPTHSTENCIL_24_8, false , 4);\r\n\t\tLaya.Camera.drawRenderTextureByScene(renderTargetCamera, this.scene, renderTexture);\r\n\t\t\r\n\t\t//\u622A\u56FE\u7ED8\u5236\r\n\t\tvar rtex = new Laya.Texture(renderTargetCamera.renderTarget, Laya.Texture.DEF_UV);\r\n\r\n\t\tvar rtex = new Laya.Texture(Laya.Texture2D.blackTexture);\r\n\t\tconsole.log(rtex.width,rtex.height)\r\n\t\tvar sp = new Laya.Sprite();\r\n\t\t// sp.zOrder=99;\r\n\t\tthis.owner.addChild(sp);\r\n\t\tsp.graphics.drawTexture(rtex);\r\n\r\n\t\t//@ts-ignore\r\n\t\tvar htmlCanvas: Laya.HTMLCanvas = sp.drawToCanvas(720, 1280, 0, 0);\r\n\t\tvar base64: string = htmlCanvas.toBase64(\"image/png\",1);\r\n\t\tconsole.log(base64);\r\n\t\tvar img = new window.Image;\r\n\t\timg.src = base64;\r\n\t\tdocument.body.appendChild(img);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('2696a176-66f9-4aac-81f7-dd3a6d9b0803', '../src/3D/Sprite3D/SkinnedMeshSprite3DDemo.ts')\r\nexport class SkinnedMeshSprite3DDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.6, 2);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/skinModel/dude/dude.lh\").then((res)=>{\r\n\r\n\t\t\t//lh\u7528create()\u521B\u5EFA\r\n\t\t\tvar dude: Sprite3D = (<Sprite3D>this.scene.addChild(res.create()));\r\n\t\t\t//\u7F29\u653E\r\n\t\t\tvar scale: Vector3 = new Vector3(0.5, 0.5, 0.5);\r\n\t\t\tdude.transform.localScale = scale;\r\n\t\t\tdude.transform.rotate(new Vector3(0, 3.14, 0));\r\n\r\n\t\t});\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('6492c680-4d83-4ad7-8e22-558f7502a378', '../src/3D/Sprite3D/Sprite3DClone.ts')\r\nexport class Sprite3DClone extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.5, 1);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n        \r\n        Laya.loader.load(\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\").then( (res)=>{\r\n\r\n            var layaMonkey:Laya.Sprite3D = this.scene.addChild(res.create()) as Laya.Sprite3D;\r\n            //\u514B\u9686sprite3d\r\n            Laya.Sprite3D.instantiate(layaMonkey, this.scene, false, new Laya.Vector3(0.6, 0, 0));\r\n            //\u514B\u9686sprite3d\r\n            this.scene.addChild(Laya.Sprite3D.instantiate(layaMonkey, null, false, new Laya.Vector3(-0.6, 0, 0)));\r\n\r\n\t\t} );\r\n    }\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Handler = Laya.Handler;\r\nimport Button = Laya.Button;\r\nimport Event = Laya.Event;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('8a84c63f-4b5c-4951-a103-ddc9725dfb18', '../src/3D/Sprite3D/Sprite3DParent.ts')\r\nexport class Sprite3DParent extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate layaMonkeyParent:Sprite3D;\r\n\tprivate layaMonkeySon:Sprite3D;\r\n\r\n\tprivate changeActionButton:Button;\r\n\tprivate changeActionButton1:Button;\r\n\tprivate changeActionButton2:Button;\r\n\tprivate changeActionButton3:Button;\r\n\tprivate changeActionButton4:Button;\r\n\tprivate changeActionButton5:Button;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 0.75, 1);\r\n\t\tthis.camera.transform.rotate(new Vector3(-30, 0, 0), true, false);\r\n\r\n\r\n\t\t//\u9884\u52A0\u8F7D\u6240\u6709\u8D44\u6E90\r\n\t\tvar resource: any[] = [\"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey2.lh\", \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"];\r\n\t\tLaya.loader.load(resource).then( (res:any[])=>{\r\n\r\n\t\t\t//\u6DFB\u52A0\u7236\u7EA7\u7334\u5B50\r\n\t\t\tthis.layaMonkeyParent = this.scene.addChild(res[1].create()) as Sprite3D;\r\n\t\t\t//\u52A0\u8F7D\u7B2C\u4E8C\u53EA\u7334\u5B50\uFF0C\u4F5C\u4E3A\u5B50\u7334\u5B50\r\n\t\t\tthis.layaMonkeySon = (<Sprite3D>res[0].create());\r\n\t\t\tthis.layaMonkeySon.transform.localPosition = (new Vector3(0.2, 0, 0));\r\n\t\t\t//\u7F29\u653E\r\n\t\t\tvar scale: Vector3 = new Vector3(0.5, 0.5, 0.5);\r\n\t\t\tthis.layaMonkeySon.transform.localScale = scale;\r\n\r\n\t\t\tthis.layaMonkeyParent.addChild(this.layaMonkeySon);\r\n\r\n\t\t\tthis.loadUI();\r\n\r\n\t\t} );\r\n\t}\r\n\r\n\tprivate loadUI(): void {\r\n\t\tLaya.loader.load([\"resources/image/img_btn_bg.png\"], Handler.create(this, ()=> {\r\n\t\t\tthis.changeActionButton = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u79FB\u52A8\u7236\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton.size(120, 30);\r\n\t\t\tthis.changeActionButton.labelSize = 10;\r\n\t\t\tthis.changeActionButton.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton.stateNum = 1;\r\n\t\t\tthis.changeActionButton.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton.pos(this.pageWidth - 170, 120);\r\n\t\t\tthis.changeActionButton.on(Event.CLICK, this, this.stypeFun0);\r\n\r\n\t\t\tthis.changeActionButton1 = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u653E\u5927\u7236\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton1.size(120, 30);\r\n\t\t\tthis.changeActionButton1.labelSize = 10;\r\n\t\t\tthis.changeActionButton1.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton1.stateNum = 1;\r\n\t\t\tthis.changeActionButton1.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton1.pos(this.pageWidth - 170, 160);\r\n\t\t\tthis.changeActionButton1.on(Event.CLICK, this, this.stypeFun1);\r\n\r\n\t\t\tthis.changeActionButton2 = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u65CB\u8F6C\u7236\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton2.size(120, 30);\r\n\t\t\tthis.changeActionButton2.labelSize = 10;\r\n\t\t\tthis.changeActionButton2.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton2.stateNum = 1;\r\n\t\t\tthis.changeActionButton2.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton2.pos(this.pageWidth - 170, 200);\r\n\t\t\tthis.changeActionButton2.on(Event.CLICK, this, this.stypeFun2);\r\n\r\n\t\t\tthis.changeActionButton3 = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u79FB\u52A8\u5B50\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton3.size(120, 30);\r\n\t\t\tthis.changeActionButton3.labelSize = 10;\r\n\t\t\tthis.changeActionButton3.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton3.stateNum = 1;\r\n\t\t\tthis.changeActionButton3.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton3.pos(this.pageWidth - 170, 250);\r\n\t\t\tthis.changeActionButton3.on(Event.CLICK, this, this.stypeFun3);\r\n\r\n\t\t\tthis.changeActionButton4 = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u653E\u5927\u5B50\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton4.size(120, 30);\r\n\t\t\tthis.changeActionButton4.labelSize = 10;\r\n\t\t\tthis.changeActionButton4.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton4.stateNum = 1;\r\n\t\t\tthis.changeActionButton4.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton4.pos(this.pageWidth - 170, 290);\r\n\t\t\tthis.changeActionButton4.on(Event.CLICK, this, this.stypeFun4);\r\n\r\n\t\t\tthis.changeActionButton5 = this.owner.addChild(new Button(\"resources/image/img_btn_bg.png\", \"\u65CB\u8F6C\u5B50\u7EA7\u7334\u5B50\"));\r\n\t\t\tthis.changeActionButton5.size(120, 30);\r\n\t\t\tthis.changeActionButton5.labelSize = 10;\r\n\t\t\tthis.changeActionButton5.sizeGrid = \"21,83,22,76\";\r\n\t\t\tthis.changeActionButton5.stateNum = 1;\r\n\t\t\tthis.changeActionButton5.labelColors = \"#ffffff\";\r\n\t\t\tthis.changeActionButton5.pos(this.pageWidth - 170, 330);\r\n\t\t\tthis.changeActionButton5.on(Event.CLICK, this, this.stypeFun5);\r\n\t\t}));\r\n\t}\r\n\r\n\t\r\n\tprivate stypeFun0() {\r\n\t\tthis.layaMonkeyParent.transform.translate(new Vector3(-0.1, 0, 0));\r\n\t}\r\n\r\n\tprivate stypeFun1() {\r\n\t\tvar scale: Vector3 = new Vector3(1.2, 1.2, 1.2);\r\n\t\tthis.layaMonkeyParent.transform.localScale = scale;\r\n\t}\r\n\r\n\tprivate stypeFun2() {\r\n\t\tthis.layaMonkeyParent.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\t}\r\n\r\n\tprivate stypeFun3() {\r\n\t\tthis.layaMonkeySon.transform.translate(new Vector3(-0.1, 0, 0));\r\n\t}\r\n\r\n\tprivate stypeFun4() {\r\n\t\tvar scale: Vector3 = new Vector3(1, 1, 1);\r\n\t\tthis.layaMonkeySon.transform.localScale = scale;\r\n\t}\r\n\r\n\tprivate stypeFun5() {\r\n\t\tthis.layaMonkeySon.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Transform3D = Laya.Transform3D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('aaa3a9c3-1868-422a-bd97-2d89afac88e3', '../src/3D/Sprite3D/TransformDemo.ts')\r\nexport class TransformDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\tprivate _position: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate _position1: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate _rotate: Vector3 = new Vector3(0, 1, 0);\r\n\tprivate _rotate1: Vector3 = new Vector3(0, 0, 0);\r\n\tprivate _scale: Vector3 = new Vector3();\r\n\tprivate scaleDelta: number = 0;\r\n\tprivate scaleValue: number = 0;\r\n\r\n\tprivate layaMonkey_clone1: Sprite3D;\r\n\tprivate layaMonkey_clone2: Sprite3D;\r\n\tprivate layaMonkey_clone3: Sprite3D;\r\n\r\n\tprivate clone1Transform: Transform3D;\r\n\tprivate clone2Transform: Transform3D;\r\n\tprivate clone3Transform: Transform3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1, 1);\r\n\t\tthis.camera.transform.rotate(new Vector3(-30, 0, 0), true, false);\r\n\r\n\r\n\t\t//\u6279\u91CF\u9884\u52A0\u8F7D\u8D44\u6E90\r\n\t\tLaya.loader.load([\"resources/res/threeDimen/staticModel/grid/plane.lh\", \"resources/res/threeDimen/skinModel/LayaMonkey/LayaMonkey.lh\"]).then((res:any[])=>{\r\n\t\t\tthis.onComplete(res);\r\n\t\t});\r\n\r\n\t}\r\n\r\n\tprivate onComplete(res:any[]): void {\r\n\t\t//\u52A0\u8F7D\u5730\u9762\r\n\t\tthis.scene.addChild(res[0].create());\r\n\t\t//\u52A0\u8F7D\u9759\u6001\u5C0F\u7334\u5B50\r\n\t\tvar staticLayaMonkey: MeshSprite3D = (<MeshSprite3D>res[1].create());\r\n\r\n\t\t//\u514B\u9686sprite3d\r\n\t\tthis.layaMonkey_clone1 = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position1);\r\n\t\tthis.layaMonkey_clone2 = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position1);\r\n\t\tthis.layaMonkey_clone3 = Sprite3D.instantiate(staticLayaMonkey, this.scene, false, this._position1);\r\n\t\t//\u5F97\u5230\u4E09\u4E2ATransform\r\n\t\tthis.clone1Transform = this.layaMonkey_clone1.transform;\r\n\t\tthis.clone2Transform = this.layaMonkey_clone2.transform;\r\n\t\tthis.clone3Transform = this.layaMonkey_clone3.transform;\r\n\t\t//\u5E73\u79FB\r\n\t\tthis._position1.setValue(0.0, 0, 0.0);\r\n\t\tthis.clone1Transform.translate(this._position1);\r\n\t\tthis._position1.setValue(-0.5, 0, 0.0);\r\n\t\tthis.clone2Transform.translate(this._position1);\r\n\t\tthis._position1.setValue(0.5, 0, 0.0);\r\n\t\tthis.clone3Transform.translate(this._position1);\r\n\t\t//\u65CB\u8F6C\r\n\t\tthis._rotate1.setValue(0, 60, 0);\r\n\t\tthis.clone2Transform.rotate(this._rotate1, false, false);\r\n\r\n\t\tstaticLayaMonkey.destroy();\r\n\r\n\t\t//\u8BBE\u7F6E\u5B9A\u65F6\u5668\u6267\u884C,\u5B9A\u65F6\u91CD\u590D\u6267\u884C(\u57FA\u4E8E\u5E27\u7387)\r\n\t\tLaya.timer.frameLoop(1, this, this.animate);\r\n\r\n\t}\r\n\r\n\tprivate animate(): void {\r\n\r\n\t\tthis.scaleValue = Math.sin(this.scaleDelta += 0.1);\r\n\r\n\t\tthis._position.y = Math.max(0, this.scaleValue / 2);\r\n\t\tthis.clone1Transform.position = this._position;\r\n\r\n\t\tthis.clone2Transform.rotate(this._rotate, false, false);\r\n\r\n\t\tthis._scale.x = this._scale.y = this._scale.z = Math.abs(this.scaleValue);\r\n\t\tthis.clone3Transform.localScale = this._scale;\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('66473e24-1d08-4144-bc10-cbf7b21be996', '../src/3D/Texture/GPUCompression_ASTC.ts')\r\nexport class GPUCompression_ASTC extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private mat:UnlitMaterial;\r\n    private text:Laya.Label;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.5, 4);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        let meshSprite = new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5));\r\n        meshSprite.transform.position = new Vector3(0.0, 1.0, 2.5);\r\n        meshSprite.transform.rotate(new Laya.Vector3(0, 0, 0), false, false);\r\n        this.mat = new UnlitMaterial();\r\n        this.scene.addChild(meshSprite);\r\n        meshSprite.getComponent(MeshRenderer).sharedMaterial = this.mat;\r\n\r\n        this.text = new Laya.Label();\r\n        \r\n        if(!Browser.onAndroid&&!Browser.onIOS){\r\n            //\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n            this.text.text = \"PC\u4E0D\u652F\u6301ASTC\u7EB9\u7406\uFF0C\u8BF7\u4F7F\u7528\u5B89\u5353\u6216\u8005\u82F9\u679C\u8BBE\u5907\";\r\n            //\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n            this.text.color = \"#FFFFFF\";\r\n            this.text.font = \"Impact\";\r\n            this.text.fontSize = 25;\r\n            this.text.width = 800;\r\n            this.text.anchorX = 0.5;\r\n            this.text.align = \"center\"; \r\n            this.text.x = this.pageWidth / 2;\r\n            this.text.y = 50;\r\n            this.owner.addChild(this.text);\r\n            console.log(\"PC\u4E0D\u652F\u6301ASTC\u7EB9\u7406\");\r\n        }\r\n        else\r\n        {\r\n            Laya.loader.load(\"resources/res/threeDimen/texture/ASTC4x4Test.ktx\").then((texture: Texture2D)=> {\r\n                this.mat.albedoTexture = texture;\r\n                //\u4FEE\u6539\u6750\u8D28\u8D34\u56FE\u7684\u5E73\u94FA\u548C\u504F\u79FB\r\n            });\r\n        }\r\n\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport MeshRenderer = Laya.MeshRenderer;\r\nimport UnlitMaterial = Laya.UnlitMaterial;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('b4e4996e-ddc4-4a2f-ac32-6dfc7061d87d', '../src/3D/Texture/GPUCompression_ETC2.ts')\r\nexport class GPUCompression_ETC2 extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private mat:UnlitMaterial;\r\n    private text:Laya.Label;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.5, 4);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n        let meshSprite = new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5));\r\n        meshSprite.transform.position = new Vector3(0.0, 1.0, 2.5);\r\n        meshSprite.transform.rotate(new Laya.Vector3(0, 0, 0), false, false);\r\n        this.mat = new UnlitMaterial();\r\n        this.scene.addChild(meshSprite);\r\n        meshSprite.getComponent(MeshRenderer).sharedMaterial = this.mat;\r\n\r\n        this.text = new Laya.Label();\r\n        if(!Browser.onAndroid){\r\n            console.log(\"\u53EA\u6709\u5B89\u5353\u652F\u6301ETC\");\r\n            //\u8BBE\u7F6E\u6587\u672C\u663E\u793A\u6846\u4F4D\u7F6E\r\n            this.text.text = \"PC\u4E0D\u652F\u6301ETC\u7EB9\u7406\uFF0C\u53EA\u6709\u5B89\u5353\u652F\u6301\";\r\n            //\u663E\u793A\u6587\u672C\u663E\u793A\u6846\r\n            this.text.color = \"#FFFFFF\";\r\n            this.text.font = \"Impact\";\r\n            this.text.fontSize = 25;\r\n            this.text.width = 800;\r\n            this.text.anchorX = 0.5;\r\n            this.text.align = \"center\"; \r\n            this.text.x = this.pageWidth / 2;\r\n            this.text.y = 50;\r\n            this.owner.addChild(this.text);\r\n            return;\r\n        }\r\n        else\r\n        {\r\n            Laya.loader.load(\"resources/res/threeDimen/texture/ETC2Test.ktx\").then((texture: Texture2D)=> {\r\n                this.mat.albedoTexture = texture;\r\n                //\u4FEE\u6539\u6750\u8D28\u8D34\u56FE\u7684\u5E73\u94FA\u548C\u504F\u79FB\r\n            });\r\n        }\r\n\r\n\r\n\t}\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport MeshSprite3D = Laya.MeshSprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport BlinnPhongMaterial = Laya.BlinnPhongMaterial;\r\nimport Texture2D = Laya.Texture2D;\r\nimport PrimitiveMesh = Laya.PrimitiveMesh;\r\nimport FilterMode = Laya.FilterMode;\r\nimport HalfFloatUtils = Laya.HalfFloatUtils;\r\nimport TextureFormat = Laya.TextureFormat;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('92353217-1135-41b9-8666-3566ab52481d', '../src/3D/Texture/HalfFloatTexture.ts')\r\nexport class HalfFloatTexture extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.5, 4);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\r\n        this.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n        //\u6B63\u65B9\u4F53\r\n        var box: MeshSprite3D = (<MeshSprite3D>this.sprite3D.addChild(new MeshSprite3D(PrimitiveMesh.createBox(0.5, 0.5, 0.5))));\r\n        box.transform.position = new Vector3(0.0, 1.0, 2.5);\r\n        box.transform.rotate(new Laya.Vector3(0, 0, 0), false, false);\r\n        var material: BlinnPhongMaterial = new BlinnPhongMaterial();\r\n        material.albedoTexture = this.createHalfFloatTexture();\r\n        box.meshRenderer.sharedMaterial = material;\r\n    }\r\n\r\n    //\u521B\u5EFA\u534A\u6D6E\u70B9\u6570\u7EB9\u7406\r\n    createHalfFloatTexture(): Texture2D {\r\n        var texture: Texture2D = new Texture2D(64, 64, TextureFormat.R16G16B16A16, true, true);\r\n        var pixelData: Uint16Array = new Uint16Array(64 * 64 * 4);\r\n        var pixelIndex: number;\r\n        var step: number = 1.0 / 64;\r\n        for (var x: number = 0, n = 64; x < n; x++) {\r\n            for (var y: number = 0, m = 64; y < m; y++) {\r\n                pixelIndex = (x + y * 64) * 4;\r\n                pixelData[pixelIndex] = HalfFloatUtils.roundToFloat16Bits(1.0);\r\n                pixelData[pixelIndex + 1] = HalfFloatUtils.roundToFloat16Bits(x * step);\r\n                pixelData[pixelIndex + 2] = HalfFloatUtils.roundToFloat16Bits(y * step);\r\n                pixelData[pixelIndex + 3] = HalfFloatUtils.roundToFloat16Bits(1.0);\r\n            }\r\n        }\r\n        texture.setPixelsData(pixelData, false, false);\r\n        texture.filterMode = FilterMode.Bilinear;\r\n        return texture;\r\n    }\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\nimport Texture2D = Laya.Texture2D;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('773fb133-301c-42d7-9497-2c837fae0d70', '../src/3D/Texture/TextureDemo.ts')\r\nexport class TextureDemo extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n    private sprite3D: Sprite3D;\r\n\tprivate index: number = 0;\r\n\tprivate texture: Texture2D;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 1.5, 4);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\r\n\t\tthis.sprite3D = (<Sprite3D>this.scene.addChild(new Sprite3D()));\r\n\r\n\t\t//\u6B63\u65B9\u4F53\r\n\t\tvar box = this.sprite3D.addChild(new Laya.MeshSprite3D(Laya.PrimitiveMesh.createBox(0.5, 0.5, 0.5))) as Laya.MeshSprite3D;\r\n\t\tbox.transform.position = new Laya.Vector3(0.0, 1.0, 2.5);\r\n\t\tbox.transform.rotate(new Laya.Vector3(0, 0, 0), false, false);\r\n\t\t\r\n\t\tvar mater = new Laya.BlinnPhongMaterial();\r\n\t\tbox.meshRenderer.material = mater;\r\n\t\t\r\n\t\t//\u53EA\u80FD\u7528Laya.Texture2D.load\u8FD9\u79CD\u52A0\u8F7D\u4E2D\u7684\u65B9\u5F0F\u66F4\u6539\u8D34\u56FE\u5C5E\u6027\r\n\t\tLaya.Texture2D.load(\"resources/res/threeDimen/texture/layabox.png\", Laya.Handler.create(null, (texture:Laya.Texture2D)=> {\r\n\r\n\t\t\tthis.texture = texture;\r\n\t\t\t//\u5728U\u65B9\u5411\u4E0A\u4F7F\u7528WARPMODE_CLAMP\r\n\t\t\ttexture.wrapModeU = Laya.WrapMode.Clamp;\r\n\t\t\t//\u5728V\u65B9\u5411\u4F7F\u7528WARPMODE_REPEAT\r\n\t\t\ttexture.wrapModeV = Laya.WrapMode.Repeat;\r\n\t\t\t//\u8BBE\u7F6E\u8FC7\u6EE4\u65B9\u5F0F\r\n\t\t\ttexture.filterMode = Laya.FilterMode.Bilinear;\r\n\t\t\t//\u8BBE\u7F6E\u5404\u5411\u5F02\u6027\u7B49\u7EA7\r\n\t\t\ttexture.anisoLevel = 2;\r\n\t\t\t//\u8BBE\u7F6E\u6F2B\u53CD\u5C04\u8D34\u56FE\r\n\t\t\tmater.albedoTexture = texture;\r\n\t\t\t//\u4FEE\u6539\u6750\u8D28\u8D34\u56FE\u7684\u5E73\u94FA\u548C\u504F\u79FB\r\n\t\t\tmater.tilingOffset = new Laya.Vector4(2, 2, 0, 0);\r\n\r\n\t\t}));\r\n\t\t\r\n\t\tsuper.addBottomButton( [\"\u66F4\u6539WrapMode\",\"\u66F4\u6539WrapMode\",\"\u66F4\u6539WrapMode\"] , this, [this.setValue, this.setValue, this.setValue] );\r\n\t}\r\n\r\n\tsetValue() {\r\n\t\t\r\n\t\tthis.index++;\r\n\t\tif (this.index % 3 === 1) {\r\n\t\t\tthis.texture.wrapModeU = Laya.WrapMode.Repeat;\r\n\t\t\tthis.texture.wrapModeV = Laya.WrapMode.Clamp;\r\n\t\t}\r\n\t\telse if (this.index % 3 === 2) {\r\n\t\t\tthis.texture.wrapModeU = Laya.WrapMode.Repeat;\r\n\t\t\tthis.texture.wrapModeV = Laya.WrapMode.Repeat;\r\n\t\t}\r\n\t\telse {\r\n\t\t\tthis.texture.wrapModeU = Laya.WrapMode.Mirrored;\r\n\t\t\tthis.texture.wrapModeV = Laya.WrapMode.Mirrored;\r\n\t\t}\r\n\t}\r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport Vector3 = Laya.Vector3;\r\nimport Matrix4x4 = Laya.Matrix4x4;\r\n\r\nimport Handler = Laya.Handler;\r\nimport Browser = Laya.Browser;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('9fcfabed-2691-4ea7-94a5-1f271b7976c8', '../src/3D/Texture/TextureGPUCompression.ts')\r\nexport class TextureGPUCompression extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Scene3D;\r\n\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n\t\tthis.camera.transform.position = new Vector3(0, 2, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-15, 0, 0), true, false);\r\n\r\n\r\n\t\t//\u6B64\u573A\u666F\u4E2Dresources\\res\\CompressTexture\\Assets\\layabox.jpg \u57283.0IDE\u4E2D\u5DF2\u7ECF\u914D\u7F6E\u4E86Android\u548CiOS\u7684\u7EB9\u7406\u538B\u7F29\uFF0C\r\n\t\t//\u5728\u53D1\u5E03\u540E\u65F6\u4F1A\u81EA\u52A8\u751F\u6210\u4E0D\u540C\u5E73\u53F0\u7684\u7EB9\u7406\u538B\u7F29\u6587\u4EF6\uFF0C\u7528\u624B\u673A\u8BBF\u95EE\u793A\u4F8B\u65F6\u4F1A\u81EA\u52A8\u8BC6\u522B\u673A\u578B\u4E0B\u8F7D\u76F8\u5E94\u7684\u538B\u7F29\u6587\u4EF6\r\n\t\tScene3D.load(\"resources/res/CompressTexture/scene.ls\", Handler.create(this, (scene: Scene3D)=> {\r\n\t\t\t(<Scene3D>this.scene.addChild(scene));\r\n\t\t}));\r\n\t}\r\n\r\n \r\n}", "import { BaseScript } from \"../../BaseScript\";\r\n\r\nimport Scene3D = Laya.Scene3D;\r\nimport Camera = Laya.Camera;\r\nimport DirectionLight = Laya.DirectionLight;\r\nimport Vector3 = Laya.Vector3;\r\nimport CameraClearFlags = Laya.CameraClearFlags;\r\nimport Color = Laya.Color;\r\nimport Sprite3D = Laya.Sprite3D;\r\nimport TrailRenderer = Laya.TrailRenderer;\r\n\r\nconst { regClass, property } = Laya;\r\n\r\n@regClass('0af430ec-19bc-47db-b124-a00c2705b152', '../src/3D/Trail/TrailRender.ts')\r\nexport class TrailRender extends BaseScript {\r\n\r\n    @property(Laya.Camera)\r\n    private camera: Laya.Camera;  \r\n    @property(Laya.Scene3D)\r\n    private scene: Laya.Scene3D;\r\n\r\n    private directionLight: Laya.DirectionLight;\r\n\r\n    private trail: Sprite3D;\r\n    private trailRenderer: TrailRenderer;\r\n\tprivate index: number = 0;\r\n\r\n    constructor() {\r\n        super();\r\n    }\r\n\r\n    onAwake(): void {\r\n\r\n        super.base(this.camera);\r\n\r\n        this.camera.transform.position = new Vector3(0, 4, 5);\r\n\t\tthis.camera.transform.rotate(new Vector3(-45, 0, 0), true, false);\r\n        this.camera.clearFlag = CameraClearFlags.SolidColor;\r\n\r\n\t\t//\u8BBE\u7F6E\u5E73\u884C\u5149\u989C\u8272\r\n\t\tthis.directionLight = (this.scene.getChildByName(\"Direction Light\") as DirectionLight);\r\n\t\tthis.directionLight.color = new Color(1, 1, 1, 1);\r\n\t\tthis.directionLight.transform.rotate(new Vector3(-Math.PI / 3, 0, 0));\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/staticModel/grid/plane.lh\").then( (res)=> {\r\n\t\t\tthis.scene.addChild(res.create());\r\n\t\t});\r\n\r\n\t\tLaya.loader.load(\"resources/res/threeDimen/trail/Cube.lh\").then( (res)=> {\r\n\t\t\tthis.trail = this.scene.addChild(res.create());\r\n            this.trailRenderer = this.trail.getChildAt(0).getChildAt(0).getComponent(TrailRenderer);\r\n\t\t});\r\n\r\n        super.addBottomButton( [\"\u4FEE\u6539\u65F6\u95F4\",\"\u4FEE\u6539\u65F6\u95F4\"] , this, [this.change, this.change]);\r\n\t}\r\n\r\n\tchange(): void {\r\n\t\tthis.index++;\r\n\t\tif (this.index % 2 === 1) {\r\n\t\t\t//\u4FEE\u6539\u65F6\u95F4\r\n            this.trailRenderer.time = 10;\r\n                \r\n\t\t} else {\r\n\t\t\t//\u4FEE\u6539\u65F6\u95F4\r\n            this.trailRenderer.time = 1;\r\n\t\t}\r\n\t}    \r\n \r\n}"],
  "mappings": "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",
  "names": ["Stat", "Event", "Vector3", "regClass", "property", "regClass", "property", "SmallScene", "regClass", "property", "regClass", "property", "Sprite", "SpriteUtils", "Render", "Browser", "regClass", "property", "regClass", "property", "Sprite", "Event", "Browser", "Text", "regClass", "property", "Sprite", "Event", "regClass", "property", "Text", "Handler", "Browser", "SpriteUtils", "regClass", "property", "Sprite", "Event", "Text", "regClass", "property", "Sprite", "regClass", "property", "Sprite", "regClass", "property", "Sprite", "regClass", "property", "Animation", "regClass", "property", "regClass", "property", "Sprite", "Event", "Tween", "regClass", "property", "Sprite", "Event", "regClass", "property", "Sprite", "Event", "Text", "regClass", "property", "Sprite", "Event", "Ease", "Tween", "regClass", "property", "Event", "Text", "regClass", "property", "Sprite", "Event", "Text", "regClass", "property", "Sprite", "Event", "regClass", "property", "Sprite", "Event", "regClass", "property", "Sprite", "Event", "Tween", "regClass", "property", "Animation", "Sprite", "Event", "Text", "regClass", "property", "Loader", "regClass", "property", "Event", "Loader", "regClass", "property", "Handler", "regClass", "property", "Loader", "regClass", "property", "Event", "Text", "regClass", "property", "Event", "Text", "HttpRequest", "regClass", "property", "regClass", "property", "Event", "regClass", "property", "regClass", "property", "Sprite", "Loader", "regClass", "property", "Animation", "Sprite", "Stat", "Text", "regClass", "property", "Sprite", "Rectangle", "regClass", "property", "Event", "regClass", "property", "Sprite", "Event", "regClass", "property", "rj", "Sprite", "Event", "RigidBody", "ChainCollider", "Physics", "CircleCollider", "regClass", "property", "BoxCollider", "Sprite", "Event", "RigidBody", "ChainCollider", "MouseJoint", "PolygonCollider", "CircleCollider", "regClass", "property", "BoxCollider", "Sprite", "Event", "RigidBody", "ChainCollider", "RevoluteJoint", "Physics", "CircleCollider", "PolygonCollider", "Label", "regClass", "property", "BoxCollider", "Sprite", "Event", "RigidBody", "RevoluteJoint", "Label", "regClass", "property", "Sprite", "Event", "Text", "regClass", "property", "Sprite", "Event", "regClass", "property", "Sprite", "regClass", "property", "Sprite", "Point", "regClass", "property", "Sprite", "Event", "Handler", "regClass", "property", "Event", "regClass", "property", "Event", "regClass", "property", "Event", "Loader", "regClass", "property", "Sprite", "Event", "Handler", "Tween", "regClass", "property", "Event", "regClass", "property", "regClass", "property", "Event", "regClass", "property", "Sprite", "Byte", "Sprite", "Text", "regClass", "property", "Sprite", "regClass", "property", "regClass", "property", "Sprite", "regClass", "property", "Sprite", "regClass", "property", "Sprite", "regClass", "property", "Sprite", "regClass", "property", "regClass", "property", "Sprite", "regClass", "property", "Sprite", "Sprite", "regClass", "property", "Sprite", "Image", "Texture", "Button", "Event", "Browser", "regClass", "property", "regClass", "property", "Text", "regClass", "property", "Text", "regClass", "property", "Text", "regClass", "property", "regClass", "property", "regClass", "property", "Input", "regClass", "property", "Input", "regClass", "property", "Input", "regClass", "property", "Text", "regClass", "property", "Text", "Input", "regClass", "property", "Event", "Text", "regClass", "property", "regClass", "property", "Text", "regClass", "property", "Text", "regClass", "property", "Handler", "Rectangle", "regClass", "property", "Sprite", "Rectangle", "Point", "Handler", "TiledMap", "regClass", "property", "Rectangle", "Handler", "TiledMap", "regClass", "property", "Event", "Rectangle", "Handler", "TiledMap", "regClass", "property", "Text", "regClass", "property", "Sprite", "Event", "regClass", "property", "Text", "regClass", "property", "Label", "Sprite", "Event", "Input", "Handler", "Tween", "Text", "regClass", "property", "Ease", "Tween", "Text", "regClass", "property", "Sprite", "Tween", "regClass", "property", "Sprite", "Event", "regClass", "property", "Button", "regClass", "property", "regClass", "property", "Image", "Button", "regClass", "property", "Handler", "regClass", "property", "Handler", "regClass", "property", "Image", "Button", "regClass", "property", "regClass", "property", "Image", "regClass", "property", "regClass", "property", "Label", "regClass", "property", "List", "regClass", "property", "Image", "regClass", "property", "Handler", "regClass", "property", "regClass", "property", "Handler", "regClass", "property", "Handler", "regClass", "property", "Handler", "regClass", "property", "regClass", "property", "Label", "Box", "Clip", "regClass", "property", "Item", "_Item", "GlassShader_default", "GlassShader_default", "BlurDownSample_default", "BlurDownSample_default", "regClass", "property", "DepthTextureTest_default", "DepthTextureTest_default", "DepthNormalsTextureTest_default", "DepthNormalsTextureTest_default", "Vector3", "regClass", "property", "Event", "regClass", "property", "customInstance_default", "customInstance_default", "Vector3", "Quaternion", "Vector4", "regClass", "property", "Vector4", "regClass", "property", "Vector3", "regClass", "property", "Vector3", "SpriteUtils", "regClass", "property", "regClass", "property", "Vector3", "InputManager", "Image", "Handler", "Sprite", "RenderTargetFormat", "Texture", "Keyboard", "Label", "regClass", "property", "regClass", "property", "SeparableSSS_GasBlur_default", "Vector3", "Vector4", "SeparableSSS_GasBlur_default", "i", "t", "SeparableSSS_Render_default", "Material", "ShaderDataType", "Shader3D", "RenderState", "SubShader", "VertexMesh", "Vector4", "SeparableSSS_Render_default", "Shader3D", "Vector4", "RenderTexture", "RenderTargetFormat", "Color", "regClass", "property", "Vector3", "regClass", "property", "Sprite3D", "Loader", "regClass", "property", "Resource", "Camera", "MeshRenderer", "RenderTexture", "RenderTargetFormat", "Vector3", "Color", "Vector4", "regClass", "property", "Sprite3D", "Vector3", "Text", "Button", "Event", "regClass", "property", "Sprite3D", "Vector3", "Animator", "AnimatorState", "Text", "regClass", "property", "Sprite3D", "Vector3", "Animator", "Quaternion", "AnimatorState", "Handler", "Loader", "Button", "Event", "regClass", "property", "Animator", "AnimatorState", "regClass", "property", "Animator", "regClass", "property", "Animator", "AnimatorState", "regClass", "property", "Vector3", "Animator", "Loader", "regClass", "property", "Text", "Handler", "Event", "regClass", "property", "Vector3", "BlinnPhongMaterial", "Loader", "regClass", "property", "Sprite3D", "MeshSprite3D", "Vector3", "Quaternion", "regClass", "property", "Sprite3D", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "PrimitiveMesh", "CameraClearFlags", "Loader", "regClass", "property", "Sprite3D", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "PrimitiveMesh", "regClass", "property", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Event", "PrimitiveMesh", "Vector4", "Vector2", "regClass", "property", "regClass", "property", "Camera", "Vector3", "CameraClearFlags", "SkyBox", "Color", "regClass", "property", "Vector3", "CameraClearFlags", "regClass", "property", "Vector3", "Text", "RenderTargetFormat", "RenderTexture", "Ray", "regClass", "property", "Sprite3D", "MeshSprite3D", "Vector3", "Event", "Text", "Quaternion", "Vector2", "Ray", "MeshFilter", "PhysicsCollider", "Loader", "regClass", "property", "Vector3", "Text", "Vector2", "Label", "regClass", "property", "Vector3", "Quaternion", "regClass", "property", "Vector3", "regClass", "property", "Vector3", "Quaternion", "PointLight", "Color", "regClass", "property", "MeshSprite3D", "Vector3", "PrimitiveMesh", "Loader", "regClass", "property", "Vector3", "Color", "regClass", "property", "mat", "MeshRenderer", "ShadowMode", "SpotLight", "regClass", "property", "MeshSprite3D", "Vector3", "Quaternion", "regClass", "property", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "PrimitiveMesh", "regClass", "property", "MeshRenderer", "Sprite3D", "Vector3", "regClass", "property", "Vector3", "regClass", "property", "i", "material", "MeshRenderer", "Vector3", "Color", "Loader", "regClass", "property", "MeshSprite3D", "Vector3", "PrimitiveMesh", "CameraClearFlags", "Color", "regClass", "property", "MeshRenderer", "PBRStandardMaterial", "Loader", "regClass", "property", "MeshSprite3D", "Vector3", "PrimitiveMesh", "PBRStandardMaterial", "Color", "regClass", "property", "MeshSprite3D", "Vector3", "PrimitiveMesh", "PBRStandardMaterial", "Color", "regClass", "property", "Material", "MeshRenderer", "Vector3", "RenderTargetFormat", "Loader", "Color", "UnlitMaterial", "RenderState", "regClass", "property", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "PrimitiveMesh", "UnlitMaterial", "CameraClearFlags", "regClass", "property", "Sprite3D", "Vector3", "regClass", "property", "Vector3", "PrimitiveMesh", "MeshFilter", "regClass", "property", "Sprite3D", "MeshSprite3D", "Vector3", "PrimitiveMesh", "Color", "regClass", "property", "Sprite3D", "MeshSprite3D", "Vector3", "Quaternion", "PrimitiveMesh", "Color", "PixelLineSprite3D", "regClass", "property", "MeshLoad", "Tool", "_Tool", "CameraClearFlags", "Color", "regClass", "property", "CameraClearFlags", "Color", "ShurikenParticleRenderer", "regClass", "property", "Matrix4x4", "PrimitiveMesh", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "regClass", "property", "regClass", "property", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "Event", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "HitResult", "Vector2", "Rigidbody3D", "Ray", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "Vector3", "regClass", "property", "Color", "InputManager", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CapsuleColliderShape", "CylinderColliderShape", "Rigidbody3D", "ConeColliderShape", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "Color", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "regClass", "property", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "regClass", "property", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "InputManager", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CapsuleColliderShape", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "MeshColliderShape", "Loader", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CapsuleColliderShape", "Color", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "regClass", "property", "Color", "Button", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CapsuleColliderShape", "HitResult", "Rigidbody3D", "Ray", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Event", "PixelLineSprite3D", "regClass", "property", "Color", "InputManager", "SphereColliderShape", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "CapsuleColliderShape", "Rigidbody3D", "PrimitiveMesh", "BoxColliderShape", "PhysicsCollider", "Vector4", "regClass", "property", "Scene3D", "Handler", "regClass", "property", "Vector3", "Loader", "regClass", "property", "Resource", "Vector3", "Loader", "regClass", "property", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Quaternion", "PrimitiveMesh", "SkyBox", "regClass", "property", "regClass", "property", "regClass", "property", "regClass", "property", "Blur_default", "BlurHorizontal_default", "BlurVertical_default", "BlurDownSample_default", "BlurDownSample_default", "EdgeAdd_default", "EdgeSub_default", "CameraClearFlags", "Material", "FilterMode", "RenderTargetFormat", "Shader3D", "ShaderDataType", "Vector4", "RenderTexture", "RenderState", "SubShader", "VertexMesh", "regClass", "property", "BlurEffect", "_BlurEffect", "BlurDownSample_default", "Blur_default", "BlurVertical_default", "BlurHorizontal_default", "EdgeSub_default", "EdgeAdd_default", "_BlurMaterial", "BlurMaterial", "PostProcessEffect", "DepthTextureMode", "FilterMode", "RenderTargetFormat", "Shader3D", "ShaderDataType", "LayaGL", "Vector4", "RenderTexture", "SubShader", "VertexMesh", "MeshSprite3D", "Vector3", "Color", "Quaternion", "Event", "HSlider", "PrimitiveMesh", "Button", "Handler", "regClass", "property", "EdgeMode", "regClass", "property", "DirectionLight", "Material", "MeshSprite3D", "Vector3", "PrimitiveMesh", "Shader3D", "regClass", "property", "MeshSprite3D", "Vector3", "Material", "Shader3D", "Color", "ShaderDataType", "SubShader", "RenderState", "regClass", "property", "MeshSprite3D", "Vector3", "Quaternion", "SubShader", "MeshRenderer", "Shader3D", "Material", "regClass", "property", "MeshSprite3D", "Vector3", "CameraClearFlags", "SkyBox", "PBRStandardMaterial", "regClass", "property", "Sprite3D", "MeshSprite3D", "Vector3", "PrimitiveMesh", "AmbientMode", "Color", "PBRStandardMaterial", "regClass", "property", "regClass", "property", "regClass", "property", "Vector3", "regClass", "property", "Vector3", "CameraClearFlags", "regClass", "property", "Vector3", "InputManager", "Text", "Event", "regClass", "property", "RotationScript", "_RotationScript", "Vector3", "InputManager", "Script3D", "Text", "Event", "regClass", "property", "RotationScript", "_RotationScript", "Vector3", "InputManager", "Script3D", "Text", "Event", "regClass", "property", "RotationScript", "_RotationScript", "Sprite3D", "MeshSprite3D", "Vector3", "PrimitiveMesh", "Color", "PixelLineSprite3D", "regClass", "property", "Tool", "_Tool", "Vector3", "regClass", "property", "Vector3", "regClass", "property", "Vector3", "regClass", "property", "Vector3", "Handler", "Button", "Event", "regClass", "property", "Sprite3D", "Vector3", "regClass", "property", "MeshSprite3D", "Vector3", "PrimitiveMesh", "MeshRenderer", "UnlitMaterial", "Browser", "regClass", "property", "MeshSprite3D", "Vector3", "PrimitiveMesh", "MeshRenderer", "UnlitMaterial", "Browser", "regClass", "property", "Sprite3D", "MeshSprite3D", "Vector3", "BlinnPhongMaterial", "Texture2D", "PrimitiveMesh", "FilterMode", "TextureFormat", "regClass", "property", "Sprite3D", "Vector3", "regClass", "property", "Scene3D", "Vector3", "Handler", "regClass", "property", "Vector3", "CameraClearFlags", "Color", "regClass", "property"]
}
